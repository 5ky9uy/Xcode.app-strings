#! /bin/sh
# AskUserForStringDialog - Asks the user for a string using a modal dialog 
#                          and prints out the entered text
#     Optional argument is initial contents of text field in dialog
#     and the prompt to use.
if [ $# -gt 0 ] ; then
    DEFAULT_ANSWER="default answer \"$1\""
else
    DEFAULT_ANSWER=""
if [ $# -gt 1 ] ; then
PROMPT="\"$2\""
else
PROMPT="\"Enter your name\""
osascript << ENDOFSCRIPT
to getNameOfFrontProcess()
    tell application "System Events"
        set pairs to {name, frontmost} of every process
    end tell
    repeat with p from 1 to count item 1 of pairs
        if item p of item 2 of pairs then return (item p of item 1 of pairs) as string
    end repeat
end getNameOfFrontProcess
tell application (my getNameOfFrontProcess())
    display dialog ${PROMPT} ${DEFAULT_ANSWER}
end tell
if button returned of the result is "OK" then
    text returned of the result
end if
ENDOFSCRIPT
