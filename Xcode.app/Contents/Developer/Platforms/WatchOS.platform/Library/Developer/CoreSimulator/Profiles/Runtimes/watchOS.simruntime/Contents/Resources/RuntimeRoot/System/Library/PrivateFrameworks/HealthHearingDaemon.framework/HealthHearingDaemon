@(#)PROGRAM:HealthHearingDaemon  PROJECT:Hearing-1
?333333
?333333
HDHeadphoneExposureSampleBatch.m
Invalid parameter not satisfying: %@
anchor == nil
anchor != nil
B16@?0@"HKQuantitySample"8
samples
T@"NSArray",&,N,V_samples
journaled
TB,N,GisJournaled,V_journaled
anchor
T@"NSNumber",&,N,V_anchor
canTriggerUserNotification
TB,N,V_canTriggerUserNotification
q40@?0@"HDDatabaseMigrator"8@"HDDatabaseMigrationTransaction"16q24^@32
CREATE INDEX IF NOT EXISTS hearing_headphone_audio_exposure_statisitcs_start ON _headphone_audio_exposure_statistics (start_date);
CREATE INDEX IF NOT EXISTS hearing_headphone_audio_exposure_statisitcs_end ON _headphone_audio_exposure_statistics (end_date);
DROP TABLE IF EXISTS hearing_headphone_audio_exposure_data;
DELETE FROM hearing_headphone_audio_exposure_statistics;
DELETE FROM key_value WHERE domain='Hearing' and key='_LargestSevenDayDoseToday';
DELETE FROM key_value WHERE domain='Hearing' and key in ('_LargestRecentSevenDayDose', '_ShouldRebuildSevenDayDoseStatistics', '_ShouldRebuildLargestRecentSevenDayDose');
hash
TQ,R
superclass
T#,R
description
T@"NSString",R,C
debugDescription
currentSchemaVersion
Tq,R,N
databaseEntities
T@"NSArray",R,C,N
includedSeries
TB,R,N,V_includedSeries
canTriggerNotification
TB,R,N,V_canTriggerNotification
headphone-dose-manager
stats
HAEN Enabled:
Current Dose:
Accumulated Dose:
 Not Yet Determined
Accumulated Dose:
 %.2f%%
v16@?0d8
dose updated, user NOT notified
dose updated, user notified
v16@?0@"NSError"8
v16@?0@"<HDHeadphoneDoseManagerObserver>"8
%@-%@
SignificantTimeChangeNotification
unitTesting_didUpdateDose
T@?,C,N,V_unitTesting_didUpdateDose
unitTesting_didNotifyUser
T@?,C,N,V_unitTesting_didNotifyUser
pluginIdentifier
T@"NSString",R,C,N
schemaName
syncSchemaIdentifier
B16@?0@"HDHeadphoneAudioExposureStatisticsBucket"8
missing all buckets
v32@?0@"HDHeadphoneAudioExposureStatisticsBucket"8Q16^B24
q24@?0@"HDHeadphoneAudioExposureStatisticsBucket"8@"HDHeadphoneAudioExposureStatisticsBucket"16
@16@?0@"HDHeadphoneAudioExposureStatisticsBucket"8
dirty
TB,N,GisDirty,V_dirty
HKStatistics+HealthHearingDaemon.mm
statistics
invalid quantityType
quantityType mismatch
averageQuantity
duration
primaryCalculator
journaledCalculator
startDate
earliestStartDate
boundedInterval
previousStatistics
includesPrunableData
Locked (Data Inaccessible)
query dose failed %@
compute statistics failed %@
compute dose failed %@
%.2f%%
HDHeadphoneAudioExposureStatisticsBucket.m
primaryCalculator.quantityType.code == _HKDataTypeHeadphoneAudioExposure
primaryCalculator.dateInterval
primaryCalculator.dataSource == nil
primaryCalculator.sourceOrderProvider == nil
journaledCalculator.quantityType.code == _HKDataTypeHeadphoneAudioExposure
[journaledCalculator.dateInterval isEqualToDateInterval:primaryCalculator.dateInterval]
journaledCalculator.dataSource == nil
journaledCalculator.sourceOrderProvider == nil
unable compute primary statistics
unable compute journaled statistics
unable to add samples without primary caclulator
_dataSource && _sourceOrderProvider
_primaryCalculator.dataSource == _dataSource
_primaryCalculator.sourceOrderProvider == _sourceOrderProvider
Something went wrong with the calculator and we were unable to compute current statistics.
B32@?0@"HKObject"8q16^@24
T@"HDStatisticsCollectionCalculator",R,N,V_primaryCalculator
T@"HDStatisticsCollectionCalculator",R,N,V_journaledCalculator
T@"NSDate",R,N,V_startDate
T@"NSDate",R,N,V_earliestStartDate
TB,R,N,V_boundedInterval
T@"NSNumber",R,N,V_anchor
T@"HKStatistics",&,N,SunitTesting_setPreviousStatistics:,V_previousStatistics
TB,N,SunitTesting_setIncludesPrunableData:,V_includesPrunableData
dateInterval
T@"NSDateInterval",R,N
includesJournaledSamples
TB,R,N
hasPreviousStatistics
T@"HKStatistics",R,N,V_statistics
TB,R,N,V_includesPrunableData
NSDateInterval+HealthHearingDaemon.m
endDate
nowDate
dateInterval.duration == HDHeadphoneExposureSevenDayDoseInterval
HDHeadphoneAudioExposureStatisticsSyncEntity.m
%@ does not support decoding sync object data
syncEntityIdentifier
T@"HDSyncEntityIdentifier",R,C,N
start_date
end_date
archived_statistics
%@_headphone_audio_exposure_statistics
ROWID
INTEGER PRIMARY KEY AUTOINCREMENT
REAL NOT NULL
BLOB NOT NULL
start
v16@?0^{HDSQLiteStatementBinder=}8
B40@?0q8@"NSArray"16^{HDSQLiteRow=}24^@32
B24@?0@"HDDatabaseTransaction"8^@16
v24@?0@"NSArray"8^{HDSQLiteRow=}16
HDHeadphoneAudioExposureStatisticsEntity.m
Statistics bucket's startDate did not match the entity's start_date.
Statistics bucket's endDate did not match the entity's end_date.
B32@?0@"NSArray"8^{HDSQLiteRow=}16^@24
Hearing
hearing
com.apple.healthd.hearing.sync-schema
_HAEStatisticsManagerCacheRebuildOperation
headphone-audio-exposure-statistics-manager-synchronous
headphone-audio-exposure-statistics-manager
v8@?0
added
v52@?0@"HKQuantity"8@"HKQuantityType"16@"NSDateInterval"24@"HKQuantitySample"32@"NSNumber"40B48
prune
before launching healthd or first unlock
while healthd is running.
HDHeadphoneAudioExposureStatisticsManager.m
!_enabled && !wasEnabled && !_setupInitiated
v16@?0@?<v@?>8
B16@?0@"HDHeadphoneExposureSampleBatch"8
_memoryCache
setup
added (anchor: %@)
!resetDoseToZero || (resetDoseToZero && allowInitialQueriesToFail)
7-Day HAEN Feature Disabled
B16@?0^@8
rebuild
cannot flush pending samples without memory cache.
insert
v16@?0@"<HDHeadphoneAudioExposureStatisticsManagerObserver>"8
unitTesting_daemonDidBecomeReady
T@?,C,N,V_unitTesting_daemonDidBecomeReady
unitTesting_didUpdatePreviousSevenDayNotificationFireDate
T@?,C,N,V_unitTesting_didUpdatePreviousSevenDayNotificationFireDate
Cannot Send 7-Day HAEN: Platform Not Supported
HAEN HKCategorySample Inserted
v20@?0B8@"NSError"12
headphoneKeyValueStore
T@"HDHeadphoneDoseMetadataStore",R,N,V_headphoneKeyValueStore
headphoneStatisticsManager
T@"HDHeadphoneAudioExposureStatisticsManager",R,N,V_headphoneStatisticsManager
headphoneDoseManager
T@"HDHeadphoneDoseManager",R,N,V_headphoneDoseManager
analyticsDataProvider
T@"<HDAudioAnalyticsDataProvider>",R,W,N,V_analyticsDataProvider
status
Tq,R,N,V_status
error
T@"NSError",R,N,V_error
_PreviousSevenDayHeadphoneExposureNotificationFireDate
_ShouldRebuildSevenDayHeadphoneExposureStatistics
_ShouldRebuildPreviousSevenDayHeadphoneExposureNotification
_SevenDayHeadphoneExposureDoseNotificationThreshold
Feature Disabled: 7-Day HAEN
sample
Recent 7-Day HAEN:
 None
Recent 7-Day HAEN:
 Error (%@)
Recent 7-Day HAEN:
FireDate:
  %@
7-Day Dose:
  %@
Accumulated Dose: %@
%.2f%% (Override)
%.2f%% (Default)
[Current] %.2f%%
 [After Reboot] %@
[Current] %.2f%%
 [Invalid] %@
%.2f%% (%@)
Override
Default
fetch previous HAEN before %@ failed: %@
HDHeadphoneDoseMetadataStore.m
fireDate
Dose Limit %.2f%% is outside the range %.2f%% - %.2f%% (Default: %.2f%%)
com.apple.health.hearing
environmentalSoundExposure7DayLEQ
hasEligableWatchPaired
hasHeadphoneAudioExposureEnabled
hasHeadphoneAudioExposureOtherEnabled
hasNoiseNotificationsEnabled
headphoneSoundExposure7DayDosePercentage
headphoneAudioExposure7DayDuration
headphoneAudioExposure7DayLEQ
environmentalSoundExposure7DayDuration
hasEnvironmentalNoiseEnabled
com.apple.coreaudio
EnableHAEHKWrite
EnableHAEOtherDevices
HDAudioAnalyticsManager.queue
com.apple.healthd.hearing.HDAudioAnalyticsCalculator
Unknown audio exposure type
@"NSDictionary"8@?0
F5C2DAD0-38FB-4B3B-86D3-B264F4F8CBDA
profile
T@"HDProfile",R,W,N,V_profile
calculationPeriod
Td,R,N,V_calculationPeriod
retryPeriod
Td,R,N,V_retryPeriod
periodicActivity
T@"HDPeriodicActivity",&,N,V_periodicActivity
queue
T@"NSObject<OS_dispatch_queue>",R,N,V_queue
calculator
T@"HDAudioAnalyticsCalculator",R,N,V_calculator
Watch1,2
Fake Person's Watch
AAAAAAAA-AAAA-AAAA-AAAA-AAAAAAAAAAAA
com.apple.health.demo_watch
AirPods
Apple, Inc.
AirPods 1,1
EarPods
EarPods 1,1
Powerbeats Pro
Beats By Dre
Powerbeats Pro 1,1
Foo, Inc.
FooPods 1,1
Failed to compute current dose error: %@.
Updating dose from from %{private}.2f%% to %{private}.2f%%
Successfully posted 7-Day HAE Notification.
Unable to post 7-Day HAE Notification: %@
Failed to post 7-Day HAE Notification: %@
Marking doseLimit as needing rebuild on next unlock.
Failed to request doseLimit rebuild on next unlock after posting notification. %@
Notify observers dose updated to %{private}.2f%% (reason: %{public}@)
Using default HAE collection interval.
Computed HAE collection interval (%f) is too frequent so using default instead.
Requesting custom HAE collection interval: %f
Recomputing dose due to significant time change.
Refusing to prune last bucket from memory cache.
Unable to request rebuild after partially apply sample batch to calculator.
Failed to compute current statistics: %@
unable compute journaled statistics
Added %lu HAE quantity samples without an anchor!
Incoming HAE sample %@ has invalid metadata: %{public}@
[Warning] Adding %lu samples with anchor (%{public}@) below currentAnchor (%{public}@).
Added %lu sample(s) to primary calculator (anchor: %{public}@ -> %{public}@)
Invalidated journaled calculator on %lu samples added (anchor: %{public}@ -> %{public}@)
Querying initial HAE statistics for bucket interval: %{time_t}ld to %{time_t}ld
Queried initial anchor %{public}@ for HAE statistics in bucket interval: %{time_t}ld to %{time_t}ld
earliestStartDate (%@) is more than 169 hours past startDate (%@)
[%{public}@] Rebuild statistics cache operation invoked
[%{public}@] Daemon ready; Dispatch setup to maintenance queue.
[%{public}@] Protected data available: %{public}@.
[%{public}@] Unable to fetch shouldRebuild flag for Previous 7-Day HAEN FireDate: %@
[%{public}@] HAEN samples were removed, requesting rebuild.
[%{public}@] HAE samples were removed, requesting rebuild.
[%{public}@] Ignoring %llu %{public}@ HAE sample(s) since HAEN Feature is disabled
[%{public}@] Inserted %ld %{public}@ samples
[%{public}@] Applying %ld %{public}@ samples
[%{public}@] Applied %ld %{public}@ samples
[%{public}@] Rebuilding statistics.
%{public}@: unable to take accessibility assertion: %{public}@
[%{public}@] User has ENABLED Headphone Exposure Notifications %{public}@
[%{public}@] User has re-ENABLED Headphone Exposure Notifications while healthd is running.
[%{public}@] User has DISABLED Headphone Exposure Notifications while healthd is running.
[%{public}@] User has DISABLED Headphone Exposure Notifications before launching healthd
[%{public}@] No changes to Headphone Exposure Notifications setting occurred.
[%{public}@] Resetting 7-day headphone stats for next notification.
[%{public}@] Unable to rebuild statistics after 7-day notification fired: %@
[%{public}@] Performing initial rebuild with assertion %{public}@.
[%{public}@] Error during initial rebuild: %{public}@
[%{public}@] Unable to load rebuild flag due to error (defaulting to YES): %@
[%{public}@] Priming: protected data available; rebuilding.
[%{public}@] Priming: protected data unavailable; loading statistics from disk.
[%{public}@] Priming failed: protected data available; rebuilding.
[%{public}@] Priming Failed (success: %d, memory cache exists: %d).
[%{public}@] Successfully setup statistics manager's memory cache.
[%{public}@] Checking if rebuild is needed...
[%{public}@] No rebuild is needed.
[%{public}@] Error rebuilding cache: %{public}@
[%{public}@] Error updating HAE statistics cache: %{public}@
[%{public}@] Ignoring %llu %{public}@ HAEN sample(s) since HAEN Feature is disabled.
[%{public}@] %llu HAEN sample(s) %{public}@
Unable to update Previous 7-Day Notification FireDate: %@
[%{public}@] Rebuilding 7-Day HAE Statistics.
[%{public}@] Unable to optimistically rebuild Previous 7-Day HAEN FireDate: %@
[%{public}@] Resetting %llu buckets after initial query failure: %@.
[%{public}@] Reset dose to zero without HAEN fire date is unsupported.
[%{public}@] No dose to reset since HAEN arrived before initial setup.
[%{public}@] Failed to update buckets to exclude additional historical HAE datums while preserving existing: %@.
[%{public}@] Adding updates to queue for replay after initial rebuild.
[%{public}@] Dispatching statistics cache rebuild operation (%@).
[%{public}@] Executing statistics cache rebuild operation (%@).
[%{public}@] Failed to request 7-Day HAE rebuild: %@
[%{public}@] Failed to request Previous 7-Day HAEN Fire Date rebuild: %@
Notify observers dose statistics changed (reason: %{public}@, suppressUserNotification: %{public}@).
Successfully saved 7-Day HAEN HKCategorySample.
Failure to save 7-Day HAEN HKCategorySample: %@
Successfully synced 7-Day HAEN HKCategorySample.
Failure to sync 7-Day HAEN HKCategorySample: %@
Failure to create 7-Day HAEN HKCategorySample from statistics: %@
[%{public}@] Plugin loaded
Unable to read value for AppleInternal key %{public}@
Reset doseLimit back to default value.
Read invalid value for AppleInternal key %{public}@, using default %.2f%% instead of %.2f%%
Rebuild largest recent dose is not needed yet.
Rebuilding Previous 7-day HAEN Fire Date.
Cleared Previous 7-day HAEN Fire Date, no recent HAENs.
Updated Previous 7-day HAEN Fire Date to %@.
Ignoring fetched HAEN ending %f seconds in the future.
Ignoring incoming HAEN ending %f seconds in the future.
Error creating watch source entity %{public}@
Error creating headphone device entity %{public}@
zPLR
zPLR
zPLR
zPLR
zPLR
HDHeadphoneExposureSampleBatch
HDHearingPluginUnprotectedDatabaseSchema
HDHearingPluginDatabaseSchema
NSObject
HDHeadphoneExposureStatisticUpdateResult
HealthHearingDaemon
HDHeadphoneDoseManager
HDHeadphoneAudioExposureStatisticsManagerObserver
HDHearingPlugin
HDPlugin
HDDatabaseSchemaProvider
HDSyncEntityProvider
HDTaskServerClassProvider
HDHeadphoneAudioExposureCalculatorCache
HDHeadphoneAudioExposureStatisticsBucket
HDHeadphoneAudioExposureStatisticsSnapshot
HDHeadphoneAudioExposureStatisticsSyncEntity
HDSyncEntity
0 0@
HDHeadphoneAudioExposureStatisticsEntity
HDHeadphoneAudioExposureStatisticsManager
HDHealthDaemonReadyObserver
HDDataObserver
HDQuantitySeriesObserver
HDDatabaseProtectedDataObserver
HDHeadphoneExposureNotificationCenter
HDHearingProfileExtension
HDProfileExtension
HDHearingPluginProtectedDatabaseSchema
HDAudioAnalyticsCalculator
HDAudioAnalyticsResult
HDHeadphoneDoseMetadataStore
HDAudioAnalyticsManager
HDPeriodicActivityDelegate
HDAudioAnalyticsDataProvider
HDHeadphoneAudioExposureControlServer
HDDiagnosticObject
HKHeadphoneAudioExposureControlServer
_initWithSamples:journaled:anchor:
currentHandler
handleFailureInMethod:object:file:lineNumber:description:
init
copy
hk_canTriggerHeadphoneExposureNotification
hk_containsObjectPassingTest:
batchWithJournaledSamples:
batchWithAddedSamples:anchor:
samples
setSamples:
isJournaled
setJournaled:
anchor
setAnchor:
canTriggerUserNotification
setCanTriggerUserNotification:
.cxx_destruct
_journaled
_canTriggerUserNotification
_samples
_anchor
arrayWithObjects:count:
unprotectedDatabase
executeSQLStatements:error:
addMigrationForSchema:toVersion:foreignKeyStatus:handler:
executeUncachedSQL:error:
isEqual:
class
self
performSelector:
performSelector:withObject:
performSelector:withObject:withObject:
isProxy
isKindOfClass:
isMemberOfClass:
conformsToProtocol:
respondsToSelector:
retain
release
autorelease
retainCount
zone
hash
superclass
description
debugDescription
registerMigrationStepsForSchemaName:migrator:
currentSchemaVersion
databaseEntities
_resultWithIncludedSeries:canTriggerNotification:
_resultWithIncludedSeries:samples:
includedSeries
canTriggerNotification
countByEnumeratingWithState:objects:count:
_initWithIncludedSeries:canTriggerNotification:
resultForEmptySamplesAdded
resultForAggregation
resultForSamplesAdded:includedSeries:
resultForSamplesJournaled:
combineWithResult:
_includedSeries
_canTriggerNotification
count
addValuesForQuantitySamples:calculator:includeSeries:error:
hh_addQuantitySamples:calculator:error:
_initWithProfile:keyValueStore:statisticsManager:observers:
initWithName:loggingCategory:
registerObserver:
initWithProfile:
registerObserver:queue:
_registerForSignificantTimeChangeNotification
_unregisterForSignificantTimeChangeNotification
unregisterObserver:
invalidate
dealloc
_lock_updateCurrentDoseUsingCache:suppressUserNotification:error:
_lock_rebuildWithError:
_currentDoseStringForEndDate:earliestStartDate:profile:
isHeadphoneExposureNotificationsEnabled
appendFormat:
_info
appendString:
rebuildPreviousSevenDayNotificationFireDateWithError:
_rebuildWithError:
snapshotStatisticsForNowDate:error:
statistics
hk_hearingSevenDayDosePercentageWithError:
doubleValue
_lock_updateCollectionAssertionForDoseAccumulated:
shouldNotifyUserForAccumulatedDose:
_lock_notifyObserversWithDose:reason:
hk_isSimulatorNotSupportedError
hk_isFeatureDisabledError
unitTesting_shouldSimulateWritingNotificationSamples
_unitTesting_simulateWriteSevenDayDoseSampleWithSnapshot:now:
isDirty
_setShouldRebuildPreviousSevenDayNotification:error:
postSevenDayDoseNotification:nowDate:completion:
headphoneDoseManager:didUpdateDose:
notifyObservers:
collectionIntervalForDoseAccumulated:
_lock_setCollectionAssertion:
UUID
UUIDString
stringWithFormat:
setWithObject:
dataCollectionObserverStateInBackground:hasRunningWorkout:
dataCollectionManager
takeCollectionAssertionWithOwnerIdentifier:sampleTypes:observerState:collectionInterval:
defaultCenter
_handleSignificantTimeChangeNotification:
addObserver:selector:name:object:
removeObserver:name:object:
_dispatchRebuildImmediatelyIfPossible
headphoneAudioExposureStatisticsManager:didUpdateCache:suppressUserNotification:
initWithProfile:keyValueStore:statisticsManager:
_infoWithError:
unitTesting_didUpdateDose
setUnitTesting_didUpdateDose:
unitTesting_didNotifyUser
setUnitTesting_didNotifyUser:
_profile
_dose
_lock
_observers
_keyValueStore
_notificationCenter
_statisticsManager
_collectionAssertion
_lastUpdateSuppressedUserNotification
_unitTesting_didUpdateDose
_unitTesting_didNotifyUser
_databaseSchemaForProtectionClass:
schemaName
extensionForHealthDaemon:
extensionForProfile:
pluginIdentifier
shouldLoadPluginForDaemon:
currentSchemaVersionForProtectionClass:
databaseEntitiesForProtectionClass:
registerMigrationStepsForProtectionClass:migrator:
orderedSyncEntities
syncSchemaIdentifier
taskServerClasses
insertBuckets:
copyWithEarliestStartDate:resetDoseToZero:error:
addObject:
initWithBuckets:
_lock_snapshotStatisticsForNowDate:error:
dateInterval
containsDate:
hk_firstObjectPassingTest:
lastObject
hk_assignError:code:format:
snapshotStatisticsWithError:
removeAllObjects
isExpiredForNowDate:
addIndex:
enumerateObjectsUsingBlock:
removeObjectsAtIndexes:
addObjectsFromArray:
endDate
compare:
startDate
sortUsingComparator:
_lock_updateWithSampleBatch:error:
updateWithSampleBatch:error:
hk_map:
clear
pruneWithNowDate:
_updateWithSampleBatch:needsRebuild:error:
_bucketsWithEarliestStartDate:resetDoseToZero:error:
_unitTesting_snapshotBuckets
setDirty:
_storage
_dirty
quantityType
hk_assignError:code:description:
_initWithDataType:startDate:endDate:
decibelAWeightedSoundPressureLevelUnit
quantityWithUnit:doubleValue:
setAverageQuantity:
secondUnit
setDuration:
statisticsByCombiningWithNoiseLevelStatistics:error:
hk_safeValueForKeyPath:class:error:
doubleValueForUnit:
_makeBucketsForNowDate:earliestStartDate:profile:
initWithCapacity:
dateByAddingTimeInterval:
_initWithProfile:startDate:earliestStartDate:boundedInterval:
queryForInitialStatisticsWithError:
hk_isDatabaseAccessibilityError
calculatorForQuantityType:intervalCollection:options:mergeStrategy:
initForProfile:quantityType:predicate:restrictedSourceEntities:
setIncludeUnfrozenSeries:
initWithProfile:quantityType:
_makePrimaryCalculator
_makeDataSourceWithProfile:
_makeSourceOrderProviderWithProfile:
setDataSource:
setSourceOrderProvider:
hd_hearingSevenDayLimitIntervalWithStartDate:earliestStartDate:boundedInterval:
setDateInterval:
code
dataSource
sourceOrderProvider
isEqualToDateInterval:
_lock_copyWithEarliestStartDate:resetDoseToZero:error:
hk_isAfterDate:
profile
_lock_currentStatisticsWithError:
_lock_archivedRepresentationWithError:
initRequiringSecureCoding:
encodeObject:forKey:
encodeBool:forKey:
finishEncoding
encodedData
initForReadingFromData:error:
decodeObjectOfClass:forKey:
error
finishDecoding
decodeBoolForKey:
_initWithProfile:primaryCalculator:journaledCalculator:startDate:earliestStartDate:boundedInterval:anchor:previousStatistics:includesPrunableData:
_lock_dateInterval
initWithStatistics:includesPrunableData:
currentStatistics
hk_isBeforeDate:
_lock_queryForInitialStatisticsWithError:
_lock_journalQuantitySamples:error:
_lock_addQuantitySamples:anchor:error:
metadata
hk_safeNumberIfExistsForKeyPath:error:
boolValue
_makeJournaledCalculator
longLongValue
timeIntervalSince1970
_lock_fetchIncludesPrunableDataWithError:
metadataManager
predicateWithMetadataKey:allowedValues:
predicateMatchingAllPredicates:
entityEnumeratorWithType:profile:
setIgnoreEntityClassAdditionalPredicateForEnumeration:
setPredicate:
setLimitCount:
enumerateWithError:handler:
numberWithInt:
makeBucketsForProfile:earliestStartDate:
bucketForArchivedRepresentation:profile:error:
archivedRepresentationWithError:
includesJournaledSamples
hasPreviousStatistics
unitTesting_setPreviousStatistics:
unitTesting_setIncludesPrunableData:
primaryCalculator
journaledCalculator
earliestStartDate
boundedInterval
previousStatistics
includesPrunableData
_primaryCalculator
_journaledCalculator
_startDate
_earliestStartDate
_boundedInterval
_previousStatistics
_includesPrunableData
_dataSource
_sourceOrderProvider
unitTesting_hearingSevenDayDoseCategorySampleWithNow:includesPrunableData:error:
unitTesting_hearingSevenDayDoseCategorySampleWithNow:error:
_statistics
distantFuture
initWithStartDate:duration:
initWithStartDate:endDate:
duration
hd_hearingSevenDayLimitIntervalWithEndDate:
hd_hearingSevenDayDoseLimitIntervalForNowDate:
identifierWithSchema:entity:
profileExtensionWithIdentifier:
headphoneStatisticsManager
_pruneWithNowDate:limit:error:
syncEntityIdentifier
syncEntityDependenciesForSyncProtocolVersion:
decodeSyncObjectWithData:
receiveSyncObjects:syncStore:profile:error:
pruneSyncedObjectsThroughAnchor:limit:nowDate:profile:error:
generateSyncObjectsForSession:syncAnchorRange:profile:messageHandler:error:
nextSyncAnchorWithSession:startSyncAnchor:profile:error:
nextSyncAnchorWithSession:predicate:startSyncAnchor:profile:error:
supportsSyncStore:
excludedSyncStoresForSession:
initWithEntity:name:columns:
databaseForEntityClass:
insertOrReplaceEntity:database:properties:error:bindingHandler:
insertBucket:transaction:error:
database
countOfObjectsWithPredicate:healthDatabase:error:
_sortOrderingTerms
queryWithDatabase:predicate:limit:orderingTerms:groupBy:
initWithPersistentID:
deleteFromDatabase:error:
enumeratePersistentIDsAndProperties:error:enumerationHandler:
performWriteTransactionWithHealthDatabase:error:block:
numberWithInteger:
_enumerateBucketsForProfile:predicate:error:enumerationHandler:
deleteEntitiesInDatabase:predicate:error:
insertBuckets:transaction:error:
databaseForEntity:
_bucketFromAllPropertiesRow:profile:error:
getValuesForProperties:database:error:handler:
performReadTransactionWithHealthDatabase:error:block:
orderingTermWithProperty:entityClass:ascending:
isEqualToDate:
enumerateProperties:error:enumerationHandler:
databaseTable
columnDefinitionsWithCount:
indices
protectionClass
_pruneWithNowDate:limit:profile:error:
_loadBucketsFromProfile:error:
_replaceExistingWithBuckets:profile:error:
_bucketWithProfile:error:
_initWithProfile:keyValueStore:rebuildDelay:observers:synchronousObservers:daemonDidBecomeReadyHandler:
_rebuildIfNeededWithAssertion:
initWithQueue:delay:block:
dataManager
addObserver:forDataType:
quantitySeriesManager
addObserver:forType:queue:
daemon
registerDaemonReadyObserver:queue:
removeObserver:forDataType:
removeObserver:forType:
removeProtectedDataObserver:
_takeAccessibilityAssertion
_headphoneExposureNotificationsEnabledDidChange:
_queue_lock_handleIsEnabledDidChangeWithAssertionAssertion:initialSetup:
performWhenDataProtectedByFirstUnlockIsAvailableOnQueue:block:
_shouldRebuildPreviousSevenDayNotificationWithError:
_lock_rebuildIfNeededWithAssertion:
_updatePreviousSevenDayNotificationFireDateWithSamplesInserted:anchor:
_lock_dispatchRebuildImmediatelyIfPossible
quantitySampleWithType:quantity:startDate:endDate:metadata:
sourceRevision
_setSourceRevision:
_updateCacheWithSampleBatch:
_lock_rebuildWithAssertion:notifyObservers:allowInitialQueriesToFail:resetDoseToZero:error:
integerValue
_lock_notifyObserversThatCacheDidUpdate:suppressUserNotification:reason:
takeAccessibilityAssertionWithOwnerIdentifier:timeout:error:
_lock_setupIfNeededWithAssertion:
_lock_setNeedsRebuild
_lock_maintenanceSetupWithAssertion:error:
maintenanceOperationWithName:asynchronousBlock:
maintenanceWorkCoordinator
enqueueMaintenanceOperation:
_shouldRebuildSevenDayStatisticsWithError:
addProtectedDataObserver:queue:
isProtectedDataAvailable
_lock_loadCacheWithError:
_lock_flushPendingSamplesWithError:
_lock_updateCacheWithSampleBatch:error:
_lock_updatePreviousSevenDayNotificationFireDateWithSamplesInserted:anchor:assertion:
updatePreviousSevenDayNotificationFireDateWithSamplesInserted:error:
_lock_dispatchRebuildForRecentNotificationWithAssertion:resetDoseToZero:
_unitTesting_lock_needsRebuild
_unitTesting_lock_clearNeedsRebuild
_lock_clearNeedsRebuild
rebuildPreviousSevenDayNotificationFireDateIfNeededWithError:
_fetchPreviousSevenDayNotificationFireDateWithError:
contextForReadingProtectedData
mutableCopy
setCacheScope:
addAccessibilityAssertion:
performWithTransactionContext:error:block:
_lock_setNeedsRebuild:
_lock_loadBucketsFromProfile:needsRebuild:error:
removeObject:
_lock_dispatchRebuildIfNeeded
execute
_setShouldRebuildSevenDayStatistics:error:
daemonReady:
samplesAdded:anchor:
didAddSamplesOfTypes:anchor:
samplesJournaled:type:
samplesOfTypesWereRemoved:anchor:
profile:didDiscardSeriesOfType:
transactionalQuantityInsertHandlerForProfile:journaled:count:
database:protectedDataDidBecomeAvailable:
initWithProfile:keyValueStore:
registerSynchronousObserver:
unregisterSyncronousObserver:
_unitTesting_pendingSamples
_unitTesting_needsRebuild
_unitTesting_clearNeedsRebuild
_unitTesting_setNeedsRebuild
unitTesting_daemonDidBecomeReady
setUnitTesting_daemonDidBecomeReady:
unitTesting_didUpdatePreviousSevenDayNotificationFireDate
setUnitTesting_didUpdatePreviousSevenDayNotificationFireDate:
_queue
_setupInitiated
_enabled
_needsRebuild
_memoryCache
_synchronousObservers
_metadataStore
_rebuildCacheOperation
_pendingSamples
_unitTesting_daemonDidBecomeReady
_unitTesting_didUpdatePreviousSevenDayNotificationFireDate
hk_error:description:
insertDataObjects:error:
nanoSyncManager
syncHealthDataWithOptions:reason:completion:
saveHAENotificationEventAsHKCategorySample:
sharedBehavior
isAppleWatch
listenerEndpointForClient:error:
headphoneKeyValueStore
headphoneDoseManager
_analyticsManager
_headphoneKeyValueStore
_headphoneStatisticsManager
_headphoneDoseManager
analyticsDataProvider
sharedConnection
isHealthDataSubmissionAllowed
initWithStatus:error:
_recordedDataForToday
date
_fullDays:beforeDate:
audioAverageAndDurationForExposureType:startDate:endDate:error:
audioExposureEventsBetweenStartDate:endDate:error:
_leqFromStatistics:
_durationFromStatistics:
_doseFromStatistics:days:
_exposureAlertCount:
captureHeadphoneAudioExposure:headphoneDuration:headphoneDose:environmentExposure:environmentDuration:environmentAlerts:
lastSuccessfulCalculation
_dayForDate:
_dayComponents:lessThan:
_localGregorianCalendar
components:fromDate:
calendarWithIdentifier:
localTimeZone
setTimeZone:
year
month
startOfDayForDate:
setDay:
dateByAddingComponents:toDate:options:
averageQuantity
maximumDurationInSecondsForLEQ:days:
initWithAnalyticsDataProvider:
calculateAnalytics
_analyticsDataProvider
status
_status
_error
initWithCategory:domainName:profile:
isAppleInternalInstall
isTestingDevice
_lock_loadDoseLimitOverrideIfNeeded
_lock_loadDoseLimitOverride
numberForKey:error:
_didNotifyWithFireDate:changed:error:
_updatePreviousSevenDayNotificationFireDateWithSamplesInserted:now:error:
_rebuildPreviousSevenDayNotificationFireDateWithNow:error:
unitTesting_forceDefaultHeadphoneDataCollectionInterval
_mostRecentSevenDayNotificationFowNow:error:
_setPreviousSevenDayNotificationFireDate:error:
entityEnumeratorWithProfile:
sortDescriptorWithKey:ascending:
setSortDescriptors:
_fetchPreviousSevenDayNotificationFireDateWithNow:error:
dateForKey:error:
timeIntervalSinceDate:
_earliestFireDateAllowedWithNow:
hk_isAfterOrEqualToDate:
setDate:forKey:error:
removeValuesForKeys:error:
numberWithBool:
setNumber:forKey:error:
_infoForSevenDayDoseAtFireDate:
_infoForAccumulatedDoseAtFireDate:
_lock_fetchDoseLimitInfoWithError:
length
hk_isHearingSevenDayDoseNotification
source
_isLocalDevice
didNotifyWithFireDate:error:
_clearPreviousSevenDayNotificationFireDateWithError:
_fetchDoseLimitInfoWithError:
_overrideDoseLimit:error:
_domain
_doseLimit
_shouldLoadDoseLimitOverride
calculationPeriod
initWithProfile:name:interval:delegate:loggingCategory:
calculator
retryPeriod
periodicActivity
lastSuccessfulRunDate
quantityTypeForIdentifier:
hk_error:format:
maximumAllowedDuration
categoryTypeForIdentifier:
samplesWithType:profile:encodingOptions:predicate:limit:anchor:error:
sharedInstance
initWithDomain:
objectForKey:
_booleanPreferenceForAudioKey:defaultIfNoValue:
_hasEligibleWatchPaired
notificationsEnabled
noiseEnabled
onboardingCompleted
_numberForValue:
dictionaryWithObjects:forKeys:count:
getPairedDevices
initWithUUIDString:
supportsCapability:
periodicActivity:configureXPCActivityCriteria:
performPeriodicActivity:completion:
periodicActivityRequiresProtectedData:
setPeriodicActivity:
queue
_calculationPeriod
_retryPeriod
_periodicActivity
_calculator
taskIdentifier
initWithUUID:configuration:client:delegate:
sharedDiagnosticManager
quantitySampleWithType:quantity:startDate:endDate:
categorySampleWithType:value:startDate:endDate:
_headphoneProvenanceForRemoteDevice:
insertDataObjects:withProvenance:creationDate:error:
dataProvenanceManager
defaultLocalDataProvenance
_headphoneProvenanceForRemoteWatch
_makeAirPods
_makeEarPods
_makeBeatsHeadphones
_makeUnknownHeadphones
sourceManager
sourceForAppleDeviceWithUUID:identifier:name:productType:createIfNecessary:error:
deviceManager
objectAtIndexedSubscript:
deviceEntityForDevice:error:
behavior
currentOSBuild
currentOSVersionStruct
currentOSVersion
name
persistentID
numberWithLongLong:
dataProvenanceWithSyncProvenance:productType:systemBuild:operatingSystemVersion:sourceVersion:timeZoneName:sourceID:deviceID:contributorReference:
initWithName:manufacturer:model:hardwareVersion:firmwareVersion:softwareVersion:localIdentifier:UDIDeviceIdentifier:
diagnosticDescription
remote_rebuildWithCompletion:
remote_fetchInfoWithCompletion:
remote_insertQuantityWithExposure:duration:startDate:includesNotificationSample:synced:completion:
remote_fetchDoseLimitWithCompletion:
remote_overrideDoseLimit:completion:
exportedInterface
remoteInterface
connectionInvalidated
_profileExtension
_client
@24@0:8@16
@32@0:8@16@24
@36@0:8@16B24@28
@16@0:8
v24@0:8@16
B16@0:8
v20@0:8B16
v16@0:8
@"NSArray"
@"NSNumber"
B24@0:8@16
#16@0:8
@24@0:8:16
@32@0:8:16@24
@40@0:8:16@24@32
B24@0:8#16
B24@0:8:16
Vv16@0:8
Q16@0:8
^{_NSZone=}16@0:8
B24@0:8@"Protocol"16
@"NSString"16@0:8
v32@0:8@16@24
q16@0:8
v32@0:8@"NSString"16@"HDDatabaseMigrator"24
@"NSArray"16@0:8
@28@0:8@16B24
@28@0:8B16@20
@24@0:8B16B20
@40@0:8@16@24^@32
v36@0:8@16@24B32
v36@0:8@"HDHeadphoneAudioExposureStatisticsManager"16@"HDHeadphoneAudioExposureCalculatorCache"24B32
@40@0:8@16@24@32
@48@0:8@16@24@32@40
B24@0:8^@16
@24@0:8^@16
B36@0:8@16B24^@28
v32@0:8d16@24
v24@0:8d16
@?16@0:8
v24@0:8@?16
@"HDProfile"
{os_unfair_lock_s="_os_unfair_lock_opaque"I}
@"HKObserverSet"
@"HDHeadphoneDoseMetadataStore"
@"HDHeadphoneExposureNotificationCenter"
@"HDHeadphoneAudioExposureStatisticsManager"
@"HDDataCollectionAssertion"
@"<HDHealthDaemonExtension>"24@0:8@"<HDHealthDaemon>"16
@"<HDProfileExtension>"24@0:8@"HDProfile"16
B24@0:8@"<HDHealthDaemon>"16
q24@0:8q16
@24@0:8q16
v32@0:8q16@24
@"NSArray"24@0:8q16
v32@0:8q16@"HDDatabaseMigrator"24
@36@0:8@16B24^@28
@32@0:8@16^@24
@40@0:8@16^B24^@32
@"NSMutableArray"
@44@0:8@16@24@32B40
@80@0:8@16@24@32@40@48B56@60@68B76
@"HDStatisticsCollectionCalculator"
@"NSDate"
@"HKStatistics"
@"HDStatisticsCollectionCalculatorDefaultDataSource"
@"<HDStatisticsCollectionCalculatorSourceOrderProvider>"
@36@0:8@16@24B32
@20@0:8i16
q48@0:8@16@24@32^@40
@56@0:8@16Q24@32@40^@48
B64@0:8@16{HDSyncAnchorRange=qq}24@40@48^@56
q48@0:8@16q24@32^@40
q56@0:8@16@24q32@40^@48
B64@0:8@"HDSyncSession"16{HDSyncAnchorRange=qq}24@"HDProfile"40@"<HDSyncMessageHandler>"48^@56
@"NSSet"20@0:8i16
@"<HDSyncCodable>"24@0:8@"NSData"16
q48@0:8@"NSArray"16@"<HDSyncStore>"24@"HDProfile"32^@40
@"HDSyncEntityIdentifier"16@0:8
q48@0:8@"HDSyncSession"16q24@"HDProfile"32^@40
q56@0:8@"HDSyncSession"16@"HDSQLitePredicate"24q32@"HDProfile"40^@48
B24@0:8@"<HDSyncStore>"16
@"NSSet"24@0:8@"HDSyncSession"16
@"NSNumber"56@0:8@"NSNumber"16Q24@"NSDate"32@"HDProfile"40^@48
r^{?=@@C}24@0:8^Q16
B40@0:8@16@24^@32
@48@0:8@16Q24@32^@40
@40@0:8^{HDSQLiteRow=}16@24^@32
B48@0:8@16@24^@32@?40
v24@0:8@"<HDHealthDaemon>"16
v32@0:8@"NSArray"16@"NSNumber"24
v32@0:8@"NSSet"16@"NSNumber"24
v32@0:8@"NSArray"16@"HKSampleType"24
@?36@0:8@16B24q28
v32@0:8@"HDProfile"16@"HKQuantityType"24
@?<v@?@"HKQuantity"@"HKQuantityType"@"NSDateInterval"@"HKQuantitySample"@"NSNumber"B>36@0:8@"HDProfile"16B24q28
v28@0:8@16B24
v28@0:8@"<HDHealthDatabase>"16B24
@64@0:8@16@24d32@40@48@?56
@40@0:8@16Q24^@32
B32@0:8@16^@24
v40@0:8@16@24@32
B44@0:8@16B24B28B32^@36
v36@0:8@16B24@28
@"NSObject<OS_dispatch_queue>"
@"HDHeadphoneAudioExposureCalculatorCache"
@"HKSynchronousObserverSet"
@"_HKDelayedOperation"
v40@0:8@16@24@?32
@"NSXPCListenerEndpoint"32@0:8@"HDXPCClient"16^@24
@"HDAudioAnalyticsManager"
@"HDHeadphoneDoseManager"
B32@0:8@16@24
@32@0:8q16@24
d24@0:8@16
d32@0:8@16q24
q24@0:8@16
@"<HDAudioAnalyticsDataProvider>"
@"NSError"
B24@0:8d16
q32@0:8@16^@24
@24@0:8d16
B28@0:8B16^@20
B40@0:8@16^B24^@32
q40@0:8@16@24^@32
@"HDKeyValueDomain"
v32@0:8@16@?24
v32@0:8@"HDPeriodicActivity"16@"NSObject<OS_xpc_object>"24
v32@0:8@"HDPeriodicActivity"16@?<v@?qd@"NSError">24
B24@0:8@"HDPeriodicActivity"16
@48@0:8q16@24@32^@40
v64@0:8d16d24d32d40d48q56
@"NSDate"16@0:8
@"HKStatistics"48@0:8q16@"NSDate"24@"NSDate"32^@40
@"NSArray"40@0:8@"NSDate"16@"NSDate"24^@32
B28@0:8@16B24
d16@0:8
@"HDPeriodicActivity"
@"HDAudioAnalyticsCalculator"
v56@0:8d16d24@32B40B44@?48
v24@0:8@?<v@?B@"NSError">16
v24@0:8@?<v@?@"NSString"@"NSError">16
v56@0:8d16d24@"NSDate"32B40B44@?<v@?B@"NSError">48
v32@0:8@"NSNumber"16@?<v@?B@"NSError">24
@20@0:8B16
@"HDHearingProfileExtension"
@"HDHealthStoreClient"
