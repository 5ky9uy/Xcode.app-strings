@(#)PROGRAM:TrialArchivingService  PROJECT:trial-247
TrialArchivingServiceProtocol
TRIServiceDelegate
NSXPCListenerDelegate
NSObject
TRIArchiveExtractor
TRIRemoteAssetPatcher
TRIAssetPatching
TRIAssetPatcher
TrialArchivingService
TRIFileSystemCompressor
TRINamespaceKeyLocator
TRIAssetDecrypter
extractArchiveFromData:withArchiveName:withExtension:toDirectory:postExtractionCompression:completion:
decryptAssetWithURL:toDestinationFileURL:namespaceName:sourceExtension:destinationExtension:completion:
applyPatchWithFilename:patchExtension:toSrcDir:srcDirExtension:writingToDestDir:destDirExtension:postPatchCompression:completion:
interfaceWithProtocol:
setExportedInterface:
setExportedObject:
resume
processIdentifier
isEqual:
class
self
performSelector:
performSelector:withObject:
performSelector:withObject:withObject:
isProxy
isKindOfClass:
isMemberOfClass:
conformsToProtocol:
respondsToSelector:
retain
release
autorelease
retainCount
zone
hash
superclass
description
debugDescription
TQ,R
T#,R
T@"NSString",R,C
listener:shouldAcceptNewConnection:
serviceListener
setDelegate:
defaultManager
createDirectoryAtURL:withIntermediateDirectories:attributes:error:
fileSystemRepresentation
currentDirectoryPath
inPlaceCompressDirectory:
createWriteDiskArchive
copyDataFromReadArchive:toWriteDiskArchive:remainingQuota:archiveIdentifier:
createReadArchive
bytes
length
withLockWitness:performExtractionIntoCurrentDirectoryFromArchive:maxUnarchivedSize:archiveIdentifier:
compressFilesInCurrentDirectoryWithLockWitness:
_withLockAndDirectoryChangedToURL:runBlock:
extractArchiveFromData:toDestinationDirectoryURL:maxUnarchivedSize:archiveIdentifier:postExtractionCompression:
archiveFileURL
.cxx_destruct
_archiveFileURL
T@"NSURL",R,V_archiveFileURL
initWithUTF8String:
lastPathComponent
pathComponents
countByEnumeratingWithState:objects:count:
isEqualToString:
count
initWithCString:encoding:
_tokenForSandboxExtensionWithClass:path:
initWithServiceName:
setRemoteObjectInterface:
synchronousRemoteObjectProxyWithErrorHandler:
invalidate
applyPatchWithFilename:toSrcDir:writingToEmptyDestDir:postPatchCompression:error:
UTF8String
absoluteString
keyFileURLForNamespace:
decryptAssetWithURL:destinationFileURL:keyFileURL:
dictionaryWithObjects:forKeys:count:
initWithDomain:code:userInfo:
stringWithFormat:
stringByDeletingLastPathComponent
UUIDString
stringByAppendingPathComponent:
stringByAppendingPathExtension:
_isCompressibleFile:
_temporaryCompressionFileForFile:
_inPlaceCompressFile:targetFileDescriptor:
removeItemAtPath:error:
fileExistsAtPath:isDirectory:
_compressData:targetFd:
initWithContentsOfFile:options:error:
inPlaceCompressFile:
enumerateFilesInDirectory:block:
enumeratorAtPath:
nextObject
fileAttributes
objectForKeyedSubscript:
compressData:toDestinationFile:
_keyFileSearchLocationsForNamespace:
initFileURLWithPath:
_namespaceIdForNamespace:
arrayWithObjects:count:
getValue:forEnumTextFormatName:
numberWithInt:
path
v64@0:8@16@24@32@40{?=Q}48@?56
v64@0:8@16@24@32@40@48@?56
v80@0:8@16@24@32@40@48@56{?=Q}64@?72
v64@0:8@"NSData"16@"NSString"24@"NSString"32@"NSURL"40{?=Q}48@?<v@?B>56
v64@0:8@"NSURL"16@"NSURL"24@"NSString"32@"NSString"40@"NSString"48@?<v@?B>56
v80@0:8@"NSString"16@"NSString"24@"NSString"32@"NSString"40@"NSString"48@"NSString"56{?=Q}64@?<v@?B@"NSError">72
B24@0:8@16
#16@0:8
@16@0:8
@24@0:8:16
@32@0:8:16@24
@40@0:8:16@24@32
B16@0:8
B24@0:8#16
B24@0:8:16
Vv16@0:8
Q16@0:8
^{_NSZone=}16@0:8
B24@0:8@"Protocol"16
@"NSString"16@0:8
B32@0:8@16@24
B32@0:8@"NSXPCListener"16@"NSXPCConnection"24
^{archive=}16@0:8
B48@0:8^{archive=}16^{archive=}24^Q32@40
B32@0:8@16@?24
B24@0:8r^{TRIFlockWitness_=}16
B48@0:8r^{TRIFlockWitness_=}16^{archive=}24Q32@40
B56@0:8@16@24Q32@40{?=Q}48
v16@0:8
@"NSURL"
B56@0:8@16@24@32{?=Q}40^@48
B56@0:8@"NSString"16@"NSString"24@"NSString"32{?=Q}40^@48
@32@0:8r*16@24
v32@0:8@16@?24
@24@0:8@16
B28@0:8@16i24
B40@0:8@16@24@32
accepting connection from pid %d
TrialArchivingService started
archive_read_new unable to create new archive: %s.
archive_read unable to set supported formats: %s.
Unable to free archive_read (leaking)
archive_write_disk unable to set lookup functions - %s.
archive_write_disk unable to set options - %s.
Unable to free archive_write_disk (leaking)
archive_read_data_block failed - %s.
Extracted more bytes than maximum allowable unarchived size. Aborting unarchival. Archive identifier: %@
archive_write_data_block failed - %s.
failed to create directory at %@ - %@.
Failed to open directory %s: %s (%d)
Failed to lock directory %s err:%s (%d)
failed to chdir directory %s err:%s (%d)
Failed to unlock lockfile %s: %s (%d)
Unable to create disk archive for writing.
archive_read_next_header failed - %s.
archive_write_header failed - %s
error copying data to write archive - %s
archive_write_finish_entry failed - %s
finished writing archive entry %s
unable to close archive_write_disk
unable to free archive_write_disk
Error creating archive for reading.
unable to close archive_read
unable to open archive_read - %s.
unable to free archive_read (leaking)
found file that is neither directory nor regular file. Aborting. Offending file: %s, file type: 0x%x, archive identifier: %@
archive_entry with no path encountered.
archive_entry with absolute path encountered...ignoring leading %zu of %zu bytes.
Unable to initialize entry path with string %s
archive_entry with no path after sanitization encountered.
Encountered fileName greater that %ld characters. Offending fileName: %@, archive identifier: %@
Found `..` in entry path. Aborting. Offending path: %@
Directory depth more than maximum allowable depth. Stopping unarchival. Offending file: %@, archive identifier: %@
Failed to create sandbox extension for %@
no data provided for archive %@
no sandbox extension provided for archive %@
no destination directory provided for extraction of archive %@
failed to consume extension token %@ err %s errno %d
starting unarchiving of %@ with %tu bytes to %@
finished extracting archive %@ with result %@
nil parameter provided to decryptAssetWithURL
failed to consume a sandbox extension
starting decrypting asset with URL %@ to %@
Unable to find decryption key for namespace name: %@
finished decrypting asset with result %@
started applying directory patch: %@ + %@ --> %@
finished applying directory patch with status "%s": %@
Couldn't rename %@ --> %@: %s (%d)
Unexpectedly requested to AFSC compress a directory %@
AFSC stream failed to write with error (%zu)
AFSC stream failed to close with error (%d)
Failed to open %@, %@
Unexpectedly requested to AFSC compress a file %@
Compressing files in %@
Error: compression failed for %@
Finished compressing %@
Searching for namespace key in the following locations: %@
Unable to find namespace id for namespace name: %@
Decrypting file with URL: %@ to destination: %@
Couldn't open the key file at path "%s": %s (%d)
Couldn't read the key file at path "%s": %s (%d)
Found decryption key file at path: %s
Error reading encrypted file for asset "%@": %s (%d)
Decryption context creation failed for asset "%@": %s (%d)
Decryption context setup failed: %s (%d)
Error calling AEADecryptionInputStreamOpen for asset "%@": %s (%d)
Error creating destination file "%@": %s (%d)
v8@?0
com.apple.triald
server
archiving
v16@?0r^{TRIFlockWitness_=}8
com.apple.app-sandbox.read
com.apple.app-sandbox.read-write
com.apple.trial.TrialArchivingService
v16@?0@"NSError"8
v20@?0B8@"NSError"12
TRIGeneralErrorDomain
nil parameter provided to applyPatchWithFilename
failed
trial-afsc-compressed
v16@?0@"NSString"8
B16@?0@"NSString"8
/AppleInternal/Library/Trial/NamespaceKeys
/System/Library/Trial/NamespaceKeys
com.apple.trial.%@.namespacekey
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
<key>com.apple.private.security.storage.triald</key>
<true/>
<key>com.apple.security.exception.files.absolute-path.read-only</key>
<array>
<string>/AppleInternal/Library/Trial/NamespaceKeys/</string>
</array>
<key>platform-application</key>
<true/>
<key>seatbelt-profiles</key>
<array>
<string>temporary-sandbox</string>
</array>
</dict>
</plist>
zPLR
zPLR
zPLR
zPLR
