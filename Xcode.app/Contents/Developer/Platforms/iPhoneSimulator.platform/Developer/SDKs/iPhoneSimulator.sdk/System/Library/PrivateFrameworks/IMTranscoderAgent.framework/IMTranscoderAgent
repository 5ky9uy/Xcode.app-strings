@X94<
?333333
@(#)PROGRAM:IMTranscoderAgent  PROJECT:IMTranscoderAgent-1
audiovisualTypes
class
supportedUTIs
containsObject:
objectForKey:
doubleValue
boolValue
count
length
defaultManager
path
attributesOfItemAtPath:error:
fileSize
copy
tracksWithMediaType:
errorWithDomain:code:userInfo:
release
duration
alloc
initWithAsset:presetName:
supportedFileTypes
objectAtIndex:
setOutputFileType:
lastPathComponent
stringByDeletingPathExtension
_randomTemporaryPathWithSuffix:fileName:
setTimeRange:
setFileLengthLimit:
fileURLWithPath:
setOutputURL:
outputURL
status
error
init
numberWithDouble:
setObject:forKey:
exportAsynchronouslyWithCompletionHandler:
firstObject
unsignedLongValue
lastObject
shouldTranscodeTransfer:transcoderUserInfo:target:utiType:allowUnfilteredUTIs:fileSizeLimit:
arrayWithObjects:
array
numberWithBool:
dictionaryWithObject:forKey:
initWithURL:options:
tracks
retain
_transcodeVideoAsync:target:maxBytes:userInfo:completionHandler:
addObject:
dictionary
absoluteURL
transcodeFileTransfer:utiType:allowUnfilteredUTIs:target:sizes:maxDimension:transcoderUserInfo:representations:completionBlock:
initWithImageData:imageSource:
scaleImageToFitLargestDimension:outputData:
mutableCopy
autorelease
_isWideGamutImage:
integerValue
numberWithUnsignedLong:
initWithCapacity:
numberWithInt:
numberWithFloat:
dictionaryWithObjectsAndKeys:
setValue:forKey:
addEntriesFromDictionary:
writeToURL:atomically:
longValue
_writeImageData:inFormat:sourceURL:
_generateImage:target:hardwareEncoder:inFormat:fromFormat:withMaxLength:withMaxCount:enforceMaxes:subsampling:
initWithContentsOfURL:options:error:
objectAtIndexedSubscript:
_writeImage:sourceURL:target:hardwareEncoder:inFormat:fromFormat:withMaxByteSize:maxDimension:actualSize:startingLengthIndex:usedLengthIndex:
unsignedIntegerValue
_getImageWidth:
countByEnumeratingWithState:objects:count:
numberWithUnsignedInteger:
_writeRepresentationsForImage:target:sourceURL:sizes:maxDimension:srcUTI:inFormat:
_getScaleFactorArray:transferURL:outputURLs:
isEqualToValue:
floatValue
replaceObjectAtIndex:withObject:
removeObjectAtIndex:
removeLastObject
initWithDouble:
dictionaryWithObjects:forKeys:count:
setName:
setCountLimit:
supportsUTI:
transcodeProcessingRequired:
rangeOfString:
initWithURL:
bundleIdentifier
isEqualToString:
infoDictionary
load
fallbackForData:inFileURL:completionBlock:
fallbackForData:attachments:inFileURL:completionBlockWithText:
fullQualityForData:inFileURL:completionBlock:
fullQualityForData:attachments:inFileURL:completionBlock:
isEqual:
self
performSelector:
performSelector:withObject:
performSelector:withObject:withObject:
isProxy
isKindOfClass:
isMemberOfClass:
conformsToProtocol:
respondsToSelector:
retainCount
zone
hash
superclass
description
debugDescription
_findPluginFallbackEncoder:withBalloonBundleID:
__imArrayByApplyingBlock:
transcodeFileTransferData:balloonBundleID:attachments:inFileURL:fallBack:completionBlock:
initWithObjects:
_registerTranscoders
dealloc
_findTranscoderForUTI:
mainThread
__im_performBlock:
shouldProcessFileTransfer:utiType:transcoderUserInfo:target:allowUnfilteredUTIs:fileSizeLimit:
stringByDeletingLastPathComponent
sharedInstance
transcodeFileTransferContents:utiType:allowUnfilteredUTIs:target:sizes:maxDimension:transcoderUserInfo:representations:completionBlock:
transcodeFileTransferData:balloonBundleID:attachments:fallBack:completionBlock:
_transcoders
_fallbackTranscoders
_queue
pathExtension
linkItemAtURL:toURL:error:
Transcoding
Supported video utis: %@
Checking if we support the AV uti: %@
Trying to discriminate based on type alone:
   Start time: %f
     End time: %f
     Duration: %f
  assetLibURI: %@
  isAuxVideo: %@
 Start time > 0, we need to transcode
 End time > 0, we need to transcode
 We have an assets library URI, we need to transcode (video might be slow-mo).
 This is an Aux video.
That wasn't enough, let's look at filesize too:
Checked size of file %@ with error %@
SendableUTIs: %@
Is the original sendable without transcode? %@
Defaulting to the audio/video preset
   Carrier supports H264, selecting: %@
   Carrier does not support H264, selecting: %@
No audio/video tracks, failing transcode.
Actually, using the audio preset
Using a standard AVAssetExportSession.
Supported file types: %@
org.3gpp.adaptive-multi-rate-audio
   outputFileType: %@
Exporting video to file %@
    Asset length: %f
      Start time: %f
        End time: %f
        Duration: %f
       Max bytes: %zd
     Setting time range
     Ignoring time range, transcoding full
     Preset name: %@
  Export session: %@
           Asset: %@
       outputURL: %@
Dispatching video export
Export failed: %@
Export canceled
Export succeeded!
Duration
v8@?0
Could not find a valid outputType for Message presets
Could not create export session with Message presets
BigSize: %zu SmallSize: %zu
Warning - bigSize (%lu), smallSize (%lu) combination does not match the number of reps requested (%d)
NeedsTranscode? %@
Transfer %@ doesn't need any processing
We need a hard link to this file for our clients who assume it's a file we created: %@
Transfer %@ is a supported format, will transcode
Created asset %@ with %d video tracks, %d audio tracks
   => Tracks: %@
No video or audio tracks found
Using a dispatch group when generating multiple video transcodings
Asset to use for bigSize: %@
Just because we have to transcode to get the small rep, we might be able to use the original for the big rep
Do we need to transcode to get the big representation? %@
Transcoding bigSize finished with path %@ and error %@
v32@?0@"NSURL"8@"NSDictionary"16@"NSError"24
Adding bigURL %@ to outputPathswith context: %@
Checked filesize with error %@
fileSize: %llu   smallSize %zu
Only using the big representation because the big output (%llu) fits in the small requirements (%zu)
bigURL was too big for smallSize or there was a FS error
Generating the big representation was not successful. Let's potentially try for small.
We didn't have to transcode to get the big representation so we know we have to for the small one.
There were two sizes requested && big doesn't satisfy the requirements for both, generating small.
Asset to use for smallSize: %@
Transcoding smallSize finished with path %@ and error %@
Adding smallURL %@ to outputPaths with context: %@
Calling completionBlock with: transfer %@ outputPaths %@ error %@
Supported image utis: %@
_isWideGamut %@ 
Transcoding _isWideGamut nil sourceRef
Creating CGImageSource from url: %@
Source ref is %@
NULL
good
Needs transcode as image is wide-gamut
Not wide gamut image. Proceeding with other checks
shouldTranscodeTransfer with uti: %@ ?
Uti is not contained in supportedUTIs
This is MMS, we should always transcode
Cannot generate image because source is NULL
Cannot generate image because format is NULL
Original image properties: %@
Could not read width and height from CGImageSource
Not considering resizing to %lu or reducing to %zd images, it's larger than the current image dimension (%zd) and the current image count (%zd)
    Image count = %lu
 Original count = %lu
      Max count = %lu
         Length = %lu
     Max length = %lu
Original Length = %lu
    subsampling = %d
Successfully used hardware encoding
Failed using hardware encoding
Not using hardware encoding. encoder %@  isWideGamut %@
Cannot generate image because imageDestination is NULL
Using subsamping with: %d  (index: %d)
Getting thumbnail from index
Created a rotated image for MMS: %@
Failed to create a a rotated image for MMS
Using thumbnail path
Checking for properties: %@
Does the original image have orientation data in the JPEG location: %@
Nope...Checking where TIFFs keep their orientation data: %@
Setting the image orientation (key=%@) to (%@)
 ...this is MMS, we don't want orientation appended, it's all pre-rotated
 ... * Adding original properties to the set
IMTransocoding
Getting image properties for PNG image at index %zu
Checking for pngProperties: %@
Warning, missing %@ to add to %s
newPngProperties
properties
IMTranscoding
No png property dictionary to add
adding image at index %lu
  properties: %@
Could not create scaled image at index (%zd)!
Success finalizing image: %@
Cannot write out image because data is nil
Cannot write out image because format is NULL
Nil file extension, aborting writing of image
Using file extension: %@
creating destination with output path: %@
Writing to url %@ failed
Invalid image source given to writeImage!
Invalid destination format provided to writeImage
Beginning transcode loop for image format %@ with maxByteSize %d maxDimension %zd
Compressed input size is %.02f times larger than target output size, using initial scaled res of %.02f %.02f
Trying maxSize = %lu  (index: %d)
Overrriding subsampling to %d for APNG
Successfully generated image! Comparing data length (%d) to maxByteSize (%d)
This image is a keeper, writing it out to url!
Saving %@ and breaking out of transcode loop
No image generated for this iteration, we got no image data.
Warning! Did not find a valid size for this image given the filesize constraint!
Generating the big representation
Beginning to transcode images with size limits: %@ originalFileSize %lu
Trying to transcode to target size index %lu size limit %@
Transcoding: Aborting further transcoding attempts: current image resize index is %d.
Aborting transcoding attempt: current size limit %tu is the same as the previous size.
Transcoding large size %tu (reason: the target is MMS).
Transcoding large size %tu (reason: the image is wide gamut).
Given size limit %lu is already greater than the original file size %lu.
Original file size limit %lu is bigger than target size %lu
Transcoding at size %tu (the previous size is %tu)
Transcoding result URL: %@ (start/stop length index: %d => %d)
Not transcoding an image for size: %tu
Finished transcoding images with %tu results: %@
_getScaleFactorArray uti %@ transferURL %@ outputURLs %@
_getScaleFactor inImageWidth = %lu
_getScaleFactor outImageWidth = %lu
_getScaleFactorArray scale factor for outPutURL %@
_getScaleFactorArray resorting to default scale factor for outPutURL %@
Did not compute sticker scale. [outputURLs count] %@, uti %@, transferURL %@
Warning - sizes %@ do not match the number of reps requested (%d)
Transfer: %@   needsTranscode? %@
This image needs to be transcoded!
transferURL is nil, no image to transcode...
Source image properties %@
 File size of file %@ with error %@   (%llu bytes)
 File still requires transcoding: %@
 File is too large, we'll need to transcode it
We've got a PNG, try to reencode as a PNG
Couldn't fit this image into any size of PNG
We've got a GIF, try to reencode as a GIF
Couldn't fit this image into any size of GIF
Ok, let's see if we can fit this image into a JPEG
Didn't require transcode, defaulting to the original image MMSGIFCarrierTesting %@, needsTrancode %@
We've reached the end of the image transcode attempt. outputURL = %@
Failed to re-encode: %@
The imageSource was NULL when trying to load original attachment file
Image ended up not needing a transcode operation
scaleFactorArray = %@
Real width is: %d
Trying to create GIF with %d frames
    Need to remove %d frame(s)
    Left with %d frame(s)
    Removed factor: %f
    Removed too many frames (%f), trying to shrink the image
  Bailing on frame %d out of %lu bceause we already exceeded the target data size
  Didn't fit, updating frames to remove: %d   (count: %lu   extra frames: %f  factorOff: %f)
  Fits!
Final length was %d
GIF wanted %zu durations. Generated: %@.
IMTranscoderAgent _GIFCreateFrameGenerationBlocksForImageSource source frame cache
^{CGImage=}8@?0
Attempted to transcode with generic transcoder--this is probably unintentional!!
CKFallbackClass
hash
TQ,R
superclass
T#,R
description
T@"NSString",R,C
debugDescription
IMFallbackTranscoder
Found encoder to get bundle for identifier %@, encoder %@
Failed to get bundle for identifier %@
@"NSURL"16@?0@"NSString"8
IMFallBacktranscoder
output trying to generate fallback for data %@ inFileURL %@ outputURLs %@ error %@ success %@ attemptedTranscode %@ text %@ attachments %@
v40@?0@"NSArray"8@"NSString"16@"NSError"24B32B36
output trying to generate fallback for data %@ inFileURL %@ outputURLs %@ error %@ success %@ attemptedTranscode %@ attachments %@
v32@?0@"NSArray"8@"NSError"16B24B28
******** found encoder ******** %@ that responds to fullQualityForData %s %s
Feb  9 2017
17:11:46
got fullquality for data at URLs %@ error %@ success %@ attemptedToGenerateFallback %@
******** found encoder ******** %@ that responds to fullQualityForData:attachments:inFileURL:completionBlock: %s %s
got fullquality for data at URLs %@ error %@ success %@
v36@?0@"NSArray"8@"NSError"16B24Q28
******* did NOT ****** find encoder %@ that responds to fullQualityForData
IMTranscoding. No encoder found for balloon id %@
__kIMTranscodeErrorDomain
com.apple.IMTranscoderQueue
Transcoder received request to transcode %@
                       UTI: %@
     Allow Unfiltered UTIs: %@
                     Sizes: %@
             Max Dimension: %ld
           Transcoder Info: %@
v56@?0@"NSURL"8@"NSArray"16@"NSArray"24@"NSError"32B40B44@"NSDictionary"48
Not transcoding attachment file format: %@
Found transcoder to transcode data for balloonBundleID %@ fallback %@
Transcoding Not transcoding attachment file format: %@
Attempting to link URL %@ to new URL %@
Linking failed with error %@
IMTranscoder_AV
IMEmbeddedHardwareJPEGTranscoder
IMTranscoder_Image
IMTranscoder
IMBalloonPluginFallbackEncoder
NSObject
IMFallbackTranscoder
IMTranscodingAgentController
@16@0:8
q64@0:8@16@24q32@40@48Q56
v56@0:8@16q24Q32@40@?48
v88@0:8@16@24@32q40@48Q56@64q72@?80
@32@0:8@16^{CGImageSource=}24
B32@0:8@16^@24
B24@0:8^{CGImageSource=}16
@80@0:8^{CGImageSource=}16q24@32^{__CFString=}40^{__CFString=}48Q56Q64B72i76
@40@0:8@16^{__CFString=}24@32
@100@0:8^{CGImageSource=}16@24q32@40^{__CFString=}48^{__CFString=}56Q64Q72^Q80i88^i92
@72@0:8^{CGImageSource=}16q24@32@40Q48^{__CFString=}56^{__CFString=}64
Q24@0:8^{CGImageSource=}16
@40@0:8@16@24@32
B24@0:8@16
B24@0:8q16
v40@0:8@16@24@?32
v40@0:8@"NSData"16@"NSURL"24@?<v@?@"NSArray"@"NSError"BB>32
v48@0:8@16@24@32@?40
v48@0:8@"NSData"16@"NSArray"24@"NSURL"32@?<v@?@"NSArray"@"NSString"@"NSError"BB>40
v48@0:8@"NSData"16@"NSArray"24@"NSURL"32@?<v@?@"NSArray"@"NSError"BQ>40
#16@0:8
@24@0:8:16
@32@0:8:16@24
@40@0:8:16@24@32
B16@0:8
B24@0:8#16
B24@0:8@"Protocol"16
B24@0:8:16
Vv16@0:8
Q16@0:8
^{_NSZone=}16@0:8
@"NSString"16@0:8
@32@0:8@16@24
v60@0:8@16@24@32@40B48@?52
v16@0:8
@24@0:8@16
B64@0:8@16@24@32q40@48Q56
v52@0:8@16@24@32B40@?44
@"NSArray"
@"NSObject<OS_dispatch_queue>"
