com.apple.email
v8@?0
MFMessageBodyParser
MessageBodyDOMParser
MessageBodyDOMQuoteSubparser
BodyField.js
Constants.js
ElementExtras.js
HTMLBodyElementExtras.js
HTMLDocumentExtras.js
HTMLElementExtras.js
HTMLImageElementExtras.js
MessageBodyDOMParser.js
MessageBodyDOMQuoteSubparser.js
NodeExtras.js
RangeExtras.js
SignatureController.js
BodyFieldIOS
SignatureController
B8@?0
useRichLinks
IS_PAD
@"NSURL"16@?0@"NSString"8
MFCreateURLForContentID
defaultComposeFontPixelSize
d8@?0
defaultComposeFontFamily
@"NSString"8@?0
@"MFMimeCharset"24@?0@"NSString"8@"JSValue"16
charsetForString
Range
prototype
@"NSArray"8@?0
linkify
String
mf_isAttribution
mf_isForwardSeparator
v16@?0@"NSArray"8
_selectedAttachmentIdentifiersDidChange
v16@?0@"NSString"8
_attachmentWasTapped
v12@?0B8
_selectionContainsLinkStateDidChange
_dirty
@"JSValue"8@?0
v16@?0@"JSValue"8
ACCESSIBILITY_BODY_LABEL
Localizable
_localizedAccessibilityLabel
remoteContentEnabled
prependPreamble
addMarkupString
bodyInnerHTML
addMailAttributesBeforeDisplay
_replacementFilenamesByContentID
replaceImagesIfNecessary
containsRichText
plainTextContent
htmlString
htmlStringsAttachmentURLsEncodingsAndPlainTextAlternative
topLevelHTMLString
otherHTMLStringsAndAttachmentURLs
length
quotedAttachmentsCIDs
stringsAndQuoteLevels
placeCaretAtStartOfBody
insertAttachment
countDuplicatedAttachments
replaceFilenamePlaceholderWithImage
replaceFilenamePlaceholderWithAttachment
replaceRichLinkPlaceholderImage
removeMediaAttachment
displayAttachmentWithIdentifierAsSinglePagePDF
addSignature
updateSignature
finalizeSignature
removeSignature
shouldChangeSelectedRange
string
charset
parse
copyConsumableNodesAndAppendInnerTextToStringAccumulator
@"JSValue"16@?0@"WKWebProcessPlugInNodeHandle"8
parentNode
tagName
getAttribute
messageBodyParserFoundMessageBodyElement
isPad
remoteContentProxySchemePrefix
T@"JSValue",R,N
T#,R
bundleForClass:
T@"<ECMessageBodyElement_Private>",&,V_lastUnindentedAttributionHint
containsObject:
T@"<ECMessageBodyNode>",R
ef_map:
T@"MessageUIWebProcessPlugIn",R,W,D,N
isEqualToArray:
T@"NSString",R,C
isLinebreakImpliedAfterTagName:
T@"NSString",R,N
jsNodes
TB,R,N
lowercaseString
Td,R,N
release
UTF8String
removeSignature
_bodyFieldInterface
setWithObjects:
_copyBundleRangeHandleRef
toArray
_dirty
webProcessPlugInBrowserContextController:didCommitLoadForFrame:
_fieldControllersByContext
.cxx_destruct
T@"<ECMessageBodyElement_Private>",&
composeBodyFieldIsDirtyChanged:
T@"<ECMessageBodyElement_Private>",&,V_lastUnindentedElement
dealloc
T@"<MFComposeBodyFieldObserver>",R,N
isArray
T@"NSString",R
isImage
T@"NSString",R,C,N
isProxy
T@"NSURL",R,N
TQ,R
numberWithBool:
URLWithString:
remoteObjectProxyWithInterface:
_addMarkupString:quote:emptyFirst:prepended:composeType:attachmentInfoByURL:completionHandler:
setURL:
_controller
tagName
_copyConsumableNodesFromBodyElement:andAppendInnerTextToStringAccumulator:
_document
webProcessPlugInBrowserContextController:didFinishLoadForFrame:
_initWithDocument:
_jsParser
_jsSignatureController
_lastUnindentedAttributionHint
_lastUnindentedElement
_observerProxy
_performSignatureControllerMethodOnPage:withArguments:
_remoteObjectRegistry
_selectedAttachmentIdentifiers
_setDirty:
_setEditingDelegate:
_shouldForceSelectionFromSecondToFirstLine
_signatureControllerInterface
_webProcessPlugInBrowserContextController:pasteboardDataForRange:
_webProcessPlugInBrowserContextController:performTwoStepDrop:atDestination:isMove:
_webProcessPlugInBrowserContextController:shouldChangeSelectedRange:toRange:affinity:stillSelecting:
_webProcessPlugInBrowserContextController:shouldInsertText:replacingRange:givenAction:
_webProcessPlugInBrowserContextController:willWriteRangeToPasteboard:
_webProcessPlugInBrowserContextControllerDidChangeByEditing:
_webProcessPlugInBrowserContextControllerDidWriteToPasteboard:
absoluteString
addMailAttributesBeforeDisplayHidingTrailingEmptyQuotes:shouldQuote:
addMarkupString:quote:emptyFirst:prepended:composeType:attachmentInfoByURL:
addObject:
addSignature:prepend:
addSubparser:
additionalClassesForParameterCoder
appendNewline
appendOrReplace:withMarkupString:quote:composeType:attachmentInfoByURL:completionHandler:
appendRange:ofString:
appendRangeWithLocation:length:ofString:
appendRangeWithLocation:length:ofString:__JS_EXPORT_AS__appendRange:
arrayWithObjects:count:
attachmentTapped:
autorelease
blockRemoteContent
boolValue
cacheRetainsNodes
caseInsensitiveCompare:
changeQuoteLevelBy:withUndoActionName:
charsetForEncoding:
charsetName
class
className
composeBodyFieldAddAttachmentWithData:filename:mimeType:uniqueID:
composeBodyFieldDidChange
composeBodyFieldDidThrowException:
composeBodyFieldSelectionContainsLinkStateDidChange:
conformsToProtocol:
constructWithArguments:
containsRichText:
controller
copyConsumableNodesAndAppendInnerTextToStringAccumulator:
countDuplicatedAttachments:completionHandler:
currentContext
currentThis
debugDescription
defaultComposeFontFamily
defaultComposeFontPixelSize
defineProperty:descriptor:
description
detectDataWithTypes:context:
dictionaryWithObjects:forKeys:count:
didFinishParsing
displayAttachmentWithIdentifierAsSinglePagePDF:completionHandler:
doubleValue
ec_isAttribution
ec_isForwardSeparator
ef_isHTTPOrHTTPSURL
ef_urlByReplacingSchemeWithScheme:
enqueueParagraphJSNode:withTagName:
enqueueParagraphNode:withTagName:
evaluateScript:withSourceURL:
filename
finalizeSignature:
flushParagraphNodes
forceNextSelectionFromSecondToFirstLine
frame
getAttribute:
globalObject
hash
htmlStringUsingAttachmentInfoByIdentifier:completionHandler:
htmlStringsAttachmentURLsAndPlainTextAlternativeRemovingSignature:attachmentInfoByIdentifier:completion:
init
initWithBytes:length:encoding:
initWithCapacity:
initWithPlugIn:contextController:
initWithString:charset:
initializeBodyField:
initializeGlobalObject
insertAttachmentAsImage:isSinglePagePDF:contentType:completionHandler:
insertRichLinkWithURL:completionHandler:
invalidate
invokeMethod:withArguments:
isBasicImage
isDisplayableImage
isEqual:
isFull
isKindOfClass:
isLandmarkTagName:
isLinebreakImpliedBeforeTagName:
isMemberOfClass:
isNull
isNumber
isObject
isPad
isString
jsBodyField
jsContext
jsNodeForNodeHandle:inWorld:
jsRangeForRangeHandle:inWorld:
localizedStringForKey:value:table:
makeRichLinkFromSelection
managedValueWithValue:
messageBodyElementClass
messageBodyParser:foundMessageBodyElement:
messageBodyStringAccumulatorClass
mf_bestMimeCharsetUsingHint:
mutableCopy
nodeHandleWithJSValue:inContext:
nodes
normalWorld
numberWithInt:
objectAtIndexedSubscript:
objectForKey:
objectForKeyedSubscript:
observerProxy
parameters
parentNode
parse
parser
performBodyFieldMethodOnPage:withArguments:
performOnPage:
performSelector:
performSelector:withObject:
performSelector:withObject:withObject:
placeCaretAtStartOfBody
plainTextContentUsingAttachmentInfoByIdentifier:completionHandler:
plugIn
prependPreamble:quote:layoutDirection:
quoteLevel
rangeHandleWithJSValue:inContext:
registerExportedObject:interface:
releaseExternally
remoteContentProxySchemePrefix
remoteObjectInterfaceWithProtocol:
removeMediaAttachment:completionHandler:
removeObjectForKey:
removeRichLinkFromSelection
replaceFilenamePlaceholderWithAttachment:identifier:
replaceFilenamePlaceholderWithImage:completionHandler:
replaceImagesIfNecessary
replaceRichLinkPlaceholderImage:completionHandler:
respondsToSelector:
retain
retainCount
retainExternally
scheme
selectedAttachmentIdentifiersDidChange:
self
setClasses:forSelector:argumentIndex:ofReply:
setDirty:completionHandler:
setJSNodes:
setLoadDelegate:
setNodes:
setObject:forKey:
setObject:forKeyedSubscript:
setReplacementFilenamesByContentID:
setTimeoutInterval:
set_lastUnindentedAttributionHint:
set_lastUnindentedElement:
shouldProceedParsing
stringByAppendingString:
stringWithUTF8String:
stripCustomBodyIdentifiers
strongToStrongObjectsMapTable
superclass
toBool
toNumber
toObject
toString
toUInt32
unregisterExportedObject:interface:
unsignedIntegerValue
updateSignature:
useRichLinks
value
valueForAttributes:
valueForKey:
valueWithBool:inContext:
valueWithObject:inContext:
webProcessPlugIn:didCreateBrowserContextController:
webProcessPlugIn:initializeWithObject:
webProcessPlugIn:willDestroyBrowserContextController:
webProcessPlugInBrowserContextController:didClearWindowObjectForFrame:inScriptWorld:
webProcessPlugInBrowserContextController:didFailLoadWithErrorForFrame:error:
webProcessPlugInBrowserContextController:didFailProvisionalLoadWithErrorForFrame:error:
webProcessPlugInBrowserContextController:didFinishDocumentLoadForFrame:
webProcessPlugInBrowserContextController:didFirstVisuallyNonEmptyLayoutForFrame:
webProcessPlugInBrowserContextController:didHandleOnloadEventsForFrame:
webProcessPlugInBrowserContextController:didLayoutForFrame:
webProcessPlugInBrowserContextController:didReceiveServerRedirectForProvisionalLoadForFrame:
webProcessPlugInBrowserContextController:didRemoveFrameFromHierarchy:
webProcessPlugInBrowserContextController:didSameDocumentNavigation:forFrame:
webProcessPlugInBrowserContextController:didStartProvisionalLoadForFrame:
webProcessPlugInBrowserContextController:frame:didFailLoadForResource:error:
webProcessPlugInBrowserContextController:frame:didFinishLoadForResource:
webProcessPlugInBrowserContextController:frame:didInitiateLoadForResource:request:
webProcessPlugInBrowserContextController:frame:didInitiateLoadForResource:request:pageIsProvisionallyLoading:
webProcessPlugInBrowserContextController:frame:didReceiveResponse:forResource:
webProcessPlugInBrowserContextController:frame:willSendRequest:redirectResponse:
webProcessPlugInBrowserContextController:frame:willSendRequestForResource:request:redirectResponse:
webProcessPlugInBrowserContextController:globalObjectIsAvailableForFrame:inScriptWorld:
webProcessPlugInBrowserContextController:renderingProgressDidChange:
webProcessPlugInBrowserContextController:serviceWorkerGlobalObjectIsAvailableForFrame:inScriptWorld:
webProcessPlugInBrowserContextController:willInjectUserScriptForFrame:inScriptWorld:
webProcessPlugInBrowserContextControllerRenderingProgressEvents:
willBeginParsing
zone
MFComposeBodyFieldController
MSComposeBodyFieldController
NSObject
MFMailSignatureController
MFComposeBodyFieldObserver
MSComposeBodyFieldObserver
ComposeBodyFieldBundleController
WKWebProcessPlugInEditingDelegate
WKWebProcessPlugInLoadDelegate
ComposeBodyFieldBundleControllerExtras
_ComposeBodyFieldBundleControllerMFMimeCharset
JSExport
_ComposeBodyFieldBundleControllerMFMessageBodyParser
_ComposeBodyFieldBundleControllerMFComposeAttachmentInfo
MessageBodyDOMParser
MessageBodyDOMElement
_MessageBodyDOMElement
MessageBodyStringAccumulator
_MessageBodyStringAccumulator
MessageUIWebProcessBundleExtras
ECMessageBodyNode
MessageBodyDOMQuoteSubparser
MessageUIWebProcessPlugIn
WKWebProcessPlugIn
B24@0:8@16
#16@0:8
@16@0:8
@24@0:8:16
@32@0:8:16@24
@40@0:8:16@24@32
B16@0:8
B24@0:8#16
B24@0:8:16
Vv16@0:8
Q16@0:8
^{_NSZone=}16@0:8
B24@0:8@"Protocol"16
@"NSString"16@0:8
v32@0:8@16@?24
v16@0:8
v32@0:8q16@24
v32@0:8@"NSURL"16@?<v@?>24
v32@0:8q16@"NSString"24
v36@0:8@16B24q28
v52@0:8@16B24B28B32q36@44
v60@0:8@16@24B32q36@44@?52
v24@0:8B16B20
v24@0:8@16
v40@0:8B16B20@24@?32
v32@0:8@16@24
v24@0:8@?16
v36@0:8B16@20@?28
v28@0:8B16@?20
v36@0:8@"NSString"16B24q28
v52@0:8@"NSString"16B24B28B32q36@"NSDictionary"44
v60@0:8@"NSString"16@"NSString"24B32q36@"NSDictionary"44@?<v@?@"NSDictionary">52
v24@0:8@"NSDictionary"16
v40@0:8B16B20@"NSString"24@?<v@?@"NSString">32
v32@0:8@"NSString"16@?<v@?@"NSNumber">24
v32@0:8@"NSString"16@?<v@?@"NSString">24
v32@0:8@"NSString"16@"NSString"24
v32@0:8@"NSString"16@?<v@?>24
v24@0:8@?<v@?B>16
v32@0:8@"NSDictionary"16@?<v@?@"NSArray">24
v32@0:8@"NSDictionary"16@?<v@?@"NSString">24
v36@0:8B16@"NSDictionary"20@?<v@?@"ECHTMLStringAndMIMECharset"@"NSArray"@"NSArray"@"NSArray">28
v28@0:8B16@?<v@?>20
v28@0:8@16B24
v28@0:8@"NSString"16B24
v24@0:8@"NSString"16
v24@0:8@?<v@?>16
v48@0:8@16@24@32@40
v48@0:8@"NSData"16@"NSString"24@"NSString"32@"NSString"40
v24@0:8@"NSException"16
v20@0:8B16
v24@0:8@"NSArray"16
B48@0:8@16@24@32q40
B52@0:8@16@24@32q40B48
@32@0:8@16@24
B44@0:8@16@24@32B40
B48@0:8@"WKWebProcessPlugInBrowserContextController"16@"NSString"24@"WKWebProcessPlugInRangeHandle"32q40
B52@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKDOMRange"24@"WKDOMRange"32q40B48
v24@0:8@"WKWebProcessPlugInBrowserContextController"16
v32@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKWebProcessPlugInRangeHandle"24
@"NSDictionary"32@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKWebProcessPlugInRangeHandle"24
B44@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKWebProcessPlugInNodeHandle"24@"WKWebProcessPlugInRangeHandle"32B40
v40@0:8@16@24@32
v40@0:8@16q24@32
v32@0:8@16Q24
Q24@0:8@16
@56@0:8@16@24Q32@40@48
@48@0:8@16@24@32@40
v52@0:8@16@24Q32@40B48
v48@0:8@16@24Q32@40
v48@0:8@16@24@32Q40
v40@0:8@16@24Q32
v32@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKWebProcessPlugInFrame"24
v40@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKWebProcessPlugInFrame"24@"NSError"32
v40@0:8@"WKWebProcessPlugInBrowserContextController"16q24@"WKWebProcessPlugInFrame"32
v40@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKWebProcessPlugInFrame"24@"WKWebProcessPlugInScriptWorld"32
v32@0:8@"WKWebProcessPlugInBrowserContextController"16Q24
Q24@0:8@"WKWebProcessPlugInBrowserContextController"16
@"NSURLRequest"56@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKWebProcessPlugInFrame"24Q32@"NSURLRequest"40@"NSURLResponse"48
@"NSURLRequest"48@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKWebProcessPlugInFrame"24@"NSURLRequest"32@"NSURLResponse"40
v52@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKWebProcessPlugInFrame"24Q32@"NSURLRequest"40B48
v48@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKWebProcessPlugInFrame"24Q32@"NSURLRequest"40
v48@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKWebProcessPlugInFrame"24@"NSURLResponse"32Q40
v40@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKWebProcessPlugInFrame"24Q32
v48@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKWebProcessPlugInFrame"24Q32@"NSError"40
v60@0:8@16B24B28B32q36@44@?52
@"_WKRemoteObjectInterface"
@"JSValue"
@"<MFComposeBodyFieldObserver>"
@"NSArray"
B24@0:8@"NSString"16
@"NSURL"16@0:8
@24@0:8@16
v24@0:8d16
@24@0:8@"JSValue"16
v24@0:8@"ECMessageBodySubparser"16
v32@0:8@"JSValue"16@"NSString"24
@"JSValue"16@0:8
@"JSManagedValue"
Q24@0:8Q16
@"NSArray"16@0:8
v24@0:8@"JSValue"16
@"<ECMessageBodyElement_Private>"16@0:8
v40@0:8Q16Q24@32
v48@0:8Q16Q24@32@40
v40@0:8Q16Q24@"NSString"32
v48@0:8Q16Q24@"NSString"32@40
@"<ECMessageBodyNode>"16@0:8
@"NSString"24@0:8@"NSString"16
v24@0:8@"<ECMessageBodyElement_Private>"16
@"<ECMessageBodyElement_Private>"
v32@0:8@"WKWebProcessPlugInController"16@24
v32@0:8@"WKWebProcessPlugInController"16@"WKWebProcessPlugInBrowserContextController"24
d16@0:8
@"WKWebProcessPlugInController"
@"NSMapTable"
Blocked request for %{public}@
 * Copyright (c) <%= Time.now.strftime(fmt="%Y") %> Apple Inc. All rights reserved.
"use strict";Object.defineProperty(this,"BodyFieldIOS",{value:function(){BodyField.call(this),this._blockquote=null,this._needsReplaceImages=!1,this._selectionContainsLink=!1,addEventListener("load",()=>{document.body.setAttribute("role","textbox"),document.body.ariaLabel=this._localizedAccessibilityLabel,document.addEventListener("selectionchange",()=>{let e=getSelection();if(!e.rangeCount||!e.isCollapsed||document.queryCommandEnabled("InsertText"))return;let t=e.getRangeAt(0);e.setPosition(t.startContainer,t.startOffset)})})}}),BodyFieldIOS.prototype=Object.create(BodyField.prototype),BodyFieldIOS.prototype.constructor=BodyField,BodyFieldIOS.prototype._addNode=function(e,t,n,i){if(t){let t=document.createElement("blockquote");t.setAttribute("type","cite"),t.appendChild(e),e=t,this._blockquote=e}let o=document.body;if(n){let n;for(;n=o.firstChild;)o.removeChild(n);o.appendChild(e),t||(this._blockquote=null)}else if(i){let t=o.firstChild;t?o.insertBefore(e,t):o.appendChild(e)}else o.appendChild(e);let r=window.getSelection();r.isCollapsed||r.setBaseAndExtent(o,0,o,1),this._needsReplaceImages=!0},BodyFieldIOS.prototype._replaceImages=function(){if(this._needsReplaceImages=!1,!this._replacementFilenamesByContentID)return;let e,t=document.createNodeIterator(document.body,NodeFilter.SHOW_ALL);for(;e=t.nextNode();){let t="";if(e instanceof HTMLImageElement?t=e.src:e instanceof HTMLAttachmentElement&&(t=e.getAttribute("src")),t&&t.startsWith(MFContentIDScheme)){let n=t.substring(4),i=this._replacementFilenamesByContentID[n];if(i){let t=document.createElement("div");t.textContent=`<${i}>`,e.replaceWith(t)}}}},BodyFieldIOS.prototype.replaceImagesIfNecessary=function(){this._needsReplaceImages&&this._replaceImages()},BodyFieldIOS.prototype.prependPreamble=function(e,t,n){let i=document.createElement("div");i.appendChild(document.createElement("br"));let o=i;t&&((o=document.createElement("blockquote")).setAttribute("type","cite"),i.appendChild(o));let r=e.match(/(^\n*)([^]*[^\n])(\n*$)/);if(r){let{1:e,2:t,3:n}=r;for(let t=0;t<e.length;++t)o.appendChild(document.createElement("br"));o.appendChild(document.createTextNode(t));for(let e=0;e<n.length;++e)o.appendChild(document.createElement("br"))}i.dir=n?"ltr":"rtl",this._addNode(i,!1,!1,!0)},BodyFieldIOS.prototype._getRulesSkippingUnmatchedConditionals=function(e){if(!(e instanceof CSSRule))return[];if(!(e instanceof CSSConditionRule))return[e.cssText];let t=e.conditionText,n=[];if(e instanceof CSSMediaRule&&window.matchMedia(t).matches||e instanceof CSSSupportsRule&&CSS.supports(t))for(let t of e.cssRules)n=n.concat(this._getRulesSkippingUnmatchedConditionals(t));return n},BodyFieldIOS.prototype._stripUnmatchedMediaRules=function(){for(let e of document.styleSheets){if(!e.ownerNode)continue;let t=[];for(let n of e.rules){let e=this._getRulesSkippingUnmatchedConditionals(n);t=t.concat(e)}e.ownerNode.innerHTML=t.join("\n")}},BodyFieldIOS.prototype.addMarkupString=function(e,t,n,i,o,r){let a={};if(!e.length)return a;let l=document.createElement("div");l.innerHTML=e;let d;o&&(l.mf_stripCSSStyle(),d=((e,t)=>e.className=t.className)),this._addNode(l,t,n,i),this._stripUnmatchedMediaRules(),l.mf_setDirAttributeToComputedValue();for(let e of l.querySelectorAll("attachment"))a[e.uniqueIdentifier]=e.id,e.removeAttribute("id");let c=this.convertInternalImagesToAttachments(l,r,d);Object.assign(c,this.convertObjectElementsToAttachmentElements(l,r));for(let e in c)a[e]=c[e].absoluteString().substring(4);return a},BodyFieldIOS.prototype.addMailAttributesBeforeDisplay=function(e,t){let n=new MessageBodyDOMParser(document),i=new MessageBodyDOMQuoteSubparser;n.setTimeoutInterval(5);let o=!1;i.foundDedentedAttributionRangeHandler=function(e){if(t){let t=document.createElement("blockquote");t.setAttribute("type","cite"),t.setAttribute("x-apple-mail",MFHtmlTemporaryPresentationElement),e.surroundContents(t),o=!0}},e&&(i.foundTrailingEmptyQuoteRangeHandler=function(e){let t=document.createElement("div");t.style.display="none",t.setAttribute("x-apple-mail",MFHtmlTemporaryPresentationElement),e.surroundContents(t),o=!0}),n.addSubparser(i),n.parse()},BodyFieldIOS.prototype.containsRichText=function(){return document.body.mf_containsRichText()},BodyFieldIOS.prototype.plainTextContent=function(e){return MFCreatePlainTextRepresentationFromDOMDocument(document,t=>{let n;return t instanceof HTMLAttachmentElement?n=e[t.uniqueIdentifier]:t instanceof HTMLImageElement&&t.attachmentIdentifier&&(n=e[t.attachmentIdentifier]),n?n.url:null})},BodyFieldIOS.prototype.htmlString=function(e){let t=new Set;for(let e of document.body.querySelectorAll("attachment, img:has-attachment"))e instanceof HTMLImageElement?e.dataset.uniqueIdentifier=e.attachmentIdentifier:e.dataset.uniqueIdentifier=e.uniqueIdentifier,t.add(e.dataset.uniqueIdentifier);let n=document.body.cloneNode(!0);for(let i of n.querySelectorAll("attachment[data-unique-identifier], img[data-unique-identifier]")){let n=i.dataset.uniqueIdentifier,o=e[n];t.has(n)&&o&&(i instanceof HTMLImageElement?i.src=o.url.absoluteString():i.id=o.url.absoluteString().substring(4)),delete i.dataset.uniqueIdentifier}for(let e of document.body.querySelectorAll("attachment[data-unique-identifier], img[data-unique-identifier]"))delete e.dataset.uniqueIdentifier;return n.innerHTML},BodyFieldIOS.prototype.bodyInnerHTML=function(){return document.body.innerHTML},BodyFieldIOS.prototype.htmlStringsAttachmentURLsEncodingsAndPlainTextAlternative=function(e,t){let n=null;if(e){let e=new SignatureController;(n=e.currentSignature())&&e.updateSignature("")}let i=MFCreateHTMLFragmentsAndAttachmentsFromDOMDocument(document,t),o=MFCreatePlainTextRepresentationFromDOMDocument(document);return e&&n&&(new SignatureController).updateSignature(n),1===o.length&&(i.stringsAndQuoteLevels=o[0]),i.quotedAttachmentsCIDs=MFFindQuotedAttachmentsFromDOMDocument(document,attachmentForNode,t),i},BodyFieldIOS.prototype.placeCaretAtStartOfBody=function(){getSelection().setPosition(document.body,0)},BodyFieldIOS.prototype.countDuplicatedAttachments=function(e){return Array.from(document.querySelectorAll("div")).filter(t=>t.innerText==`<${e}>`&&0==t.childElementCount).length},BodyFieldIOS.prototype.replaceFilenamePlaceholderWithAttachment=function(e,t){let n=Array.from(document.querySelectorAll("div")).filter(t=>t.innerText==`<${e}>`&&0==t.childElementCount)[0];if(n)for(let e of document.querySelectorAll("attachment"))if(e.uniqueIdentifier==t){n.replaceWith(e);break}},BodyFieldIOS.prototype.replaceFilenamePlaceholderWithImage=function(e){let t=document.createElement("img");t.className=kMFComposeImageAttachmentClass;let n=Array.from(document.querySelectorAll("div")).filter(t=>t.innerText==`<${e}>`&&0==t.childElementCount)[0];return n?(n.replaceWith(t),HTMLAttachmentElement.getAttachmentIdentifier(t)):null},BodyFieldIOS.prototype.replaceRichLinkPlaceholderImage=function(e){let t=document.createElement("img"),n=Array.from(document.querySelectorAll("img")).filter(t=>t.src.endsWith(e)||t.id==e)[0];if(n){for(let e of["style","width","height","draggable","class"])t.setAttribute(e,n.getAttribute(e));return t.classList.add(kMFComposeImageAttachmentClass),n.replaceWith(t),HTMLAttachmentElement.getAttachmentIdentifier(t)}return null},BodyFieldIOS.prototype.insertAttachment=function(e,t,n){t&&(e=!0);let i=e?"img":"attachment",o=document.createElement(i);e?o.className=t?kMFComposeSinglePagePDFClass:kMFComposeImageAttachmentClass:o.setAttribute("type",n);let r=window.getSelection();r.rangeCount||r.addRange(document.createRange());let a=r.getRangeAt(0);return this.replaceRangeWithNode(a,o),a.setStartAfter(o),a.setEndAfter(o),r.empty(),r.addRange(a),e?HTMLAttachmentElement.getAttachmentIdentifier(o):o.uniqueIdentifier},BodyFieldIOS.prototype.removeMediaAttachment=function(e){let t=this._attachmentNodeByIdentifier(e);if(t){let e=document.createRange();e.setStartBefore(t),e.setEndAfter(t),this.deleteRange(e);let n=window.getSelection();n.empty(),n.addRange(e)}},BodyFieldIOS.prototype.displayAttachmentWithIdentifierAsSinglePagePDF=function(e){let t=Array.prototype.find.call(document.querySelectorAll("attachment"),t=>t.uniqueIdentifier===e);if(null==t)return null!=Array.prototype.find.call(document.querySelectorAll("img"),t=>HTMLAttachmentElement.getAttachmentIdentifier(t)===e)?e:null;{let e=document.createElement("img");return e.className=kMFComposeSinglePagePDFClass,t.replaceWith(e),HTMLAttachmentElement.getAttachmentIdentifier(e)}},BodyFieldIOS.prototype._updateLinkInSelection=function(e){let t=e.toString().ef_isWebAddress();this._selectionContainsLink!==t&&(this._selectionContainsLink=t,this._selectionContainsLinkStateDidChange(t))},BodyFieldIOS.prototype._attachmentNodeByIdentifier=function(e){let t=document.querySelectorAll("img,attachment"),n=null;for(let i of t)if((i instanceof HTMLAttachmentElement?i.uniqueIdentifier:i.attachmentIdentifier)===e){n=i;break}return n},BodyFieldIOS.prototype._updateAttachmentURLsInSelection=function(e){let t=[],n=document.querySelectorAll("img,attachment"),i=e.startContainer?e.startContainer.getRootNode():null;for(let o of n){if(i!=o.getRootNode())break;if(e.compareNode(o)===Range.NODE_INSIDE){let e=o instanceof HTMLAttachmentElement?o.uniqueIdentifier:o.attachmentIdentifier;e&&t.push(e)}}for(let o of n){if(i!=o.getRootNode())break;let n=document.createRange();if(n.selectNode(o),0===n.compareBoundaryPoints(Range.START_TO_START,e)||0===n.compareBoundaryPoints(Range.START_TO_END,e)){let e=o instanceof HTMLAttachmentElement?o.uniqueIdentifier:o.attachmentIdentifier;e&&t.push(e)}}this._selectedAttachmentIdentifiersDidChange(t)},BodyFieldIOS.prototype.shouldChangeSelectedRange=function(e,t){let n=!0;if(t){let t=document.body.firstElementChild,i=t&&t.firstElementChild,o=i&&i.nextElementSibling;if(t&&"DIV"===t.tagName&&i&&"BR"===i.tagName&&o&&"BR"===o.tagName&&e.startContainer===t&&e.endContainer===t&&1===e.startOffset&&1===e.startOffset){e.setStartBefore(i),e.setEndBefore(i);let t=getSelection();t.empty(),t.addRange(e),n=!1}}return this._updateAttachmentURLsInSelection(e),this._updateLinkInSelection(e),n};const attachmentInfoForNode=function(e,t){let n;return e instanceof HTMLAttachmentElement?n=e.uniqueIdentifier:e instanceof HTMLImageElement&&(n=e.attachmentIdentifier),n?t[n]:undefined},attachmentForNode=function(e,t){let n=attachmentInfoForNode(e,t);return n?n.url.absoluteString():null},MFCreateHTMLFragmentsAndAttachmentsFromDOMDocument=function(e,t){let n=e.body,i=e.createRange();i.setStartBefore(n);let o,r,a=NSUTF8StringEncoding,l=!1,d=n;for(;d;){let n=attachmentInfoForNode(d,t);if(n){a=undefined;let c=!1;if(l||(n.isBasicImage||d.mf_isRichLinkPreview())&&(r||(r=[]),r.push(d),c=!0),!c){if(l=!0,o||(o=[]),r){for(let n of r){i.setEndBefore(n);const r=_copyHtmlStringFromRange(e,i,a,!1,!1,!0,!0);r&&o.push(r);let l=attachmentForNode(n,t);o.push(l),i.setStartAfter(n)}r=null}i.setEndBefore(d);const c=_copyHtmlStringFromRange(e,i,a,!1,!1,!0,!0);c&&o.push(c),o.push(n.url.absoluteString()),i.setStartAfter(d)}}let c=d.firstChild;for(;!c&&d;)(c=d.nextSibling)||(c=(d=d.parentNode)&&d.nextSibling);d=c}i.setEndAfter(n);let c=new Set,u=new SignatureController,s=u&&u._locateSignatureDiv(e);for(let t of e.querySelectorAll("attachment, img"))s&&s.contains(t)||(t instanceof HTMLImageElement?t.dataset.uniqueIdentifier=t.attachmentIdentifier:t.dataset.uniqueIdentifier=t.uniqueIdentifier,c.add(t.dataset.uniqueIdentifier));const m=_copyHtmlStringFromRange(e,i,a,!1,!1,!0,!0,n=>{let i=n.dataset.uniqueIdentifier;if(i&&c.has(i)){delete n.dataset.uniqueIdentifier;let o=t[i];if(o&&n instanceof HTMLImageElement)n.src=o.url.absoluteString();else if(null==o){let t=n.getAttribute("title");if(t){let i=e.createElement("div");i.textContent=`<${t}>`,n.replaceWith(i)}}}});for(let t of e.querySelectorAll("attachment[data-unique-identifier], img[data-unique-identifier]"))delete t.dataset.uniqueIdentifier;let f;if(!r&&o&&o.length)f=undefined,m&&o.push(m);else if(f=m,r){o||(o=[]);for(let e of r){let n=attachmentForNode(e,t);o.push(n)}}return{topLevelHTMLString:f,otherHTMLStringsAndAttachmentURLs:o}};BodyFieldIOS.prototype.replacePlaceholderWithAttachment=function(e,t){let n;if(t.isImage){let i=document.createElement("img");i.className=t.className,e.replaceWith(i),n=HTMLAttachmentElement.getAttachmentIdentifier(i)}else{let t=document.createElement("attachment");e.replaceWith(t),n=t.uniqueIdentifier}return n};
 * Copyright (c) <%= Time.now.strftime(fmt="%Y") %> Apple Inc. All rights reserved.
"use strict";const MFAttachmentAttributeContentIDKey="id",MFAttributeOriginalWidth="X-APPLE-ORIGINAL-WIDTH",MFAttributeOriginalHeight="X-APPLE-ORIGINAL-HEIGHT",MFMailSignatureAttribute="AppleMailSignature",kMFComposeFileAttachmentClass="Apple-mail-fileattach",kMFComposeImageAttachmentClass="Apple-mail-imageattach",kMFComposeSinglePagePDFClass="Apple-mail-pdf";
 * Copyright (c) <%= Time.now.strftime(fmt="%Y") %> Apple Inc. All rights reserved.
"use strict";Element.prototype.mf_stripCSSStyle=function(){for(let t of this.querySelectorAll("style[type='text/css']"))t.parentNode.removeChild(t)},Element.prototype.mf_setDirAttributeToComputedValue=function(){this.setAttribute("dir","auto");let t=getComputedStyle(this).direction;"ltr"===t||"rtl"===t?this.setAttribute("dir",t):this.removeAttribute("dir")};
 * Copyright (c) <%= Time.now.strftime(fmt="%Y") %> Apple Inc. All rights reserved.
"use strict";HTMLBodyElement.prototype.recursivelyRemoveMailAttributes=function(){this.removeAttribute("aria-label"),this.removeAttribute("role"),Object.getPrototypeOf(HTMLBodyElement).prototype.recursivelyRemoveMailAttributes.call(this)};
 * Copyright (c) <%= Time.now.strftime(fmt="%Y") %> Apple Inc. All rights reserved.
"use strict";
 * Copyright (c) <%= Time.now.strftime(fmt="%Y") %> Apple Inc. All rights reserved.
"use strict";const _MFIsComposeAttachmentClassName=function(t){return t===kMFComposeImageAttachmentClass||t===kMFComposeFileAttachmentClass||t==kMFComposeSinglePagePDFClass};HTMLElement.prototype.recursivelyRemoveMailAttributes=function(){if(_MFIsComposeAttachmentClassName(this.getAttribute("CLASS"))&&this.removeAttribute("CLASS"),this.classList.contains(kMFComposeImageAttachmentClass)&&this.classList.remove(kMFComposeImageAttachmentClass),Object.getPrototypeOf(HTMLElement).prototype.recursivelyRemoveMailAttributes.call(this),MFHtmlTemporaryPresentationElement===this.getAttribute("x-apple-mail")&&null!=this.parentElement){let t=this.firstChild;for(;t;){let e=t.nextSibling;this.parentElement.insertBefore(t,this),t=e}this.parentElement.removeChild(this)}};
 * Copyright (c) <%= Time.now.strftime(fmt="%Y") %> Apple Inc. All rights reserved.
"use strict";HTMLImageElement.prototype.mf_unconstrainImageSize=function(){if(this.hasAttribute(MFAttributeOriginalWidth)){let t=this.getAttribute(MFAttributeOriginalWidth);""===t?(this.removeAttribute("WIDTH"),this.style.removeProperty("width"),this.style.removeProperty("max-width")):this.width=t}if(this.hasAttribute(MFAttributeOriginalHeight)){let t=this.getAttribute(MFAttributeOriginalHeight);""===t?(this.removeAttribute("HEIGHT"),this.style.removeProperty("height"),this.style.removeProperty("max-height")):this.height=t}this.removeAttribute(MFAttributeOriginalWidth),this.removeAttribute(MFAttributeOriginalHeight)},HTMLImageElement.prototype.recursivelyRemoveMailAttributes=function(){_MFIsComposeAttachmentClassName(this.getAttribute("CLASS"))&&this.mf_unconstrainImageSize(),Object.getPrototypeOf(HTMLImageElement).prototype.recursivelyRemoveMailAttributes.call(this)};
 * Copyright (c) <%= Time.now.strftime(fmt="%Y") %> Apple Inc. All rights reserved.
"use strict";MessageBodyDOMParser.prototype.enqueueParagraphNode=function(e,t){this.enqueueParagraphJSNodeWithTagName(e,t)},MessageBodyDOMParser.prototype._consumeAccumulatedNodes=function(e){for(let t of e)this.enqueueParagraphNode(t,t.tagName);this.flushParagraphNodes()},MessageBodyDOMParser.prototype.parse=function(){let e=this._document.body,t=[],s=[],n=e,o=0,a=o;for(this.willBeginParsing();n&&this.shouldProceedParsing();){let r=null,i=o;if(n.hasChildNodes())r=n.firstChild,i++,s=[],t.push(s);else if(s.push(n),!(r=n.nextSibling)){let o=n;for(;!(r=o.nextSibling)&&(o=o.parentNode)&&o!==e;){let e=--i>=a;if(!e){for(let e of t)this._consumeAccumulatedNodes(e),e.length=0;a=-1}t.pop(),s=t[t.length-1],e&&s.push(o)}}if(n=r,o=i,n instanceof Element){let e=n.tagName;if(this.isLandmarkTagName(e)){a=o;for(let e of t)this._consumeAccumulatedNodes(e),e.length=0}}}for(let e of t)this._consumeAccumulatedNodes(e);return this.didFinishParsing(),!0},MessageBodyDOMParser.prototype.copyConsumableNodesAndAppendInnerTextToStringAccumulator=function(e,t){for(let s of e.jsNodes()){let e=null,n=null;if(s instanceof Element){let t=s;n=t.mf_isAttachment()?"\xa0":t.innerText,e=t.tagName}else s instanceof Text&&(n=s.data);if(MFMessageBodyParser.isLinebreakImpliedBeforeTagName(e)&&t.appendNewline(),n&&t.appendRange(0,n.length,n),MFMessageBodyParser.isLinebreakImpliedAfterTagName(e)&&t.appendNewline(),t.isFull())break}return null},MessageBodyDOMParser.prototype.rangeForElement=function(e){let t=this._document.createRange(),s=e.jsNodes();return t.setStartBefore(s[0]),t.setEndAfter(s[s.length-1]),t},MessageBodyDOMParser.prototype.extendRangeToElement=function(e,t){let s=t.jsNodes();e.setEndAfter(s[s.length-1])},MessageBodyDOMParser.prototype.rangeFromElementToElement=function(e,t){let s=this._document.createRange();s.setStartBefore(e.jsNodes()[0]);let n=t.jsNodes();return s.setEndAfter(n[n.length-1]),s};
 * Copyright (c) <%= Time.now.strftime(fmt="%Y") %> Apple Inc. All rights reserved.
"use strict";MessageBodyDOMQuoteSubparser.prototype.AttributeEmpty=1,MessageBodyDOMQuoteSubparser.prototype.AttributeWhitespace=4,MessageBodyDOMQuoteSubparser.prototype.AttributeAttribution=8,MessageBodyDOMQuoteSubparser.prototype.AttributeAttributionPrefix=128,MessageBodyDOMQuoteSubparser.prototype.doesRangeContainAnyElementWithTagName=function(t,e){let n=!1,i=t.commonAncestorContainer;if(i instanceof Element){let s=i.getElementsByTagName(e),r=s.length;for(let e=0;e<r;e++)if(t.intersectsNode(s.item(e))){n=!0;break}}return n},MessageBodyDOMQuoteSubparser.prototype._enumerateSurroundableRangesInRange=function(t,e){let n=t.startContainer,i=t.endContainer;if(n===i)e(t);else{let s=t.commonAncestorContainer,r=t.cloneRange(),o=n.mf_childNodeAtIndex(t.startOffset),a=!0;for(;n!==s;)a?r.setStartBefore(o):r.setStartAfter(o),r.setEndAfter(o.mf_lastSibling()),e(r),n=(o=n).parentNode,a=!1;let d=i.mf_childNodeAtIndex(t.endOffset-1),l=!0;for(;i!==s;)l?r.setEndAfter(d):r.setEndBefore(d),r.setStartBefore(d.mf_firstSibling()),e(r),i=(d=i).parentNode,l=!1;a?r.setStartBefore(o):r.setStartAfter(o),l?r.setEndAfter(d):r.setEndBefore(d),e(r)}},MessageBodyDOMQuoteSubparser.prototype.messageBodyParserFoundMessageBodyElement=function(t,e){if(this.foundDedentedAttributionRangeHandler){const n=2;if(this._unindentedSiblingNodes||(this._unindentedSiblingNodes=[]),this._lastUnindentedAttributionHint&&e.quoteLevel()===this._lastUnindentedElement.quoteLevel()+1&&(this._lastUnindentedAttributionHint.setJSNodes(this._lastUnindentedAttributionHint.jsNodes().concat(this._unindentedSiblingNodes)),this._lastUnindentedAttributionHint.valueForAttributes(this.AttributeAttribution))){let e=t.rangeFromElementToElement(this._lastUnindentedAttributionHint,this._lastUnindentedElement);this._enumerateSurroundableRangesInRange(e,t=>{this.foundDedentedAttributionRangeHandler(t)}),this._lastUnindentedAttributionHint&&this._lastUnindentedAttributionHint.releaseExternally(),this._lastUnindentedAttributionHint=undefined,this._unindentedSiblingGap=0,this._unindentedSiblingNodes.length=0}if(e.valueForAttributes(this.AttributeAttributionPrefix)){this._lastUnindentedAttributionHint&&this._lastUnindentedAttributionHint.releaseExternally(),this._lastUnindentedAttributionHint=e.retainExternally();for(let t of e.jsNodes())this._unindentedSiblingNodes.push(t)}else if(this._lastUnindentedAttributionHint)if(this._unindentedSiblingGap>n)this._lastUnindentedAttributionHint&&this._lastUnindentedAttributionHint.releaseExternally(),this._lastUnindentedAttributionHint=undefined,this._unindentedSiblingGap=0,this._unindentedSiblingNodes.length=0;else{for(let t of e.jsNodes())this._unindentedSiblingNodes.push(t);this._unindentedSiblingGap++}this._lastUnindentedElement&&this._lastUnindentedElement.releaseExternally(),this._lastUnindentedElement=e.retainExternally()}if(this.foundTrailingEmptyQuoteRangeHandler){if(this._trailingEmptyQuoteRange){let n=!1;e.quoteLevel()<this._trailingEmptyQuoteLevel?this.doesRangeContainAnyElementWithTagName(this._trailingEmptyQuoteRange,"img")||this._enumerateSurroundableRangesInRange(this._trailingEmptyQuoteRange,t=>{this.foundTrailingEmptyQuoteRangeHandler(t)}):e.quoteLevel()===this._trailingEmptyQuoteLevel&&0!==e.valueForAttributes(this.AttributeEmpty|this.AttributeWhitespace)&&(n=!0),n?t.extendRangeToElement(this._trailingEmptyQuoteRange,e):this._trailingEmptyQuoteRange=null}!this._trailingEmptyQuoteRange&&e.quoteLevel()>0&&0!==e.valueForAttributes(this.AttributeEmpty|this.AttributeWhitespace)&&(this._trailingEmptyQuoteRange=t.rangeForElement(e),this._trailingEmptyQuoteLevel=e.quoteLevel())}};
 * Copyright (c) <%= Time.now.strftime(fmt="%Y") %> Apple Inc. All rights reserved.
"use strict";Node.prototype.mf_isAttachment=function(){let t=!1;if(this instanceof Element){let e=this;"wrapper"===e.getAttribute("x-apple-mail")?t=!0:IS_PAD()&&"ATTACHMENT"===e.tagName&&(t=!0)}return t},Node.prototype.mf_childNodeAtIndex=function(t){let e=this.firstChild;for(;e&&t>0;)e=e.nextSibling,t--;return e},Node.prototype.mf_firstSibling=function(){let t=this,e=null;for(;e=t.previousSibling;)t=e;return t},Node.prototype.mf_lastSibling=function(){let t=this,e=null;for(;e=t.nextSibling;)t=e;return t},Node.prototype.recursivelyRemoveMailAttributes=function(){let t=this.firstChild;for(;t;){let e=t.nextSibling;t.recursivelyRemoveMailAttributes(),t=e}};
 * Copyright (c) <%= Time.now.strftime(fmt="%Y") %> Apple Inc. All rights reserved.
"use strict";
 * Copyright (c) <%= Time.now.strftime(fmt="%Y") %> Apple Inc. All rights reserved.
"use strict";Object.defineProperty(this,"SignatureController",{value:function(){}}),SignatureController._handleSignatureModified=function(e){let t=e.currentTarget;t.removeEventListener("DOMCharacterDataModified",SignatureController._handleSignatureModified),t.removeEventListener("DOMSubtreeModified",SignatureController._handleSignatureModified),t.removeAttribute("id");let n=t.firstChild;for(;n;){let e=n.nextSibling;n.nodeType===Node.COMMENT_NODE&&t.removeChild(n),n=e}},SignatureController.prototype={constructor:SignatureController,_isDraftRestore:function(e){return"<div><span></span></div>"===e.body.innerHTML},_locateSignatureDiv:function(e){let t=e.body.querySelectorAll(`div[id="${MFMailSignatureAttribute}"]`);for(let e=0;e<t.length;++e){let n=t.item(e);if(!n.mf_isQuoteOrWithinQuote())return n}return null},_updateToSignature:function(e,t){if(null===e||!t)return!1;let n=!1,i=`<!-- signature placeholder open -->${e}<!-- signature placeholder close -->`,r=this._locateSignatureDiv(t);if(r){let e=r;do{e.removeEventListener("DOMCharacterDataModified",SignatureController._handleSignatureModified),e.removeEventListener("DOMSubtreeModified",SignatureController._handleSignatureModified),e.removeAttribute("id"),e=this._locateSignatureDiv(t)}while(e);let o=r.innerHTML;o.match(/<!-- signature open -->.*?<!-- signature close -->/g)&&(r.innerHTML=o.replace(/<!-- signature open -->.*?<!-- signature close -->/g,i),r.id=MFMailSignatureAttribute,n=!0)}if(!n){let e=`<div id='${MFMailSignatureAttribute}'>${i}</div>`,r=t.body.innerHTML;r.match(/<!-- signature open -->.*?<!-- signature close -->/g)&&(t.body.innerHTML=r.replace(/<!-- signature open -->.*?<!-- signature close -->/g,e),n=!0)}let o=t.body.innerHTML;if(o.match(/<!-- signature [a-z]{4,5} -->/g)&&(t.body.innerHTML=o.replace(/<!-- signature [a-z]{4,5} -->/g,"")),n){let e=this._locateSignatureDiv(t);if(e){let t=e.innerHTML;t.match(/<!-- signature placeholder /g)&&(e.innerHTML=t.replace(/<!-- signature placeholder /g,"<!-- signature ")),e.mf_setDirAttributeToComputedValue(),e.addEventListener("DOMCharacterDataModified",SignatureController._handleSignatureModified),e.addEventListener("DOMSubtreeModified",SignatureController._handleSignatureModified)}}return n},_createSignatureElement:function(e,t,n,i){n=n||e.body.firstChild;let r=e.createElement("div");if(r.id=MFMailSignatureAttribute,t?n&&n.parentNode.insertBefore(r,n):e.body.appendChild(r),i){let t=`<!-- signature open -->${i}<!-- signature close -->`;r.innerHTML=t;let n=r.parentElement;n&&(n.insertBefore(e.createElement("BR"),r),n.insertBefore(e.createElement("BR"),r))}return r.mf_setDirAttributeToComputedValue(),r.addEventListener("DOMCharacterDataModified",SignatureController._handleSignatureModified),r.addEventListener("DOMSubtreeModified",SignatureController._handleSignatureModified),r},_createSignature:function(e,t,n,i){let r=this._locateSignatureDiv(t);return r||(r=this._createSignatureElement(t,n,i,e)),r},_prependSignature:function(e,t,n){let i;for(;n;){if(n instanceof HTMLElement){let r=n.innerText;(r.mf_isAttribution()||r.mf_isForwardSeparator())&&(i=this._createSignature(e,t,!0,n))}n=n.previousSibling}return i},currentSignature:function(){let e=null,t=this._locateSignatureDiv(document);if(t){let n=t.innerHTML.match(/<!-- signature open -->(.*?)<!-- signature close -->/);n&&2===n.length?e=n[1]:(n=document.body.innerHTML.match(/<!-- signature open -->(.*?)<!-- signature close -->/))&&2===n.length&&(e=n[1])}return e},addSignature:function(e,t){let n=this._locateSignatureDiv(document);document&&!n&&this._createSignature(e,document,t,null)},updateSignature:function(e){if(this._isDraftRestore(document))return;let t=!1,n=document.body.lastChild;n||(t=!0);let i=document.getElementsByTagName("blockquote");i.length&&(t=!0),this._updateToSignature(e,document)||(t?(n=i.item(0)||n)&&this._prependSignature(e,document,n)&&getSelection().setPosition(document.body,0):this._createSignature(e,document,!1,null))},finalizeSignature:function(){let e=this._locateSignatureDiv(document);e&&e.removeEventListener("DOMCharacterDataModified",SignatureController._handleSignatureModified),e&&e.removeEventListener("DOMSubtreeModified",SignatureController._handleSignatureModified);const t=document.createTreeWalker(document.body,NodeFilter.SHOW_COMMENT,{acceptNode:e=>e.textContent.match(/^ signature [a-z]{4,5} $/)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}),n=[];for(;t.nextNode();)n.push(t.currentNode);for(const e of n)e.remove();e&&e.removeAttribute("id")},removeSignature:function(){this._updateToSignature("",document)}};
 * Copyright (c) <%= Time.now.strftime(fmt="%Y") %> Apple Inc. All rights reserved.
"use strict";Object.defineProperty(this,"BodyFieldIOS",{value:function(){BodyField.call(this),this._blockquote=null,this._needsReplaceImages=!1,this._selectionContainsLink=!1,addEventListener("load",()=>{document.body.setAttribute("role","textbox"),document.body.ariaLabel=this._localizedAccessibilityLabel,document.addEventListener("selectionchange",()=>{let e=getSelection();if(!e.rangeCount||!e.isCollapsed||document.queryCommandEnabled("InsertText"))return;let t=e.getRangeAt(0);e.setPosition(t.startContainer,t.startOffset)})})}}),BodyFieldIOS.prototype=Object.create(BodyField.prototype),BodyFieldIOS.prototype.constructor=BodyField,BodyFieldIOS.prototype._addNode=function(e,t,n,i){if(t){let t=document.createElement("blockquote");t.setAttribute("type","cite"),t.appendChild(e),e=t,this._blockquote=e}let o=document.body;if(n){let n;for(;n=o.firstChild;)o.removeChild(n);o.appendChild(e),t||(this._blockquote=null)}else if(i){let t=o.firstChild;t?o.insertBefore(e,t):o.appendChild(e)}else o.appendChild(e);let r=window.getSelection();r.isCollapsed||r.setBaseAndExtent(o,0,o,1),this._needsReplaceImages=!0},BodyFieldIOS.prototype._replaceImages=function(){if(this._needsReplaceImages=!1,!this._replacementFilenamesByContentID)return;let e,t=document.createNodeIterator(document.body,NodeFilter.SHOW_ALL);for(;e=t.nextNode();){let t="";if(e instanceof HTMLImageElement?t=e.src:e instanceof HTMLAttachmentElement&&(t=e.getAttribute("src")),t&&t.startsWith(MFContentIDScheme)){let n=t.substring(4),i=this._replacementFilenamesByContentID[n];if(i){let t=document.createElement("div");t.textContent=`<${i}>`,e.replaceWith(t)}}}},BodyFieldIOS.prototype.replaceImagesIfNecessary=function(){this._needsReplaceImages&&this._replaceImages()},BodyFieldIOS.prototype.prependPreamble=function(e,t,n){let i=document.createElement("div");i.appendChild(document.createElement("br"));let o=i;t&&((o=document.createElement("blockquote")).setAttribute("type","cite"),i.appendChild(o));let r=e.match(/(^\n*)([^]*[^\n])(\n*$)/);if(r){let{1:e,2:t,3:n}=r;for(let t=0;t<e.length;++t)o.appendChild(document.createElement("br"));o.appendChild(document.createTextNode(t));for(let e=0;e<n.length;++e)o.appendChild(document.createElement("br"))}i.dir=n?"ltr":"rtl",this._addNode(i,!1,!1,!0)},BodyFieldIOS.prototype._getRulesSkippingUnmatchedConditionals=function(e){if(!(e instanceof CSSRule))return[];if(!(e instanceof CSSConditionRule))return[e.cssText];let t=e.conditionText,n=[];if(e instanceof CSSMediaRule&&window.matchMedia(t).matches||e instanceof CSSSupportsRule&&CSS.supports(t))for(let t of e.cssRules)n=n.concat(this._getRulesSkippingUnmatchedConditionals(t));return n},BodyFieldIOS.prototype._stripUnmatchedMediaRules=function(){for(let e of document.styleSheets){if(!e.ownerNode)continue;let t=[];for(let n of e.rules){let e=this._getRulesSkippingUnmatchedConditionals(n);t=t.concat(e)}e.ownerNode.innerHTML=t.join("\n")}},BodyFieldIOS.prototype.addMarkupString=function(e,t,n,i,o,r){let a={};if(!e.length)return a;let l=document.createElement("div");l.innerHTML=e;let d;o&&(l.mf_stripCSSStyle(),d=((e,t)=>e.className=t.className)),this._addNode(l,t,n,i),this._stripUnmatchedMediaRules(),l.mf_setDirAttributeToComputedValue();for(let e of l.querySelectorAll("attachment"))a[e.uniqueIdentifier]=e.id,e.removeAttribute("id");let c=this.convertInternalImagesToAttachments(l,r,d);Object.assign(c,this.convertObjectElementsToAttachmentElements(l,r));for(let e in c)a[e]=c[e].absoluteString().substring(4);return a},BodyFieldIOS.prototype.addMailAttributesBeforeDisplay=function(e,t){let n=new MessageBodyDOMParser(document),i=new MessageBodyDOMQuoteSubparser;n.setTimeoutInterval(5);let o=!1;i.foundDedentedAttributionRangeHandler=function(e){if(t){let t=document.createElement("blockquote");t.setAttribute("type","cite"),t.setAttribute("x-apple-mail",MFHtmlTemporaryPresentationElement),e.surroundContents(t),o=!0}},e&&(i.foundTrailingEmptyQuoteRangeHandler=function(e){let t=document.createElement("div");t.style.display="none",t.setAttribute("x-apple-mail",MFHtmlTemporaryPresentationElement),e.surroundContents(t),o=!0}),n.addSubparser(i),n.parse()},BodyFieldIOS.prototype.containsRichText=function(){return document.body.mf_containsRichText()},BodyFieldIOS.prototype.plainTextContent=function(e){return MFCreatePlainTextRepresentationFromDOMDocument(document,t=>{let n;return t instanceof HTMLAttachmentElement?n=e[t.uniqueIdentifier]:t instanceof HTMLImageElement&&t.attachmentIdentifier&&(n=e[t.attachmentIdentifier]),n?n.url:null})},BodyFieldIOS.prototype.htmlString=function(e){let t=new Set;for(let e of document.body.querySelectorAll("attachment, img:has-attachment"))e instanceof HTMLImageElement?e.dataset.uniqueIdentifier=e.attachmentIdentifier:e.dataset.uniqueIdentifier=e.uniqueIdentifier,t.add(e.dataset.uniqueIdentifier);let n=document.body.cloneNode(!0);for(let i of n.querySelectorAll("attachment[data-unique-identifier], img[data-unique-identifier]")){let n=i.dataset.uniqueIdentifier,o=e[n];t.has(n)&&o&&(i instanceof HTMLImageElement?i.src=o.url.absoluteString():i.id=o.url.absoluteString().substring(4)),delete i.dataset.uniqueIdentifier}for(let e of document.body.querySelectorAll("attachment[data-unique-identifier], img[data-unique-identifier]"))delete e.dataset.uniqueIdentifier;return n.innerHTML},BodyFieldIOS.prototype.bodyInnerHTML=function(){return document.body.innerHTML},BodyFieldIOS.prototype.htmlStringsAttachmentURLsEncodingsAndPlainTextAlternative=function(e,t){let n=null;if(e){let e=new SignatureController;(n=e.currentSignature())&&e.updateSignature("")}let i=MFCreateHTMLFragmentsAndAttachmentsFromDOMDocument(document,t),o=MFCreatePlainTextRepresentationFromDOMDocument(document);return e&&n&&(new SignatureController).updateSignature(n),1===o.length&&(i.stringsAndQuoteLevels=o[0]),i.quotedAttachmentsCIDs=MFFindQuotedAttachmentsFromDOMDocument(document,attachmentForNode,t),i},BodyFieldIOS.prototype.placeCaretAtStartOfBody=function(){getSelection().setPosition(document.body,0)},BodyFieldIOS.prototype.countDuplicatedAttachments=function(e){return Array.from(document.querySelectorAll("div")).filter(t=>t.innerText==`<${e}>`&&0==t.childElementCount).length},BodyFieldIOS.prototype.replaceFilenamePlaceholderWithAttachment=function(e,t){let n=Array.from(document.querySelectorAll("div")).filter(t=>t.innerText==`<${e}>`&&0==t.childElementCount)[0];if(n)for(let e of document.querySelectorAll("attachment"))if(e.uniqueIdentifier==t){n.replaceWith(e);break}},BodyFieldIOS.prototype.replaceFilenamePlaceholderWithImage=function(e){let t=document.createElement("img");t.className=kMFComposeImageAttachmentClass;let n=Array.from(document.querySelectorAll("div")).filter(t=>t.innerText==`<${e}>`&&0==t.childElementCount)[0];return n?(n.replaceWith(t),HTMLAttachmentElement.getAttachmentIdentifier(t)):null},BodyFieldIOS.prototype.replaceRichLinkPlaceholderImage=function(e){let t=document.createElement("img"),n=Array.from(document.querySelectorAll("img")).filter(t=>t.src.endsWith(e)||t.id==e)[0];if(n){for(let e of["style","width","height","draggable","class"])t.setAttribute(e,n.getAttribute(e));return t.classList.add(kMFComposeImageAttachmentClass),n.replaceWith(t),HTMLAttachmentElement.getAttachmentIdentifier(t)}return null},BodyFieldIOS.prototype.insertAttachment=function(e,t,n){t&&(e=!0);let i=e?"img":"attachment",o=document.createElement(i);e?o.className=t?kMFComposeSinglePagePDFClass:kMFComposeImageAttachmentClass:o.setAttribute("type",n);let r=window.getSelection();r.rangeCount||r.addRange(document.createRange());let a=r.getRangeAt(0);return this.replaceRangeWithNode(a,o),a.setStartAfter(o),a.setEndAfter(o),r.empty(),r.addRange(a),e?HTMLAttachmentElement.getAttachmentIdentifier(o):o.uniqueIdentifier},BodyFieldIOS.prototype.removeMediaAttachment=function(e){let t=this._attachmentNodeByIdentifier(e);if(t){let e=document.createRange();e.setStartBefore(t),e.setEndAfter(t),this.deleteRange(e);let n=window.getSelection();n.empty(),n.addRange(e)}},BodyFieldIOS.prototype.displayAttachmentWithIdentifierAsSinglePagePDF=function(e){let t=Array.prototype.find.call(document.querySelectorAll("attachment"),t=>t.uniqueIdentifier===e);if(null==t)return null!=Array.prototype.find.call(document.querySelectorAll("img"),t=>HTMLAttachmentElement.getAttachmentIdentifier(t)===e)?e:null;{let e=document.createElement("img");return e.className=kMFComposeSinglePagePDFClass,t.replaceWith(e),HTMLAttachmentElement.getAttachmentIdentifier(e)}},BodyFieldIOS.prototype._updateLinkInSelection=function(e){let t=e.toString().ef_isWebAddress();this._selectionContainsLink!==t&&(this._selectionContainsLink=t,this._selectionContainsLinkStateDidChange(t))},BodyFieldIOS.prototype._attachmentNodeByIdentifier=function(e){let t=document.querySelectorAll("img,attachment"),n=null;for(let i of t)if((i instanceof HTMLAttachmentElement?i.uniqueIdentifier:i.attachmentIdentifier)===e){n=i;break}return n},BodyFieldIOS.prototype._updateAttachmentURLsInSelection=function(e){let t=[],n=document.querySelectorAll("img,attachment"),i=e.startContainer?e.startContainer.getRootNode():null;for(let o of n){if(i!=o.getRootNode())break;if(e.compareNode(o)===Range.NODE_INSIDE){let e=o instanceof HTMLAttachmentElement?o.uniqueIdentifier:o.attachmentIdentifier;e&&t.push(e)}}for(let o of n){if(i!=o.getRootNode())break;let n=document.createRange();if(n.selectNode(o),0===n.compareBoundaryPoints(Range.START_TO_START,e)||0===n.compareBoundaryPoints(Range.START_TO_END,e)){let e=o instanceof HTMLAttachmentElement?o.uniqueIdentifier:o.attachmentIdentifier;e&&t.push(e)}}this._selectedAttachmentIdentifiersDidChange(t)},BodyFieldIOS.prototype.shouldChangeSelectedRange=function(e,t){let n=!0;if(t){let t=document.body.firstElementChild,i=t&&t.firstElementChild,o=i&&i.nextElementSibling;if(t&&"DIV"===t.tagName&&i&&"BR"===i.tagName&&o&&"BR"===o.tagName&&e.startContainer===t&&e.endContainer===t&&1===e.startOffset&&1===e.startOffset){e.setStartBefore(i),e.setEndBefore(i);let t=getSelection();t.empty(),t.addRange(e),n=!1}}return this._updateAttachmentURLsInSelection(e),this._updateLinkInSelection(e),n};const attachmentInfoForNode=function(e,t){let n;return e instanceof HTMLAttachmentElement?n=e.uniqueIdentifier:e instanceof HTMLImageElement&&(n=e.attachmentIdentifier),n?t[n]:undefined},attachmentForNode=function(e,t){let n=attachmentInfoForNode(e,t);return n?n.url.absoluteString():null},MFCreateHTMLFragmentsAndAttachmentsFromDOMDocument=function(e,t){let n=e.body,i=e.createRange();i.setStartBefore(n);let o,r,a=NSUTF8StringEncoding,l=!1,d=n;for(;d;){let n=attachmentInfoForNode(d,t);if(n){a=undefined;let c=!1;if(l||(n.isBasicImage||d.mf_isRichLinkPreview())&&(r||(r=[]),r.push(d),c=!0),!c){if(l=!0,o||(o=[]),r){for(let n of r){i.setEndBefore(n);const r=_copyHtmlStringFromRange(e,i,a,!1,!1,!0,!0);r&&o.push(r);let l=attachmentForNode(n,t);o.push(l),i.setStartAfter(n)}r=null}i.setEndBefore(d);const c=_copyHtmlStringFromRange(e,i,a,!1,!1,!0,!0);c&&o.push(c),o.push(n.url.absoluteString()),i.setStartAfter(d)}}let c=d.firstChild;for(;!c&&d;)(c=d.nextSibling)||(c=(d=d.parentNode)&&d.nextSibling);d=c}i.setEndAfter(n);let c=new Set,u=new SignatureController,s=u&&u._locateSignatureDiv(e);for(let t of e.querySelectorAll("attachment, img"))s&&s.contains(t)||(t instanceof HTMLImageElement?t.dataset.uniqueIdentifier=t.attachmentIdentifier:t.dataset.uniqueIdentifier=t.uniqueIdentifier,c.add(t.dataset.uniqueIdentifier));const m=_copyHtmlStringFromRange(e,i,a,!1,!1,!0,!0,n=>{let i=n.dataset.uniqueIdentifier;if(i&&c.has(i)){delete n.dataset.uniqueIdentifier;let o=t[i];if(o&&n instanceof HTMLImageElement)n.src=o.url.absoluteString();else if(null==o){let t=n.getAttribute("title");if(t){let i=e.createElement("div");i.textContent=`<${t}>`,n.replaceWith(i)}}}});for(let t of e.querySelectorAll("attachment[data-unique-identifier], img[data-unique-identifier]"))delete t.dataset.uniqueIdentifier;let f;if(!r&&o&&o.length)f=undefined,m&&o.push(m);else if(f=m,r){o||(o=[]);for(let e of r){let n=attachmentForNode(e,t);o.push(n)}}return{topLevelHTMLString:f,otherHTMLStringsAndAttachmentURLs:o}};BodyFieldIOS.prototype.replacePlaceholderWithAttachment=function(e,t){let n;if(t.isImage){let i=document.createElement("img");i.className=t.className,e.replaceWith(i),n=HTMLAttachmentElement.getAttachmentIdentifier(i)}else{let t=document.createElement("attachment");e.replaceWith(t),n=t.uniqueIdentifier}return n};
 * Copyright (c) <%= Time.now.strftime(fmt="%Y") %> Apple Inc. All rights reserved.
"use strict";const MFAttachmentAttributeContentIDKey="id",MFAttributeOriginalWidth="X-APPLE-ORIGINAL-WIDTH",MFAttributeOriginalHeight="X-APPLE-ORIGINAL-HEIGHT",MFMailSignatureAttribute="AppleMailSignature",kMFComposeFileAttachmentClass="Apple-mail-fileattach",kMFComposeImageAttachmentClass="Apple-mail-imageattach",kMFComposeSinglePagePDFClass="Apple-mail-pdf";
 * Copyright (c) <%= Time.now.strftime(fmt="%Y") %> Apple Inc. All rights reserved.
"use strict";Element.prototype.mf_stripCSSStyle=function(){for(let t of this.querySelectorAll("style[type='text/css']"))t.parentNode.removeChild(t)},Element.prototype.mf_setDirAttributeToComputedValue=function(){this.setAttribute("dir","auto");let t=getComputedStyle(this).direction;"ltr"===t||"rtl"===t?this.setAttribute("dir",t):this.removeAttribute("dir")};
 * Copyright (c) <%= Time.now.strftime(fmt="%Y") %> Apple Inc. All rights reserved.
"use strict";HTMLBodyElement.prototype.recursivelyRemoveMailAttributes=function(){this.removeAttribute("aria-label"),this.removeAttribute("role"),Object.getPrototypeOf(HTMLBodyElement).prototype.recursivelyRemoveMailAttributes.call(this)};
 * Copyright (c) <%= Time.now.strftime(fmt="%Y") %> Apple Inc. All rights reserved.
"use strict";
 * Copyright (c) <%= Time.now.strftime(fmt="%Y") %> Apple Inc. All rights reserved.
"use strict";const _MFIsComposeAttachmentClassName=function(t){return t===kMFComposeImageAttachmentClass||t===kMFComposeFileAttachmentClass||t==kMFComposeSinglePagePDFClass};HTMLElement.prototype.recursivelyRemoveMailAttributes=function(){if(_MFIsComposeAttachmentClassName(this.getAttribute("CLASS"))&&this.removeAttribute("CLASS"),this.classList.contains(kMFComposeImageAttachmentClass)&&this.classList.remove(kMFComposeImageAttachmentClass),Object.getPrototypeOf(HTMLElement).prototype.recursivelyRemoveMailAttributes.call(this),MFHtmlTemporaryPresentationElement===this.getAttribute("x-apple-mail")&&null!=this.parentElement){let t=this.firstChild;for(;t;){let e=t.nextSibling;this.parentElement.insertBefore(t,this),t=e}this.parentElement.removeChild(this)}};
 * Copyright (c) <%= Time.now.strftime(fmt="%Y") %> Apple Inc. All rights reserved.
"use strict";HTMLImageElement.prototype.mf_unconstrainImageSize=function(){if(this.hasAttribute(MFAttributeOriginalWidth)){let t=this.getAttribute(MFAttributeOriginalWidth);""===t?(this.removeAttribute("WIDTH"),this.style.removeProperty("width"),this.style.removeProperty("max-width")):this.width=t}if(this.hasAttribute(MFAttributeOriginalHeight)){let t=this.getAttribute(MFAttributeOriginalHeight);""===t?(this.removeAttribute("HEIGHT"),this.style.removeProperty("height"),this.style.removeProperty("max-height")):this.height=t}this.removeAttribute(MFAttributeOriginalWidth),this.removeAttribute(MFAttributeOriginalHeight)},HTMLImageElement.prototype.recursivelyRemoveMailAttributes=function(){_MFIsComposeAttachmentClassName(this.getAttribute("CLASS"))&&this.mf_unconstrainImageSize(),Object.getPrototypeOf(HTMLImageElement).prototype.recursivelyRemoveMailAttributes.call(this)};
 * Copyright (c) <%= Time.now.strftime(fmt="%Y") %> Apple Inc. All rights reserved.
"use strict";MessageBodyDOMParser.prototype.enqueueParagraphNode=function(e,t){this.enqueueParagraphJSNodeWithTagName(e,t)},MessageBodyDOMParser.prototype._consumeAccumulatedNodes=function(e){for(let t of e)this.enqueueParagraphNode(t,t.tagName);this.flushParagraphNodes()},MessageBodyDOMParser.prototype.parse=function(){let e=this._document.body,t=[],s=[],n=e,o=0,a=o;for(this.willBeginParsing();n&&this.shouldProceedParsing();){let r=null,i=o;if(n.hasChildNodes())r=n.firstChild,i++,s=[],t.push(s);else if(s.push(n),!(r=n.nextSibling)){let o=n;for(;!(r=o.nextSibling)&&(o=o.parentNode)&&o!==e;){let e=--i>=a;if(!e){for(let e of t)this._consumeAccumulatedNodes(e),e.length=0;a=-1}t.pop(),s=t[t.length-1],e&&s.push(o)}}if(n=r,o=i,n instanceof Element){let e=n.tagName;if(this.isLandmarkTagName(e)){a=o;for(let e of t)this._consumeAccumulatedNodes(e),e.length=0}}}for(let e of t)this._consumeAccumulatedNodes(e);return this.didFinishParsing(),!0},MessageBodyDOMParser.prototype.copyConsumableNodesAndAppendInnerTextToStringAccumulator=function(e,t){for(let s of e.jsNodes()){let e=null,n=null;if(s instanceof Element){let t=s;n=t.mf_isAttachment()?"\xa0":t.innerText,e=t.tagName}else s instanceof Text&&(n=s.data);if(MFMessageBodyParser.isLinebreakImpliedBeforeTagName(e)&&t.appendNewline(),n&&t.appendRange(0,n.length,n),MFMessageBodyParser.isLinebreakImpliedAfterTagName(e)&&t.appendNewline(),t.isFull())break}return null},MessageBodyDOMParser.prototype.rangeForElement=function(e){let t=this._document.createRange(),s=e.jsNodes();return t.setStartBefore(s[0]),t.setEndAfter(s[s.length-1]),t},MessageBodyDOMParser.prototype.extendRangeToElement=function(e,t){let s=t.jsNodes();e.setEndAfter(s[s.length-1])},MessageBodyDOMParser.prototype.rangeFromElementToElement=function(e,t){let s=this._document.createRange();s.setStartBefore(e.jsNodes()[0]);let n=t.jsNodes();return s.setEndAfter(n[n.length-1]),s};
 * Copyright (c) <%= Time.now.strftime(fmt="%Y") %> Apple Inc. All rights reserved.
"use strict";MessageBodyDOMQuoteSubparser.prototype.AttributeEmpty=1,MessageBodyDOMQuoteSubparser.prototype.AttributeWhitespace=4,MessageBodyDOMQuoteSubparser.prototype.AttributeAttribution=8,MessageBodyDOMQuoteSubparser.prototype.AttributeAttributionPrefix=128,MessageBodyDOMQuoteSubparser.prototype.doesRangeContainAnyElementWithTagName=function(t,e){let n=!1,i=t.commonAncestorContainer;if(i instanceof Element){let s=i.getElementsByTagName(e),r=s.length;for(let e=0;e<r;e++)if(t.intersectsNode(s.item(e))){n=!0;break}}return n},MessageBodyDOMQuoteSubparser.prototype._enumerateSurroundableRangesInRange=function(t,e){let n=t.startContainer,i=t.endContainer;if(n===i)e(t);else{let s=t.commonAncestorContainer,r=t.cloneRange(),o=n.mf_childNodeAtIndex(t.startOffset),a=!0;for(;n!==s;)a?r.setStartBefore(o):r.setStartAfter(o),r.setEndAfter(o.mf_lastSibling()),e(r),n=(o=n).parentNode,a=!1;let d=i.mf_childNodeAtIndex(t.endOffset-1),l=!0;for(;i!==s;)l?r.setEndAfter(d):r.setEndBefore(d),r.setStartBefore(d.mf_firstSibling()),e(r),i=(d=i).parentNode,l=!1;a?r.setStartBefore(o):r.setStartAfter(o),l?r.setEndAfter(d):r.setEndBefore(d),e(r)}},MessageBodyDOMQuoteSubparser.prototype.messageBodyParserFoundMessageBodyElement=function(t,e){if(this.foundDedentedAttributionRangeHandler){const n=2;if(this._unindentedSiblingNodes||(this._unindentedSiblingNodes=[]),this._lastUnindentedAttributionHint&&e.quoteLevel()===this._lastUnindentedElement.quoteLevel()+1&&(this._lastUnindentedAttributionHint.setJSNodes(this._lastUnindentedAttributionHint.jsNodes().concat(this._unindentedSiblingNodes)),this._lastUnindentedAttributionHint.valueForAttributes(this.AttributeAttribution))){let e=t.rangeFromElementToElement(this._lastUnindentedAttributionHint,this._lastUnindentedElement);this._enumerateSurroundableRangesInRange(e,t=>{this.foundDedentedAttributionRangeHandler(t)}),this._lastUnindentedAttributionHint&&this._lastUnindentedAttributionHint.releaseExternally(),this._lastUnindentedAttributionHint=undefined,this._unindentedSiblingGap=0,this._unindentedSiblingNodes.length=0}if(e.valueForAttributes(this.AttributeAttributionPrefix)){this._lastUnindentedAttributionHint&&this._lastUnindentedAttributionHint.releaseExternally(),this._lastUnindentedAttributionHint=e.retainExternally();for(let t of e.jsNodes())this._unindentedSiblingNodes.push(t)}else if(this._lastUnindentedAttributionHint)if(this._unindentedSiblingGap>n)this._lastUnindentedAttributionHint&&this._lastUnindentedAttributionHint.releaseExternally(),this._lastUnindentedAttributionHint=undefined,this._unindentedSiblingGap=0,this._unindentedSiblingNodes.length=0;else{for(let t of e.jsNodes())this._unindentedSiblingNodes.push(t);this._unindentedSiblingGap++}this._lastUnindentedElement&&this._lastUnindentedElement.releaseExternally(),this._lastUnindentedElement=e.retainExternally()}if(this.foundTrailingEmptyQuoteRangeHandler){if(this._trailingEmptyQuoteRange){let n=!1;e.quoteLevel()<this._trailingEmptyQuoteLevel?this.doesRangeContainAnyElementWithTagName(this._trailingEmptyQuoteRange,"img")||this._enumerateSurroundableRangesInRange(this._trailingEmptyQuoteRange,t=>{this.foundTrailingEmptyQuoteRangeHandler(t)}):e.quoteLevel()===this._trailingEmptyQuoteLevel&&0!==e.valueForAttributes(this.AttributeEmpty|this.AttributeWhitespace)&&(n=!0),n?t.extendRangeToElement(this._trailingEmptyQuoteRange,e):this._trailingEmptyQuoteRange=null}!this._trailingEmptyQuoteRange&&e.quoteLevel()>0&&0!==e.valueForAttributes(this.AttributeEmpty|this.AttributeWhitespace)&&(this._trailingEmptyQuoteRange=t.rangeForElement(e),this._trailingEmptyQuoteLevel=e.quoteLevel())}};
 * Copyright (c) <%= Time.now.strftime(fmt="%Y") %> Apple Inc. All rights reserved.
"use strict";Node.prototype.mf_isAttachment=function(){let t=!1;if(this instanceof Element){let e=this;"wrapper"===e.getAttribute("x-apple-mail")?t=!0:IS_PAD()&&"ATTACHMENT"===e.tagName&&(t=!0)}return t},Node.prototype.mf_childNodeAtIndex=function(t){let e=this.firstChild;for(;e&&t>0;)e=e.nextSibling,t--;return e},Node.prototype.mf_firstSibling=function(){let t=this,e=null;for(;e=t.previousSibling;)t=e;return t},Node.prototype.mf_lastSibling=function(){let t=this,e=null;for(;e=t.nextSibling;)t=e;return t},Node.prototype.recursivelyRemoveMailAttributes=function(){let t=this.firstChild;for(;t;){let e=t.nextSibling;t.recursivelyRemoveMailAttributes(),t=e}};
 * Copyright (c) <%= Time.now.strftime(fmt="%Y") %> Apple Inc. All rights reserved.
"use strict";
 * Copyright (c) <%= Time.now.strftime(fmt="%Y") %> Apple Inc. All rights reserved.
"use strict";Object.defineProperty(this,"SignatureController",{value:function(){}}),SignatureController._handleSignatureModified=function(e){let t=e.currentTarget;t.removeEventListener("DOMCharacterDataModified",SignatureController._handleSignatureModified),t.removeEventListener("DOMSubtreeModified",SignatureController._handleSignatureModified),t.removeAttribute("id");let n=t.firstChild;for(;n;){let e=n.nextSibling;n.nodeType===Node.COMMENT_NODE&&t.removeChild(n),n=e}},SignatureController.prototype={constructor:SignatureController,_isDraftRestore:function(e){return"<div><span></span></div>"===e.body.innerHTML},_locateSignatureDiv:function(e){let t=e.body.querySelectorAll(`div[id="${MFMailSignatureAttribute}"]`);for(let e=0;e<t.length;++e){let n=t.item(e);if(!n.mf_isQuoteOrWithinQuote())return n}return null},_updateToSignature:function(e,t){if(null===e||!t)return!1;let n=!1,i=`<!-- signature placeholder open -->${e}<!-- signature placeholder close -->`,r=this._locateSignatureDiv(t);if(r){let e=r;do{e.removeEventListener("DOMCharacterDataModified",SignatureController._handleSignatureModified),e.removeEventListener("DOMSubtreeModified",SignatureController._handleSignatureModified),e.removeAttribute("id"),e=this._locateSignatureDiv(t)}while(e);let o=r.innerHTML;o.match(/<!-- signature open -->.*?<!-- signature close -->/g)&&(r.innerHTML=o.replace(/<!-- signature open -->.*?<!-- signature close -->/g,i),r.id=MFMailSignatureAttribute,n=!0)}if(!n){let e=`<div id='${MFMailSignatureAttribute}'>${i}</div>`,r=t.body.innerHTML;r.match(/<!-- signature open -->.*?<!-- signature close -->/g)&&(t.body.innerHTML=r.replace(/<!-- signature open -->.*?<!-- signature close -->/g,e),n=!0)}let o=t.body.innerHTML;if(o.match(/<!-- signature [a-z]{4,5} -->/g)&&(t.body.innerHTML=o.replace(/<!-- signature [a-z]{4,5} -->/g,"")),n){let e=this._locateSignatureDiv(t);if(e){let t=e.innerHTML;t.match(/<!-- signature placeholder /g)&&(e.innerHTML=t.replace(/<!-- signature placeholder /g,"<!-- signature ")),e.mf_setDirAttributeToComputedValue(),e.addEventListener("DOMCharacterDataModified",SignatureController._handleSignatureModified),e.addEventListener("DOMSubtreeModified",SignatureController._handleSignatureModified)}}return n},_createSignatureElement:function(e,t,n,i){n=n||e.body.firstChild;let r=e.createElement("div");if(r.id=MFMailSignatureAttribute,t?n&&n.parentNode.insertBefore(r,n):e.body.appendChild(r),i){let t=`<!-- signature open -->${i}<!-- signature close -->`;r.innerHTML=t;let n=r.parentElement;n&&(n.insertBefore(e.createElement("BR"),r),n.insertBefore(e.createElement("BR"),r))}return r.mf_setDirAttributeToComputedValue(),r.addEventListener("DOMCharacterDataModified",SignatureController._handleSignatureModified),r.addEventListener("DOMSubtreeModified",SignatureController._handleSignatureModified),r},_createSignature:function(e,t,n,i){let r=this._locateSignatureDiv(t);return r||(r=this._createSignatureElement(t,n,i,e)),r},_prependSignature:function(e,t,n){let i;for(;n;){if(n instanceof HTMLElement){let r=n.innerText;(r.mf_isAttribution()||r.mf_isForwardSeparator())&&(i=this._createSignature(e,t,!0,n))}n=n.previousSibling}return i},currentSignature:function(){let e=null,t=this._locateSignatureDiv(document);if(t){let n=t.innerHTML.match(/<!-- signature open -->(.*?)<!-- signature close -->/);n&&2===n.length?e=n[1]:(n=document.body.innerHTML.match(/<!-- signature open -->(.*?)<!-- signature close -->/))&&2===n.length&&(e=n[1])}return e},addSignature:function(e,t){let n=this._locateSignatureDiv(document);document&&!n&&this._createSignature(e,document,t,null)},updateSignature:function(e){if(this._isDraftRestore(document))return;let t=!1,n=document.body.lastChild;n||(t=!0);let i=document.getElementsByTagName("blockquote");i.length&&(t=!0),this._updateToSignature(e,document)||(t?(n=i.item(0)||n)&&this._prependSignature(e,document,n)&&getSelection().setPosition(document.body,0):this._createSignature(e,document,!1,null))},finalizeSignature:function(){let e=this._locateSignatureDiv(document);e&&e.removeEventListener("DOMCharacterDataModified",SignatureController._handleSignatureModified),e&&e.removeEventListener("DOMSubtreeModified",SignatureController._handleSignatureModified);const t=document.createTreeWalker(document.body,NodeFilter.SHOW_COMMENT,{acceptNode:e=>e.textContent.match(/^ signature [a-z]{4,5} $/)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}),n=[];for(;t.nextNode();)n.push(t.currentNode);for(const e of n)e.remove();e&&e.removeAttribute("id")},removeSignature:function(){this._updateToSignature("",document)}};
com.apple.email
v8@?0
MFMessageBodyParser
MessageBodyDOMParser
MessageBodyDOMQuoteSubparser
BodyField.js
Constants.js
ElementExtras.js
HTMLBodyElementExtras.js
HTMLDocumentExtras.js
HTMLElementExtras.js
HTMLImageElementExtras.js
MessageBodyDOMParser.js
MessageBodyDOMQuoteSubparser.js
NodeExtras.js
RangeExtras.js
SignatureController.js
BodyFieldIOS
SignatureController
B8@?0
useRichLinks
IS_PAD
@"NSURL"16@?0@"NSString"8
MFCreateURLForContentID
defaultComposeFontPixelSize
d8@?0
defaultComposeFontFamily
@"NSString"8@?0
@"MFMimeCharset"24@?0@"NSString"8@"JSValue"16
charsetForString
Range
prototype
@"NSArray"8@?0
linkify
String
mf_isAttribution
mf_isForwardSeparator
v16@?0@"NSArray"8
_selectedAttachmentIdentifiersDidChange
v16@?0@"NSString"8
_attachmentWasTapped
v12@?0B8
_selectionContainsLinkStateDidChange
_dirty
@"JSValue"8@?0
v16@?0@"JSValue"8
ACCESSIBILITY_BODY_LABEL
Localizable
_localizedAccessibilityLabel
remoteContentEnabled
prependPreamble
addMarkupString
bodyInnerHTML
addMailAttributesBeforeDisplay
_replacementFilenamesByContentID
replaceImagesIfNecessary
containsRichText
plainTextContent
htmlString
htmlStringsAttachmentURLsEncodingsAndPlainTextAlternative
topLevelHTMLString
otherHTMLStringsAndAttachmentURLs
length
quotedAttachmentsCIDs
stringsAndQuoteLevels
placeCaretAtStartOfBody
insertAttachment
countDuplicatedAttachments
replaceFilenamePlaceholderWithImage
replaceFilenamePlaceholderWithAttachment
replaceRichLinkPlaceholderImage
removeMediaAttachment
displayAttachmentWithIdentifierAsSinglePagePDF
addSignature
updateSignature
finalizeSignature
removeSignature
shouldChangeSelectedRange
string
charset
parse
copyConsumableNodesAndAppendInnerTextToStringAccumulator
@"JSValue"16@?0@"WKWebProcessPlugInNodeHandle"8
parentNode
tagName
getAttribute
messageBodyParserFoundMessageBodyElement
isPad
remoteContentProxySchemePrefix
MFComposeBodyFieldController
MSComposeBodyFieldController
NSObject
MFMailSignatureController
MFComposeBodyFieldObserver
MSComposeBodyFieldObserver
ComposeBodyFieldBundleController
WKWebProcessPlugInEditingDelegate
WKWebProcessPlugInLoadDelegate
ComposeBodyFieldBundleControllerExtras
_ComposeBodyFieldBundleControllerMFMimeCharset
JSExport
_ComposeBodyFieldBundleControllerMFMessageBodyParser
_ComposeBodyFieldBundleControllerMFComposeAttachmentInfo
MessageBodyDOMParser
MessageBodyDOMElement
_MessageBodyDOMElement
MessageBodyStringAccumulator
_MessageBodyStringAccumulator
MessageUIWebProcessBundleExtras
ECMessageBodyNode
MessageBodyDOMQuoteSubparser
MessageUIWebProcessPlugIn
WKWebProcessPlugIn
T@"JSValue",R,N
T#,R
bundleForClass:
T@"<ECMessageBodyElement_Private>",&,V_lastUnindentedAttributionHint
containsObject:
T@"<ECMessageBodyNode>",R
ef_map:
T@"MessageUIWebProcessPlugIn",R,W,D,N
isEqualToArray:
T@"NSString",R,C
isLinebreakImpliedAfterTagName:
T@"NSString",R,N
jsNodes
TB,R,N
lowercaseString
Td,R,N
release
UTF8String
removeSignature
_bodyFieldInterface
setWithObjects:
_copyBundleRangeHandleRef
toArray
_dirty
webProcessPlugInBrowserContextController:didCommitLoadForFrame:
_fieldControllersByContext
.cxx_destruct
T@"<ECMessageBodyElement_Private>",&
composeBodyFieldIsDirtyChanged:
T@"<ECMessageBodyElement_Private>",&,V_lastUnindentedElement
dealloc
T@"<MFComposeBodyFieldObserver>",R,N
isArray
T@"NSString",R
isImage
T@"NSString",R,C,N
isProxy
T@"NSURL",R,N
TQ,R
numberWithBool:
URLWithString:
remoteObjectProxyWithInterface:
_addMarkupString:quote:emptyFirst:prepended:composeType:attachmentInfoByURL:completionHandler:
setURL:
_controller
tagName
_copyConsumableNodesFromBodyElement:andAppendInnerTextToStringAccumulator:
_document
webProcessPlugInBrowserContextController:didFinishLoadForFrame:
_initWithDocument:
_jsParser
_jsSignatureController
_lastUnindentedAttributionHint
_lastUnindentedElement
_observerProxy
_performSignatureControllerMethodOnPage:withArguments:
_remoteObjectRegistry
_selectedAttachmentIdentifiers
_setDirty:
_setEditingDelegate:
_shouldForceSelectionFromSecondToFirstLine
_signatureControllerInterface
_webProcessPlugInBrowserContextController:pasteboardDataForRange:
_webProcessPlugInBrowserContextController:performTwoStepDrop:atDestination:isMove:
_webProcessPlugInBrowserContextController:shouldChangeSelectedRange:toRange:affinity:stillSelecting:
_webProcessPlugInBrowserContextController:shouldInsertText:replacingRange:givenAction:
_webProcessPlugInBrowserContextController:willWriteRangeToPasteboard:
_webProcessPlugInBrowserContextControllerDidChangeByEditing:
_webProcessPlugInBrowserContextControllerDidWriteToPasteboard:
absoluteString
addMailAttributesBeforeDisplayHidingTrailingEmptyQuotes:shouldQuote:
addMarkupString:quote:emptyFirst:prepended:composeType:attachmentInfoByURL:
addObject:
addSignature:prepend:
addSubparser:
additionalClassesForParameterCoder
appendNewline
appendOrReplace:withMarkupString:quote:composeType:attachmentInfoByURL:completionHandler:
appendRange:ofString:
appendRangeWithLocation:length:ofString:
appendRangeWithLocation:length:ofString:__JS_EXPORT_AS__appendRange:
arrayWithObjects:count:
attachmentTapped:
autorelease
blockRemoteContent
boolValue
cacheRetainsNodes
caseInsensitiveCompare:
changeQuoteLevelBy:withUndoActionName:
charsetForEncoding:
charsetName
class
className
composeBodyFieldAddAttachmentWithData:filename:mimeType:uniqueID:
composeBodyFieldDidChange
composeBodyFieldDidThrowException:
composeBodyFieldSelectionContainsLinkStateDidChange:
conformsToProtocol:
constructWithArguments:
containsRichText:
controller
copyConsumableNodesAndAppendInnerTextToStringAccumulator:
countDuplicatedAttachments:completionHandler:
currentContext
currentThis
debugDescription
defaultComposeFontFamily
defaultComposeFontPixelSize
defineProperty:descriptor:
description
detectDataWithTypes:context:
dictionaryWithObjects:forKeys:count:
didFinishParsing
displayAttachmentWithIdentifierAsSinglePagePDF:completionHandler:
doubleValue
ec_isAttribution
ec_isForwardSeparator
ef_isHTTPOrHTTPSURL
ef_urlByReplacingSchemeWithScheme:
enqueueParagraphJSNode:withTagName:
enqueueParagraphNode:withTagName:
evaluateScript:withSourceURL:
filename
finalizeSignature:
flushParagraphNodes
forceNextSelectionFromSecondToFirstLine
frame
getAttribute:
globalObject
hash
htmlStringUsingAttachmentInfoByIdentifier:completionHandler:
htmlStringsAttachmentURLsAndPlainTextAlternativeRemovingSignature:attachmentInfoByIdentifier:completion:
init
initWithBytes:length:encoding:
initWithCapacity:
initWithPlugIn:contextController:
initWithString:charset:
initializeBodyField:
initializeGlobalObject
insertAttachmentAsImage:isSinglePagePDF:contentType:completionHandler:
insertRichLinkWithURL:completionHandler:
invalidate
invokeMethod:withArguments:
isBasicImage
isDisplayableImage
isEqual:
isFull
isKindOfClass:
isLandmarkTagName:
isLinebreakImpliedBeforeTagName:
isMemberOfClass:
isNull
isNumber
isObject
isPad
isString
jsBodyField
jsContext
jsNodeForNodeHandle:inWorld:
jsRangeForRangeHandle:inWorld:
localizedStringForKey:value:table:
makeRichLinkFromSelection
managedValueWithValue:
messageBodyElementClass
messageBodyParser:foundMessageBodyElement:
messageBodyStringAccumulatorClass
mf_bestMimeCharsetUsingHint:
mutableCopy
nodeHandleWithJSValue:inContext:
nodes
normalWorld
numberWithInt:
objectAtIndexedSubscript:
objectForKey:
objectForKeyedSubscript:
observerProxy
parameters
parentNode
parse
parser
performBodyFieldMethodOnPage:withArguments:
performOnPage:
performSelector:
performSelector:withObject:
performSelector:withObject:withObject:
placeCaretAtStartOfBody
plainTextContentUsingAttachmentInfoByIdentifier:completionHandler:
plugIn
prependPreamble:quote:layoutDirection:
quoteLevel
rangeHandleWithJSValue:inContext:
registerExportedObject:interface:
releaseExternally
remoteContentProxySchemePrefix
remoteObjectInterfaceWithProtocol:
removeMediaAttachment:completionHandler:
removeObjectForKey:
removeRichLinkFromSelection
replaceFilenamePlaceholderWithAttachment:identifier:
replaceFilenamePlaceholderWithImage:completionHandler:
replaceImagesIfNecessary
replaceRichLinkPlaceholderImage:completionHandler:
respondsToSelector:
retain
retainCount
retainExternally
scheme
selectedAttachmentIdentifiersDidChange:
self
setClasses:forSelector:argumentIndex:ofReply:
setDirty:completionHandler:
setJSNodes:
setLoadDelegate:
setNodes:
setObject:forKey:
setObject:forKeyedSubscript:
setReplacementFilenamesByContentID:
setTimeoutInterval:
set_lastUnindentedAttributionHint:
set_lastUnindentedElement:
shouldProceedParsing
stringByAppendingString:
stringWithUTF8String:
stripCustomBodyIdentifiers
strongToStrongObjectsMapTable
superclass
toBool
toNumber
toObject
toString
toUInt32
unregisterExportedObject:interface:
unsignedIntegerValue
updateSignature:
useRichLinks
value
valueForAttributes:
valueForKey:
valueWithBool:inContext:
valueWithObject:inContext:
webProcessPlugIn:didCreateBrowserContextController:
webProcessPlugIn:initializeWithObject:
webProcessPlugIn:willDestroyBrowserContextController:
webProcessPlugInBrowserContextController:didClearWindowObjectForFrame:inScriptWorld:
webProcessPlugInBrowserContextController:didFailLoadWithErrorForFrame:error:
webProcessPlugInBrowserContextController:didFailProvisionalLoadWithErrorForFrame:error:
webProcessPlugInBrowserContextController:didFinishDocumentLoadForFrame:
webProcessPlugInBrowserContextController:didFirstVisuallyNonEmptyLayoutForFrame:
webProcessPlugInBrowserContextController:didHandleOnloadEventsForFrame:
webProcessPlugInBrowserContextController:didLayoutForFrame:
webProcessPlugInBrowserContextController:didReceiveServerRedirectForProvisionalLoadForFrame:
webProcessPlugInBrowserContextController:didRemoveFrameFromHierarchy:
webProcessPlugInBrowserContextController:didSameDocumentNavigation:forFrame:
webProcessPlugInBrowserContextController:didStartProvisionalLoadForFrame:
webProcessPlugInBrowserContextController:frame:didFailLoadForResource:error:
webProcessPlugInBrowserContextController:frame:didFinishLoadForResource:
webProcessPlugInBrowserContextController:frame:didInitiateLoadForResource:request:
webProcessPlugInBrowserContextController:frame:didInitiateLoadForResource:request:pageIsProvisionallyLoading:
webProcessPlugInBrowserContextController:frame:didReceiveResponse:forResource:
webProcessPlugInBrowserContextController:frame:willSendRequest:redirectResponse:
webProcessPlugInBrowserContextController:frame:willSendRequestForResource:request:redirectResponse:
webProcessPlugInBrowserContextController:globalObjectIsAvailableForFrame:inScriptWorld:
webProcessPlugInBrowserContextController:renderingProgressDidChange:
webProcessPlugInBrowserContextController:serviceWorkerGlobalObjectIsAvailableForFrame:inScriptWorld:
webProcessPlugInBrowserContextController:willInjectUserScriptForFrame:inScriptWorld:
webProcessPlugInBrowserContextControllerRenderingProgressEvents:
willBeginParsing
zone
B24@0:8@16
#16@0:8
@16@0:8
@24@0:8:16
@32@0:8:16@24
@40@0:8:16@24@32
B16@0:8
B24@0:8#16
B24@0:8:16
Vv16@0:8
Q16@0:8
^{_NSZone=}16@0:8
B24@0:8@"Protocol"16
@"NSString"16@0:8
v32@0:8@16@?24
v16@0:8
v32@0:8q16@24
v32@0:8@"NSURL"16@?<v@?>24
v32@0:8q16@"NSString"24
v36@0:8@16B24q28
v52@0:8@16B24B28B32q36@44
v60@0:8@16@24B32q36@44@?52
v24@0:8B16B20
v24@0:8@16
v40@0:8B16B20@24@?32
v32@0:8@16@24
v24@0:8@?16
v36@0:8B16@20@?28
v28@0:8B16@?20
v36@0:8@"NSString"16B24q28
v52@0:8@"NSString"16B24B28B32q36@"NSDictionary"44
v60@0:8@"NSString"16@"NSString"24B32q36@"NSDictionary"44@?<v@?@"NSDictionary">52
v24@0:8@"NSDictionary"16
v40@0:8B16B20@"NSString"24@?<v@?@"NSString">32
v32@0:8@"NSString"16@?<v@?@"NSNumber">24
v32@0:8@"NSString"16@?<v@?@"NSString">24
v32@0:8@"NSString"16@"NSString"24
v32@0:8@"NSString"16@?<v@?>24
v24@0:8@?<v@?B>16
v32@0:8@"NSDictionary"16@?<v@?@"NSArray">24
v32@0:8@"NSDictionary"16@?<v@?@"NSString">24
v36@0:8B16@"NSDictionary"20@?<v@?@"ECHTMLStringAndMIMECharset"@"NSArray"@"NSArray"@"NSArray">28
v28@0:8B16@?<v@?>20
v28@0:8@16B24
v28@0:8@"NSString"16B24
v24@0:8@"NSString"16
v24@0:8@?<v@?>16
v48@0:8@16@24@32@40
v48@0:8@"NSData"16@"NSString"24@"NSString"32@"NSString"40
v24@0:8@"NSException"16
v20@0:8B16
v24@0:8@"NSArray"16
B48@0:8@16@24@32q40
B52@0:8@16@24@32q40B48
@32@0:8@16@24
B44@0:8@16@24@32B40
B48@0:8@"WKWebProcessPlugInBrowserContextController"16@"NSString"24@"WKWebProcessPlugInRangeHandle"32q40
B52@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKDOMRange"24@"WKDOMRange"32q40B48
v24@0:8@"WKWebProcessPlugInBrowserContextController"16
v32@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKWebProcessPlugInRangeHandle"24
@"NSDictionary"32@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKWebProcessPlugInRangeHandle"24
B44@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKWebProcessPlugInNodeHandle"24@"WKWebProcessPlugInRangeHandle"32B40
v40@0:8@16@24@32
v40@0:8@16q24@32
v32@0:8@16Q24
Q24@0:8@16
@56@0:8@16@24Q32@40@48
@48@0:8@16@24@32@40
v52@0:8@16@24Q32@40B48
v48@0:8@16@24Q32@40
v48@0:8@16@24@32Q40
v40@0:8@16@24Q32
v32@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKWebProcessPlugInFrame"24
v40@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKWebProcessPlugInFrame"24@"NSError"32
v40@0:8@"WKWebProcessPlugInBrowserContextController"16q24@"WKWebProcessPlugInFrame"32
v40@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKWebProcessPlugInFrame"24@"WKWebProcessPlugInScriptWorld"32
v32@0:8@"WKWebProcessPlugInBrowserContextController"16Q24
Q24@0:8@"WKWebProcessPlugInBrowserContextController"16
@"NSURLRequest"56@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKWebProcessPlugInFrame"24Q32@"NSURLRequest"40@"NSURLResponse"48
@"NSURLRequest"48@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKWebProcessPlugInFrame"24@"NSURLRequest"32@"NSURLResponse"40
v52@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKWebProcessPlugInFrame"24Q32@"NSURLRequest"40B48
v48@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKWebProcessPlugInFrame"24Q32@"NSURLRequest"40
v48@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKWebProcessPlugInFrame"24@"NSURLResponse"32Q40
v40@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKWebProcessPlugInFrame"24Q32
v48@0:8@"WKWebProcessPlugInBrowserContextController"16@"WKWebProcessPlugInFrame"24Q32@"NSError"40
v60@0:8@16B24B28B32q36@44@?52
@"_WKRemoteObjectInterface"
@"JSValue"
@"<MFComposeBodyFieldObserver>"
@"NSArray"
B24@0:8@"NSString"16
@"NSURL"16@0:8
@24@0:8@16
v24@0:8d16
@24@0:8@"JSValue"16
v24@0:8@"ECMessageBodySubparser"16
v32@0:8@"JSValue"16@"NSString"24
@"JSValue"16@0:8
@"JSManagedValue"
Q24@0:8Q16
@"NSArray"16@0:8
v24@0:8@"JSValue"16
@"<ECMessageBodyElement_Private>"16@0:8
v40@0:8Q16Q24@32
v48@0:8Q16Q24@32@40
v40@0:8Q16Q24@"NSString"32
v48@0:8Q16Q24@"NSString"32@40
@"<ECMessageBodyNode>"16@0:8
@"NSString"24@0:8@"NSString"16
v24@0:8@"<ECMessageBodyElement_Private>"16
@"<ECMessageBodyElement_Private>"
v32@0:8@"WKWebProcessPlugInController"16@24
v32@0:8@"WKWebProcessPlugInController"16@"WKWebProcessPlugInBrowserContextController"24
d16@0:8
@"WKWebProcessPlugInController"
@"NSMapTable"
Blocked request for %{public}@
