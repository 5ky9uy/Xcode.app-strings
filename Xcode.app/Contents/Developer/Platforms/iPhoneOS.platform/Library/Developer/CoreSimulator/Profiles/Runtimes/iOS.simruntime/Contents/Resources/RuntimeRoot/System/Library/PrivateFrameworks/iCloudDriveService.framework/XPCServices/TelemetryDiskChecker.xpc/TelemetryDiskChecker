@(#)PROGRAM:TelemetryDiskChecker  PROJECT:CloudDocs-1
_currentRootURL
T#,R
_directoryStack
T@"NSString",&,N,V_assertionPersonaIdentifier
changes
T@"NSURL",R,N,V_url
forceBatchStart
T@?,C,N,V_checkTelemetryCompletionBlock
initWithFormat:
TB,N
isProxy
TB,R,N,V_isReadonly
needsAutovacuum
TB,R,N,V_isSharedToMeTopLevelItem
release
TQ,R
setMaxConcurrentOperationCount:
Tc,R,N
Ti,R,N,V_recursiveItemCount
.cxx_destruct
T@"NSArray",R,N,V_telemetryWarningEvents
_treeCheckQueue
T@"NSString",R,C
childHasProblem
T@?,C,D,N
initWithFileID:
T@?,C,N,V_countFolderShareItemsCompletionBlock
isInTransaction
TB,N,V_childHasProblem
manager
TB,R,N,V_isShared
registerFunction:nArgs:handler:
TB,R,N,V_shareAliasMissing
serviceListener
TQ,R,N,V_vmStepsExecuted
skipDescendants
Ti,R,N,V_directChildCount
vmStepsExecuted
Ti,R,N,V_recursiveShareAliasCount
Ti,R,N,V_recursiveSharedByMeCount
URLByAppendingPathComponent:
UTF8String
_addDocument:
_assertionPersonaIdentifier
_autovacuumInProgress
_batchingPacer
_changeCount
_changesOverride
_checkTelemetryCompletionBlock
_childCountQueue
_childHasProblem
_countFolderShareItemsCompletionBlock
_countOfShareAliasesNotOnDisk
_directChildCount
_directoryEnumerator
_directoryFileObjectIDFromURL:
_fileChecksumRate
_filesystemIdentifierFromURL:isDocument:
_flushImmediately
_flushInterval
_fpfsFileObjectIDWithURL:
_getRecursiveChildItemCountAtURL:keysToFetch:filteringPredicate:outError:
_injectionForFileObjectID:
_isMissingShareAliasAtFileURL:isDocument:
_isReadonly
_isShared
_isSharedToMeTopLevelItem
_lookupInjectionFromFileURL:isDocument:
_mangledIDFromZoneRowID:db:
_maxEventCount
_metricsFromDirectoryFileObjectID:db:
_packageChecksumRate
_previousURLWasPackage
_processNextRootURL
_processSharingInfoAtURL:isDocument:isSharedToMeTopLevelItem:shareAliasIsMissing:
_processURLs
_processingError
_recursiveItemCount
_recursiveShareAliasCount
_recursiveSharedByMeCount
_rootURL
_rootURLWrappers
_setErrorHandlerWithDBCorruptionHandler:
_setLockedHandler
_setupDatabaseConnectionFromURL:error:
_shareAliasMissing
_shouldFlushWithChangeCount:
_signalSource
_telemetryErrorEvents
_telemetryWarningEvents
_url
_validateIsRunningWithCorrectPersona
_vmStepsExecuted
addFlatFile:
addItem:error:
addObject:
addObjectsFromArray:
addOperation:
addPackage:
addSubdirectory:
addSymlink:
appLibraryOrZoneName
appendFormat:
arrayWithObjects:
arrayWithObjects:count:
assertOnQueue
assertionPersonaIdentifier
attachDBAtPath:as:error:
autorelease
autovacuumIfNeeded
autovacuumableSpaceInBytes
boolAtIndex:
boolValue
br_currentPersonaID
br_errorFromErrno
br_wouldBeExcludedFromSync
brc_close
brc_closeWithError:
brc_errorItemChanged
brc_errorItemNotFound:
brc_errorOperationCancelled
brc_signatureIsPackage
cancel
cancelTreeConsistencyCheck
checkRecursiveChildItemCountFromURLWrapper:qualityOfService:reply:
checkTelemetryCompletionBlock
checkTreeConsistencyWithDatabaseURL:rootURLWrappers:fileChecksumRatePerThousand:packageChecksumRatePerThousand:maxEventsCount:reply:
childCount
class
clear
close
close:
code
completedWithResult:error:
conformsToProtocol:
connectedToPowerSource
copyCurrentPersonaContextWithError:
count
countByEnumeratingWithState:objects:count:
countFolderShareItemsCompletionBlock
currentOperationDuration
currentPersona
data
dbAutovacuumBatchSize
dbAutovacuumRatio
dbTraced
debugDescription
debugItemIDString
defaultManager
defaultsForMangledID:
description
directChildCount
directoryAtPath:
disableProfilingForQueriesInBlock:
done
enumerateObjectsOfClass:
enumeratorAtURL:includingPropertiesForKeys:options:errorHandler:
errorWithDomain:code:userInfo:
execute:
execute:args:
executeRaw:
executeWithErrorHandler:sql:
executeWithExpectedIndex:sql:
executeWithSlowStatementRadar:sql:
fetch:
fetch:args:
fetchObject:sql:
fetchObject:sql:args:
fetchObjectOfClass:initializer:sql:
fetchObjectOfClass:initializer:sql:args:
fetchObjectOfClass:sql:
fetchObjectOfClass:sql:args:
fetchWithSlowStatementRadar:objectOfClass:sql:
fetchWithSlowStatementRadar:objectWithConstructor:sql:
fetchWithSlowStatementRadar:sql:
fileAtPath:mtime:mode:
fileObjectIDWithString:
fileSystemRepresentation
finishWithResult:error:
flush
flushToMakeEditsVisibleToIPCReaders
formatInjection:
fp_obfuscatedPath
fp_prettyDescription
generateAndRestorePersonaContextWithPersonaUniqueString:
generateTelemetryErrorEventsWithMetrics:itemID:zoneMangledID:
getResourceValue:forKey:error:
hash
incrementalVacuum:
init
initAsDocumentsWithAppLibraryRowID:
initFromResultSet:pos:
initWithCapacity:
initWithDatabase:rootURLWrappers:fileChecksumRatePerThousand:packageChecksumRatePerThousand:maxEventCount:
initWithDocID:
initWithFileURL:
initWithLabel:dbCorruptionHandler:
initWithName:
initWithURL:parentIsShared:db:
initWithZoneName:ownerName:
initialize
intAtIndex:
intValue
integerValue
isAppLibraryRoot
isCancelled
isDataSeparatedPersona
isDocumentsItemIDWithSQLiteValue:
isEqual:
isEqualToData:
isEqualToString:
isExecutable
isKindOfClass:
isMemberOfClass:
isReadonly
isRootItemIDWithSQLiteValue:
isShared
isSharedToMeTopLevelItem
isWritable
itemForURL:error:
itemIDString
keysToFetch
lastError
lastObject
length
listener:shouldAcceptNewConnection:
lockedHandler
longLongValue
main
mode
mutableCopy
newChildCountMismatchEventWithZoneMangledID:itemIDString:magnitude:
newFileChecksumMismatchEventWithZoneMangledID:itemIDString:
newFileReadErrorWithError:zoneMangledID:itemIDString:
newPackageChecksumMismatchEventWithZoneMangledID:itemIDString:
newRecursiveItemCountMismatchEventWithZoneMangledID:itemIDString:magnitude:
newShareAliasCountMismatchEventWithZoneMangledID:itemIDString:magnitude:
newShareCountMismatchEventWithZoneMangledID:itemIDString:magnitude:
next
nextObject
numberAtIndex:
numberWithInt:
numberWithSQL:
numberWithUnsignedInt:
numberWithUnsignedLongLong:
objectForKeyedSubscript:
objectOfClass:atIndex:
openAtURL:withFlags:error:
ownerName
parseUnsaltedBookmarkDataWithItemID:mangledID:error:
path
pathInPackage
pause
pauseTreeConsistencyCheck
performSelector:
performSelector:withObject:
performSelector:withObject:withObject:
performWithFlags:action:
personaAttributesForPersonaType:
profilingEnabled
profilingHook
providerItemIdentifier
rawID
rawInjection:length:
recursiveChildCount
recursiveItemCount
recursiveShareAliasCount
recursiveSharedByMeCount
removeLastObject
removeObject:
removeObjectsInRange:
resourceValuesForKeys:error:
respondsToSelector:
resume
resumeTreeConsistencyCheckWithReply:
retain
retainCount
self
serialQueue
setAssertionPersonaIdentifier:
setCheckTelemetryCompletionBlock:
setChildCount:
setChildHasProblem:
setCountFolderShareItemsCompletionBlock:
setCrashIfUsedAfterClose:
setDelegate:
setExportedInterface:
setExportedObject:
setIsExecutable:
setIsWritable:
setLabel:
setLockedHandler:
setMtime:
setPath:
setProfilingEnabled:
setProfilingHook:
setQualityOfService:
setRecursiveChildCount:
setSharedAliasRecursiveCount:
setSharedByMeRecursiveCount:
setSqliteErrorHandler:
setSymlinkContent:
setTraced:
setType:
setupPragmas
shareAliasMissing
sharedAliasRecursiveCount
sharedByMeRecursiveCount
sharedManager
shouldRetryForError:
signature
signatureWithFileDescriptor:error:
sizeInBytes
sqliteErrorHandler
startAccessingSecurityScopedResource
stopAccessingSecurityScopedResource
string
stringAtIndex:
stringByAppendingString:
stringWithFormat:
stringWithUTF8String:
superclass
symlinkAtPath:content:
telemetryEventForFileReadErrorWithDocumentFileObjectID:error:db:
telemetryEventFromChecksummingFile:db:
telemetryEventFromChecksummingPackage:db:
telemetryEventValidatingSignature:againstDocumentFileObjectID:db:
telemetryWarningEvents
type
unsaltedBookmarkDataWithItemResolutionString:serverZoneMangledID:
updateWithPkgItem:
useBatchingOnTargetQueue:withPolicyHandler:
usePacedBatchingOnTargetQueue:withInterval:changeCount:
useSerialQueue
userPersonaUniqueString
validateDirectoryTelemetry:directoryStack:db:telemetryErrorEvents:telemetryWarningEvents:
valueForEntitlement:
zone
BRCTelemetryAdditions
BRDiskCheckerFilesystemDirectory
BRCPQLConnection
BRDiskCheckerValidateTreeConsistencyOperation
BRCOperationSubclass
NSObject
ServiceDelegate
NSXPCListenerDelegate
BRDiskCheckerService
BRDiskCheckerServiceProtocol
BRDiskCheckerCountDocumentsOperation
c16@0:8
@36@0:8@16q24c32
@24@0:8@16
@32@0:8@16@24
@36@0:8@16B24@28
@16@0:8
@28@0:8@16B24
B28@0:8@16B24
v44@0:8@16B24^B28^B36
v24@0:8@16
@40@0:8@16@24@32
B16@0:8
i16@0:8
v20@0:8B16
v16@0:8
@"BRCPQLConnection"
@"NSMutableArray"
@"NSURL"
@32@0:8@16@?24
v24@0:8@?16
B36@0:8@16i24^@28
q16@0:8
B40@0:8@16@24^@32
@40@0:8@16#24@32
@40@0:8@16@?24@32
B32@0:8@16@24
B32@0:8@?16@24
B20@0:8i16
v36@0:8@16d24i32
B24@0:8^@16
B24@0:8@16
B32@0:8@16[1{__va_list_tag=II^v^v}]24
@32@0:8@16[1{__va_list_tag=II^v^v}]24
@40@0:8#16:24@32
@48@0:8#16:24@32[1{__va_list_tag=II^v^v}]40
@32@0:8#16@24
@40@0:8#16@24[1{__va_list_tag=II^v^v}]32
@32@0:8@?16@24
@40@0:8@?16@24[1{__va_list_tag=II^v^v}]32
Q16@0:8
@"br_pacer"
@"NSString"
#16@0:8
@24@0:8:16
@32@0:8:16@24
@40@0:8:16@24@32
B24@0:8#16
B24@0:8:16
Vv16@0:8
^{_NSZone=}16@0:8
B24@0:8@"Protocol"16
@"NSString"16@0:8
B24@0:8@"NSError"16
@44@0:8@16@24I32I36I40
v32@0:8@16@24
v56@0:8@16@24@32@40@48
@?16@0:8
@"NSObject<OS_dispatch_source>"
@"NSDirectoryEnumerator"
@"NSError"
B32@0:8@"NSXPCListener"16@"NSXPCConnection"24
v40@0:8@16q24@?32
v52@0:8@16@24I32I36I40@?44
v40@0:8@"FPSandboxingURLWrapper"16q24@?<v@?@"NSNumber"@"NSError">32
v52@0:8@"NSURL"16@"NSArray"24I32I36I40@?<v@?@"NSArray"@"NSArray"@"NSError">44
v24@0:8@?<v@?@"NSError">16
@32@0:8@16^@24
@"NSOperationQueue"
I48@0:8@16@24@?32^@40
[DEBUG] parent directory is shared%@
[DEBUG] Directory is %s shared%s%@
[WARNING] Item at url %@ has %d share aliases not on disk%@
[ERROR] Can't parse alias target string %@ - %@%@
[ERROR] Failed to open file URL %@ to lookup the share alias%@
[ERROR] Failed to locate the documentID for %@ to lookup the share alias%@
[ERROR] Failed to stat file URL %@ to lookup the share alias%@
[ERROR] Can't locate the item to find the share alias for %@%@
[WARNING] Share alias is missing for %@%@
[WARNING] Failed to get sharing options for %@ - %@%@
[DEBUG] Processing document at url %@%@
[WARNING] Not counting item missing a share alias%@
[DEBUG] Not adding top level share to the recursive item count%@
[DEBUG] Processing symlink at url %@%@
[DEBUG] Processing directory at url %@%@
[ERROR] Direct child count mismatch for %@ at %@ (%d vs %@)%@
[ERROR] Recursive child count mismatch for %@ at %@ (%d vs %@)%@
[ERROR] Shared-by-me count mismatch for %@ at %@ (%d vs %@)%@
[ERROR] Share alias count mismatch for %@ at %@ (%d vs %@)%@
[ERROR] Sqlite request %@ failed on %@ with error [%@]%@
[ERROR] Sqlite failed on %@ with error [%@]%@
[CRIT] UNREACHABLE: Got really unexpected error: %@%@
[CRIT] %@%@
[ERROR] %@%@
[WARNING] %@%@
[WARNING] Possible slow statement on %@:
  binds:    %d
  changes:  %lld
  vm steps: %d (max: %lu)
  sql:      %s
  %@%@
[WARNING] Possible slow statement on %@:
  binds:    %d
  columns:  %d
  rows:     %ld
  vm steps: %d (max: %lu)
  sql:      %s
  %@%@
[CRIT] Significantly too slow SQL statement ( vm steps: %u  max:%lu ): %s%@
[ERROR] %s: %s error: %@%@
[CRIT] API MISUSE: you need to provide a radar%@
[CRIT] API MISUSE: you need to an index to use%@
[CRIT] Assertion failed: block%@
[CRIT] Assertion failed: _batchingPacer%@
[CRIT] error closing connection %@: %@%@
[CRIT] UNREACHABLE: Running on the connection with the wrong persona%@
[ERROR] error enumerating %@: error %@ at %@%@
[WARNING] We've reached our cap of telemetry events.  Finishing early%@
[WARNING] The operation is cancelled so finishing early%@
[DEBUG] not counting item at url %@ because it's excluded from sync%@
[DEBUG] Skipping descendants of %@%@
[DEBUG] Checksumming package at %@%@
[DEBUG] Checksumming flat file at %@%@
[DEBUG] Finishing processing %@ (rcc: %d, cc: %d)%@
[DEBUG] Starting processing %@%@
[ERROR] File checksum at %@ for %@ doesn't match %@ vs %@%@
[ERROR] Can't locate item with file object id %@%@
[ERROR] Can't open file at url to lookup doc id %@ %{errno}d%@%@
[ERROR] Couldn't open file for checksumming at %@ %{errno}d%@%@
[ERROR] File signature mismatch at path %@%@
[ERROR] Couldn't add item for checksumming at %@%@
[ERROR] Can't open file at url to checksum %@%@
[ERROR] Failed to generate a signature for file at %@ - %@%@
[ERROR] Failed to stat path %@ for metrics%@
[CRIT] Assertion failed: BRIsFPFSEnabled()%@
[ERROR] failed to fetch item identifier for %@: %@ %{errno}d%@%@
[CRIT] Assertion failed: fileObjectID.type == BRFileObjectIDTypeDocument || fileObjectID.type == BRFileObjectIDTypeNonDocument%@
[CRIT] Assertion failed: fileObjectID.type == BRFileObjectIDTypeNonDocument%@
[CRIT] Can't find packageItemsOrderedByPathForFileObjectIDFPFS in iCloudDriveCore framework :%s%@
[WARNING] Can't open iCloudDriveCore : %s%@
[DEBUG] Pausing consistency checker%@
[DEBUG] Resuming the consistency checker%@
[DEBUG] opening telemetry db connection at path: %@%@
[CRIT] telemetry database connection ecountered unexpected corruption: %@%@
[ERROR] error opening db at url %@: %@%@
[ERROR] error attaching db at url %@ to db %@: %@%@
[WARNING] Not checking telemetry because we have %lld active apply jobs%@
[WARNING] Not checking telemetry because we have %lld active sync jobs%@
[ERROR] won't restore persona: %@%@
[ERROR] Can't adopt persona %@: %@%@
[DEBUG] Not allowed to adopt persona but data-separatedness matches%@
[DEBUG] Not allowed to adopt persona - should fallback persona%@
[CRIT] UNREACHABLE: Failed to adopt persona for block adoption%@
[CRIT] UNREACHABLE: Can't adopt persona for xpc activity, deferring the activity%@
[DEBUG] Failed to defer the activity after persona failure.%@
[WARNING] Can't get resource values at %@ - %@%@
[DEBUG] not counting item at url %@ because it is shared to me%@
[DEBUG] counting item at url %@%@
[DEBUG] not counting item at url %@ because it's not a file, package, or symlink%@
[ERROR] Failed to determine if the root at %@ is shared - %@%@
-[BRDiskCheckerFilesystemDirectory initWithURL:parentIsShared:db:]
to me
by me
 with missing share alias
SELECT item_id, zone_rowid FROM client_items WHERE item_file_id = %@ AND item_state IN (0, -1)
SELECT item_alias_target FROM server_items WHERE item_parent_id = %@ AND zone_rowid = %@ AND item_type = 3
-[BRDiskCheckerFilesystemDirectory _countOfShareAliasesNotOnDisk]
SELECT 1 FROM server_items WHERE item_id = %@ AND item_id_is_root(item_parent_id) AND zone_rowid = (SELECT sz.rowid FROM server_zones AS sz WHERE sz.zone_owner = %@ AND sz.zone_name = %@)
-[BRDiskCheckerFilesystemDirectory _filesystemIdentifierFromURL:isDocument:]
ci.item_doc_id = %@
ci.item_file_id = %@
SELECT ci.item_id, cz.zone_owner, cz.zone_name FROM client_items AS ci INNER JOIN client_zones AS cz ON ci.zone_rowid = cz.rowid WHERE %@
-[BRDiskCheckerFilesystemDirectory _isMissingShareAliasAtFileURL:isDocument:]
SELECT 1 FROM server_items WHERE item_alias_target = %@ AND item_type = 3
SELECT ci.item_sharing_options, cz.zone_owner FROM client_items AS ci INNER JOIN client_zones AS cz ON ci.zone_rowid = cz.rowid WHERE %@
-[BRDiskCheckerFilesystemDirectory _processSharingInfoAtURL:isDocument:isSharedToMeTopLevelItem:shareAliasIsMissing:]
-[BRDiskCheckerFilesystemDirectory _addDocument:]
-[BRDiskCheckerFilesystemDirectory addSymlink:]
-[BRDiskCheckerFilesystemDirectory addSubdirectory:]
-[BRDiskCheckerFilesystemDirectory generateTelemetryErrorEventsWithMetrics:itemID:zoneMangledID:]
-[BRCPQLConnection _setErrorHandlerWithDBCorruptionHandler:]_block_invoke
v8@?0
Sqlite database became corrupted, abort...
/Library/Caches/com.apple.xbs/Sources/CloudDocs_plugins_Sim/core/shared/foundation/BRCPQLConnection.m
v32@?0@"PQLConnection"8@"PQLStatement"16@"NSError"24
B32@?0@"BRCPQLConnection"8@"PQLStatement"16@"NSError"24
(on statement %@)
%@ locked for more than 1 minute %@, aborting...
-[BRCPQLConnection _setLockedHandler]_block_invoke
%@ has been locked for %f seconds: %@
 (for statement %@)
-[BRCPQLConnection setProfilingEnabled:]_block_invoke
(null)
Significantly too slow SQL statement: 
v32@?0@"PQLConnection"8^{sqlite3_stmt=}16Q24
ATTACH "%@" AS %@
-[BRCPQLConnection attachDBAtPath:as:error:]
(passed to caller)
(ignored by caller)
setting profiling hook is not supported on %@
-[BRCPQLConnection setProfilingHook:]
-[BRCPQLConnection fetchWithSlowStatementRadar:sql:]
-[BRCPQLConnection fetchWithSlowStatementRadar:objectOfClass:sql:]
-[BRCPQLConnection fetchWithSlowStatementRadar:objectWithConstructor:sql:]
-[BRCPQLConnection executeWithExpectedIndex:sql:]
-[BRCPQLConnection executeWithSlowStatementRadar:sql:]
-[BRCPQLConnection disableProfilingForQueriesInBlock:]
com.apple.bird.db.batching
-[BRCPQLConnection _shouldFlushWithChangeCount:]
B20@?0@"PQLConnection"8i16
-[BRCPQLConnection brc_closeWithError:]
error closing connection %@: %@
-[BRCPQLConnection brc_close]
pragma page_count
pragma page_size
-[BRCPQLConnection _validateIsRunningWithCorrectPersona]
explain query plan %@
plan:
    %@
check-tree-consistency
-[BRDiskCheckerValidateTreeConsistencyOperation _processNextRootURL]_block_invoke
B24@?0@"NSURL"8@"NSError"16
-[BRDiskCheckerValidateTreeConsistencyOperation _processURLs]
SELECT item_id, zone_rowid FROM client_items WHERE %@ AND item_state IN (0, -1)
SELECT version_content_signature, item_id, zone_rowid FROM client_items WHERE %@
-[BRDiskCheckerValidateTreeConsistencyOperation telemetryEventValidatingSignature:againstDocumentFileObjectID:db:]
SELECT item_id, zone_rowid FROM client_items WHERE %@
-[BRDiskCheckerValidateTreeConsistencyOperation telemetryEventFromChecksummingPackage:db:]
-[BRDiskCheckerValidateTreeConsistencyOperation telemetryEventFromChecksummingFile:db:]
SELECT zone_name, zone_owner FROM client_zones WHERE rowid = %@
@24@?0@"PQLResultSet"8^@16
SELECT si.item_id IS NULL, (SELECT sz.zone_owner = %@ FROM server_zones AS sz WHERE sz.rowid = si.zone_rowid), si.quota_used, si.recursive_child_count, si.shared_children_count, si.shared_alias_count, si.child_count FROM client_items AS ci LEFT JOIN server_items AS si ON (si.item_id = ci.item_id AND si.zone_rowid = ci.zone_rowid) WHERE ci.%@ AND ci.item_state IN (0, -1)
-[BRDiskCheckerValidateTreeConsistencyOperation _directoryFileObjectIDFromURL:]
-[BRDiskCheckerValidateTreeConsistencyOperation _fpfsFileObjectIDWithURL:]
item_id = %@
-[BRDiskCheckerValidateTreeConsistencyOperation _injectionForFileObjectID:]
rowid = %llu
item_doc_id = %llu
item_file_id = %llu
packageItemsOrderedByPathForFileObjectIDFPFS
initpackageItemsOrderedByPathForFileObjectIDFPFS
/Library/Caches/com.apple.xbs/Sources/CloudDocs_plugins_Sim/xpc-services/telemetry-disk-checker/BRDiskCheckerValidateTreeConsistencyOperation.m
Can't find packageItemsOrderedByPathForFileObjectIDFPFS in iCloudDriveCore framework
/System/Library/PrivateFrameworks/iCloudDriveCore.framework/iCloudDriveCore
iCloudDriveCoreLibrary
Can't open iCloudDriveCore
com.apple.private.clouddocs.telemetry-disk-checker
v24@?0@"NSNumber"8@"NSError"16
v32@?0@"NSArray"8@"NSArray"16@"NSError"24
-[BRDiskCheckerService pauseTreeConsistencyCheck]
-[BRDiskCheckerService resumeTreeConsistencyCheckWithReply:]
operation
client.db
server.db
-[BRDiskCheckerService _setupDatabaseConnectionFromURL:error:]
telemetry-connection
v32@?0@"PQLConnection"8@"NSError"16@?<v@?>24
-[BRDiskCheckerService _setupDatabaseConnectionFromURL:error:]_block_invoke
server
item_id_is_root
v28@?0^{sqlite3_context=}8i16^^{sqlite3_value}20
item_id_is_documents
SELECT COUNT(*) FROM client_unapplied_table WHERE throttle_state IN (1,26)
-[BRDiskCheckerService _setupDatabaseConnectionFromURL:error:]_block_invoke_3
SELECT COUNT(*) FROM client_items WHERE item_localsyncupstate != 0 AND NOT item_id_is_documents(item_id)
B16@?0@"PQLConnection"8
__defaultPersonaID__
_BRBlockRememberPersona_block_invoke
_BRActivityBlockRememberPersona_block_invoke
v16@?0@"NSObject<OS_xpc_object>"8
-[BRDiskCheckerCountDocumentsOperation _getRecursiveChildItemCountAtURL:keysToFetch:filteringPredicate:outError:]_block_invoke
-[BRDiskCheckerCountDocumentsOperation _getRecursiveChildItemCountAtURL:keysToFetch:filteringPredicate:outError:]
-[BRDiskCheckerCountDocumentsOperation main]
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
<key>application-identifier</key>
<string>com.apple.CloudDocs.telemetry-disk-checker</string>
<key>com.apple.application-identifier</key>
<string>com.apple.CloudDocs.telemetry-disk-checker</string>
<key>com.apple.fileprovider.enumerate</key>
<true/>
<key>com.apple.private.MobileContainerManager.lookup</key>
<dict>
<key>daemon</key>
<array>
<string>com.apple.bird</string>
</array>
</dict>
<key>com.apple.private.security.storage.AppDataContainers</key>
<true/>
<key>com.apple.private.security.storage.MobileDocuments</key>
<true/>
<key>com.apple.security.app-sandbox</key>
<true/>
<key>com.apple.security.enterprise-volume-access</key>
<true/>
<key>com.apple.security.exception.files.home-relative-path.read-write</key>
<array>
<string>/Library/Application Support/CloudDocs/session/telemetry-db/</string>
</array>
<key>com.apple.security.temporary-exception.files.home-relative-path.read-write</key>
<array>
<string>/Library/Application Support/CloudDocs/session/telemetry-db/</string>
</array>
</dict>
</plist>
application-identifier*com.apple.CloudDocs.telemetry-disk-checker0N com.apple.application-identifier*com.apple.CloudDocs.telemetry-disk-checker0% com.apple.fileprovider.enumerate
0O/com.apple.private.MobileContainerManager.lookup
daemon0
com.apple.bird094com.apple.private.security.storage.AppDataContainers
072com.apple.private.security.storage.MobileDocuments
com.apple.security.app-sandbox
00+com.apple.security.enterprise-volume-access
@com.apple.security.exception.files.home-relative-path.read-write0></Library/Application Support/CloudDocs/session/telemetry-db/0
Jcom.apple.security.temporary-exception.files.home-relative-path.read-write0></Library/Application Support/CloudDocs/session/telemetry-db/
@(#)PROGRAM:TelemetryDiskChecker  PROJECT:CloudDocs-1
BRCTelemetryAdditions
BRDiskCheckerFilesystemDirectory
BRCPQLConnection
BRDiskCheckerValidateTreeConsistencyOperation
BRCOperationSubclass
NSObject
ServiceDelegate
NSXPCListenerDelegate
BRDiskCheckerService
BRDiskCheckerServiceProtocol
BRDiskCheckerCountDocumentsOperation
_currentRootURL
T#,R
_directoryStack
T@"NSString",&,N,V_assertionPersonaIdentifier
changes
T@"NSURL",R,N,V_url
forceBatchStart
T@?,C,N,V_checkTelemetryCompletionBlock
initWithFormat:
TB,N
isProxy
TB,R,N,V_isReadonly
needsAutovacuum
TB,R,N,V_isSharedToMeTopLevelItem
release
TQ,R
setMaxConcurrentOperationCount:
Tc,R,N
Ti,R,N,V_recursiveItemCount
.cxx_destruct
T@"NSArray",R,N,V_telemetryWarningEvents
_treeCheckQueue
T@"NSString",R,C
childHasProblem
T@?,C,D,N
initWithFileID:
T@?,C,N,V_countFolderShareItemsCompletionBlock
isInTransaction
TB,N,V_childHasProblem
manager
TB,R,N,V_isShared
registerFunction:nArgs:handler:
TB,R,N,V_shareAliasMissing
serviceListener
TQ,R,N,V_vmStepsExecuted
skipDescendants
Ti,R,N,V_directChildCount
vmStepsExecuted
Ti,R,N,V_recursiveShareAliasCount
Ti,R,N,V_recursiveSharedByMeCount
URLByAppendingPathComponent:
UTF8String
_addDocument:
_assertionPersonaIdentifier
_autovacuumInProgress
_batchingPacer
_changeCount
_changesOverride
_checkTelemetryCompletionBlock
_childCountQueue
_childHasProblem
_countFolderShareItemsCompletionBlock
_countOfShareAliasesNotOnDisk
_directChildCount
_directoryEnumerator
_directoryFileObjectIDFromURL:
_fileChecksumRate
_filesystemIdentifierFromURL:isDocument:
_flushImmediately
_flushInterval
_fpfsFileObjectIDWithURL:
_getRecursiveChildItemCountAtURL:keysToFetch:filteringPredicate:outError:
_injectionForFileObjectID:
_isMissingShareAliasAtFileURL:isDocument:
_isReadonly
_isShared
_isSharedToMeTopLevelItem
_lookupInjectionFromFileURL:isDocument:
_mangledIDFromZoneRowID:db:
_maxEventCount
_metricsFromDirectoryFileObjectID:db:
_packageChecksumRate
_previousURLWasPackage
_processNextRootURL
_processSharingInfoAtURL:isDocument:isSharedToMeTopLevelItem:shareAliasIsMissing:
_processURLs
_processingError
_recursiveItemCount
_recursiveShareAliasCount
_recursiveSharedByMeCount
_rootURL
_rootURLWrappers
_setErrorHandlerWithDBCorruptionHandler:
_setLockedHandler
_setupDatabaseConnectionFromURL:error:
_shareAliasMissing
_shouldFlushWithChangeCount:
_signalSource
_telemetryErrorEvents
_telemetryWarningEvents
_url
_validateIsRunningWithCorrectPersona
_vmStepsExecuted
addFlatFile:
addItem:error:
addObject:
addObjectsFromArray:
addOperation:
addPackage:
addSubdirectory:
addSymlink:
appLibraryOrZoneName
appendFormat:
arrayWithObjects:
arrayWithObjects:count:
assertOnQueue
assertionPersonaIdentifier
attachDBAtPath:as:error:
autorelease
autovacuumIfNeeded
autovacuumableSpaceInBytes
boolAtIndex:
boolValue
br_currentPersonaID
br_errorFromErrno
br_wouldBeExcludedFromSync
brc_close
brc_closeWithError:
brc_errorItemChanged
brc_errorItemNotFound:
brc_errorOperationCancelled
brc_signatureIsPackage
cancel
cancelTreeConsistencyCheck
checkRecursiveChildItemCountFromURLWrapper:qualityOfService:reply:
checkTelemetryCompletionBlock
checkTreeConsistencyWithDatabaseURL:rootURLWrappers:fileChecksumRatePerThousand:packageChecksumRatePerThousand:maxEventsCount:reply:
childCount
class
clear
close
close:
code
completedWithResult:error:
conformsToProtocol:
connectedToPowerSource
copyCurrentPersonaContextWithError:
count
countByEnumeratingWithState:objects:count:
countFolderShareItemsCompletionBlock
currentOperationDuration
currentPersona
data
dbAutovacuumBatchSize
dbAutovacuumRatio
dbTraced
debugDescription
debugItemIDString
defaultManager
defaultsForMangledID:
description
directChildCount
directoryAtPath:
disableProfilingForQueriesInBlock:
done
enumerateObjectsOfClass:
enumeratorAtURL:includingPropertiesForKeys:options:errorHandler:
errorWithDomain:code:userInfo:
execute:
execute:args:
executeRaw:
executeWithErrorHandler:sql:
executeWithExpectedIndex:sql:
executeWithSlowStatementRadar:sql:
fetch:
fetch:args:
fetchObject:sql:
fetchObject:sql:args:
fetchObjectOfClass:initializer:sql:
fetchObjectOfClass:initializer:sql:args:
fetchObjectOfClass:sql:
fetchObjectOfClass:sql:args:
fetchWithSlowStatementRadar:objectOfClass:sql:
fetchWithSlowStatementRadar:objectWithConstructor:sql:
fetchWithSlowStatementRadar:sql:
fileAtPath:mtime:mode:
fileObjectIDWithString:
fileSystemRepresentation
finishWithResult:error:
flush
flushToMakeEditsVisibleToIPCReaders
formatInjection:
fp_obfuscatedPath
fp_prettyDescription
generateAndRestorePersonaContextWithPersonaUniqueString:
generateTelemetryErrorEventsWithMetrics:itemID:zoneMangledID:
getResourceValue:forKey:error:
hash
incrementalVacuum:
init
initAsDocumentsWithAppLibraryRowID:
initFromResultSet:pos:
initWithCapacity:
initWithDatabase:rootURLWrappers:fileChecksumRatePerThousand:packageChecksumRatePerThousand:maxEventCount:
initWithDocID:
initWithFileURL:
initWithLabel:dbCorruptionHandler:
initWithName:
initWithURL:parentIsShared:db:
initWithZoneName:ownerName:
initialize
intAtIndex:
intValue
integerValue
isAppLibraryRoot
isCancelled
isDataSeparatedPersona
isDocumentsItemIDWithSQLiteValue:
isEqual:
isEqualToData:
isEqualToString:
isExecutable
isKindOfClass:
isMemberOfClass:
isReadonly
isRootItemIDWithSQLiteValue:
isShared
isSharedToMeTopLevelItem
isWritable
itemForURL:error:
itemIDString
keysToFetch
lastError
lastObject
length
listener:shouldAcceptNewConnection:
lockedHandler
longLongValue
main
mode
mutableCopy
newChildCountMismatchEventWithZoneMangledID:itemIDString:magnitude:
newFileChecksumMismatchEventWithZoneMangledID:itemIDString:
newFileReadErrorWithError:zoneMangledID:itemIDString:
newPackageChecksumMismatchEventWithZoneMangledID:itemIDString:
newRecursiveItemCountMismatchEventWithZoneMangledID:itemIDString:magnitude:
newShareAliasCountMismatchEventWithZoneMangledID:itemIDString:magnitude:
newShareCountMismatchEventWithZoneMangledID:itemIDString:magnitude:
next
nextObject
numberAtIndex:
numberWithInt:
numberWithSQL:
numberWithUnsignedInt:
numberWithUnsignedLongLong:
objectForKeyedSubscript:
objectOfClass:atIndex:
openAtURL:withFlags:error:
ownerName
parseUnsaltedBookmarkDataWithItemID:mangledID:error:
path
pathInPackage
pause
pauseTreeConsistencyCheck
performSelector:
performSelector:withObject:
performSelector:withObject:withObject:
performWithFlags:action:
personaAttributesForPersonaType:
profilingEnabled
profilingHook
providerItemIdentifier
rawID
rawInjection:length:
recursiveChildCount
recursiveItemCount
recursiveShareAliasCount
recursiveSharedByMeCount
removeLastObject
removeObject:
removeObjectsInRange:
resourceValuesForKeys:error:
respondsToSelector:
resume
resumeTreeConsistencyCheckWithReply:
retain
retainCount
self
serialQueue
setAssertionPersonaIdentifier:
setCheckTelemetryCompletionBlock:
setChildCount:
setChildHasProblem:
setCountFolderShareItemsCompletionBlock:
setCrashIfUsedAfterClose:
setDelegate:
setExportedInterface:
setExportedObject:
setIsExecutable:
setIsWritable:
setLabel:
setLockedHandler:
setMtime:
setPath:
setProfilingEnabled:
setProfilingHook:
setQualityOfService:
setRecursiveChildCount:
setSharedAliasRecursiveCount:
setSharedByMeRecursiveCount:
setSqliteErrorHandler:
setSymlinkContent:
setTraced:
setType:
setupPragmas
shareAliasMissing
sharedAliasRecursiveCount
sharedByMeRecursiveCount
sharedManager
shouldRetryForError:
signature
signatureWithFileDescriptor:error:
sizeInBytes
sqliteErrorHandler
startAccessingSecurityScopedResource
stopAccessingSecurityScopedResource
string
stringAtIndex:
stringByAppendingString:
stringWithFormat:
stringWithUTF8String:
superclass
symlinkAtPath:content:
telemetryEventForFileReadErrorWithDocumentFileObjectID:error:db:
telemetryEventFromChecksummingFile:db:
telemetryEventFromChecksummingPackage:db:
telemetryEventValidatingSignature:againstDocumentFileObjectID:db:
telemetryWarningEvents
type
unsaltedBookmarkDataWithItemResolutionString:serverZoneMangledID:
updateWithPkgItem:
useBatchingOnTargetQueue:withPolicyHandler:
usePacedBatchingOnTargetQueue:withInterval:changeCount:
useSerialQueue
userPersonaUniqueString
validateDirectoryTelemetry:directoryStack:db:telemetryErrorEvents:telemetryWarningEvents:
valueForEntitlement:
zone
c16@0:8
@36@0:8@16q24c32
@24@0:8@16
@32@0:8@16@24
@36@0:8@16B24@28
@16@0:8
@28@0:8@16B24
B28@0:8@16B24
v44@0:8@16B24^B28^B36
v24@0:8@16
@40@0:8@16@24@32
B16@0:8
i16@0:8
v20@0:8B16
v16@0:8
@"BRCPQLConnection"
@"NSMutableArray"
@"NSURL"
@32@0:8@16@?24
v24@0:8@?16
B36@0:8@16i24^@28
q16@0:8
B40@0:8@16@24^@32
@40@0:8@16#24@32
@40@0:8@16@?24@32
B32@0:8@16@24
B32@0:8@?16@24
B20@0:8i16
v36@0:8@16d24i32
B24@0:8^@16
B24@0:8@16
B32@0:8@16*24
@32@0:8@16*24
@40@0:8#16:24@32
@48@0:8#16:24@32*40
@32@0:8#16@24
@40@0:8#16@24*32
@32@0:8@?16@24
@40@0:8@?16@24*32
Q16@0:8
@"br_pacer"
@"NSString"
#16@0:8
@24@0:8:16
@32@0:8:16@24
@40@0:8:16@24@32
B24@0:8#16
B24@0:8:16
Vv16@0:8
^{_NSZone=}16@0:8
B24@0:8@"Protocol"16
@"NSString"16@0:8
B24@0:8@"NSError"16
@44@0:8@16@24I32I36I40
v32@0:8@16@24
v56@0:8@16@24@32@40@48
@?16@0:8
@"NSObject<OS_dispatch_source>"
@"NSDirectoryEnumerator"
@"NSError"
B32@0:8@"NSXPCListener"16@"NSXPCConnection"24
v40@0:8@16q24@?32
v52@0:8@16@24I32I36I40@?44
v40@0:8@"FPSandboxingURLWrapper"16q24@?<v@?@"NSNumber"@"NSError">32
v52@0:8@"NSURL"16@"NSArray"24I32I36I40@?<v@?@"NSArray"@"NSArray"@"NSError">44
v24@0:8@?<v@?@"NSError">16
@32@0:8@16^@24
@"NSOperationQueue"
I48@0:8@16@24@?32^@40
[DEBUG] parent directory is shared%@
[DEBUG] Directory is %s shared%s%@
[WARNING] Item at url %@ has %d share aliases not on disk%@
[ERROR] Can't parse alias target string %@ - %@%@
[ERROR] Failed to open file URL %@ to lookup the share alias%@
[ERROR] Failed to locate the documentID for %@ to lookup the share alias%@
[ERROR] Failed to stat file URL %@ to lookup the share alias%@
[ERROR] Can't locate the item to find the share alias for %@%@
[WARNING] Share alias is missing for %@%@
[WARNING] Failed to get sharing options for %@ - %@%@
[DEBUG] Processing document at url %@%@
[WARNING] Not counting item missing a share alias%@
[DEBUG] Not adding top level share to the recursive item count%@
[DEBUG] Processing symlink at url %@%@
[DEBUG] Processing directory at url %@%@
[ERROR] Direct child count mismatch for %@ at %@ (%d vs %@)%@
[ERROR] Recursive child count mismatch for %@ at %@ (%d vs %@)%@
[ERROR] Shared-by-me count mismatch for %@ at %@ (%d vs %@)%@
[ERROR] Share alias count mismatch for %@ at %@ (%d vs %@)%@
[ERROR] Sqlite request %@ failed on %@ with error [%@]%@
[ERROR] Sqlite failed on %@ with error [%@]%@
[CRIT] UNREACHABLE: Got really unexpected error: %@%@
[CRIT] %@%@
[ERROR] %@%@
[WARNING] %@%@
[WARNING] Possible slow statement on %@:
  binds:    %d
  changes:  %lld
  vm steps: %d (max: %lu)
  sql:      %s
  %@%@
[WARNING] Possible slow statement on %@:
  binds:    %d
  columns:  %d
  rows:     %ld
  vm steps: %d (max: %lu)
  sql:      %s
  %@%@
[CRIT] Significantly too slow SQL statement ( vm steps: %u  max:%lu ): %s%@
[ERROR] %s: %s error: %@%@
[CRIT] API MISUSE: you need to provide a radar%@
[CRIT] API MISUSE: you need to an index to use%@
[CRIT] Assertion failed: block%@
[CRIT] Assertion failed: _batchingPacer%@
[CRIT] error closing connection %@: %@%@
[CRIT] UNREACHABLE: Running on the connection with the wrong persona%@
[ERROR] error enumerating %@: error %@ at %@%@
[WARNING] We've reached our cap of telemetry events.  Finishing early%@
[WARNING] The operation is cancelled so finishing early%@
[DEBUG] not counting item at url %@ because it's excluded from sync%@
[DEBUG] Skipping descendants of %@%@
[DEBUG] Checksumming package at %@%@
[DEBUG] Checksumming flat file at %@%@
[DEBUG] Finishing processing %@ (rcc: %d, cc: %d)%@
[DEBUG] Starting processing %@%@
[ERROR] File checksum at %@ for %@ doesn't match %@ vs %@%@
[ERROR] Can't locate item with file object id %@%@
[ERROR] Can't open file at url to lookup doc id %@ %{errno}d%@%@
[ERROR] Couldn't open file for checksumming at %@ %{errno}d%@%@
[ERROR] File signature mismatch at path %@%@
[ERROR] Couldn't add item for checksumming at %@%@
[ERROR] Can't open file at url to checksum %@%@
[ERROR] Failed to generate a signature for file at %@ - %@%@
[ERROR] Failed to stat path %@ for metrics%@
[CRIT] Assertion failed: BRIsFPFSEnabled()%@
[ERROR] failed to fetch item identifier for %@: %@ %{errno}d%@%@
[CRIT] Assertion failed: fileObjectID.type == BRFileObjectIDTypeDocument || fileObjectID.type == BRFileObjectIDTypeNonDocument%@
[CRIT] Assertion failed: fileObjectID.type == BRFileObjectIDTypeNonDocument%@
[CRIT] Can't find packageItemsOrderedByPathForFileObjectIDFPFS in iCloudDriveCore framework :%s%@
[WARNING] Can't open iCloudDriveCore : %s%@
[DEBUG] Pausing consistency checker%@
[DEBUG] Resuming the consistency checker%@
[DEBUG] opening telemetry db connection at path: %@%@
[CRIT] telemetry database connection ecountered unexpected corruption: %@%@
[ERROR] error opening db at url %@: %@%@
[ERROR] error attaching db at url %@ to db %@: %@%@
[WARNING] Not checking telemetry because we have %lld active apply jobs%@
[WARNING] Not checking telemetry because we have %lld active sync jobs%@
[ERROR] won't restore persona: %@%@
[ERROR] Can't adopt persona %@: %@%@
[DEBUG] Not allowed to adopt persona but data-separatedness matches%@
[DEBUG] Not allowed to adopt persona - should fallback persona%@
[CRIT] UNREACHABLE: Failed to adopt persona for block adoption%@
[CRIT] UNREACHABLE: Can't adopt persona for xpc activity, deferring the activity%@
[DEBUG] Failed to defer the activity after persona failure.%@
[WARNING] Can't get resource values at %@ - %@%@
[DEBUG] not counting item at url %@ because it is shared to me%@
[DEBUG] counting item at url %@%@
[DEBUG] not counting item at url %@ because it's not a file, package, or symlink%@
[ERROR] Failed to determine if the root at %@ is shared - %@%@
-[BRDiskCheckerFilesystemDirectory initWithURL:parentIsShared:db:]
to me
by me
 with missing share alias
SELECT item_id, zone_rowid FROM client_items WHERE item_file_id = %@ AND item_state IN (0, -1)
SELECT item_alias_target FROM server_items WHERE item_parent_id = %@ AND zone_rowid = %@ AND item_type = 3
-[BRDiskCheckerFilesystemDirectory _countOfShareAliasesNotOnDisk]
SELECT 1 FROM server_items WHERE item_id = %@ AND item_id_is_root(item_parent_id) AND zone_rowid = (SELECT sz.rowid FROM server_zones AS sz WHERE sz.zone_owner = %@ AND sz.zone_name = %@)
-[BRDiskCheckerFilesystemDirectory _filesystemIdentifierFromURL:isDocument:]
ci.item_doc_id = %@
ci.item_file_id = %@
SELECT ci.item_id, cz.zone_owner, cz.zone_name FROM client_items AS ci INNER JOIN client_zones AS cz ON ci.zone_rowid = cz.rowid WHERE %@
-[BRDiskCheckerFilesystemDirectory _isMissingShareAliasAtFileURL:isDocument:]
SELECT 1 FROM server_items WHERE item_alias_target = %@ AND item_type = 3
SELECT ci.item_sharing_options, cz.zone_owner FROM client_items AS ci INNER JOIN client_zones AS cz ON ci.zone_rowid = cz.rowid WHERE %@
-[BRDiskCheckerFilesystemDirectory _processSharingInfoAtURL:isDocument:isSharedToMeTopLevelItem:shareAliasIsMissing:]
-[BRDiskCheckerFilesystemDirectory _addDocument:]
-[BRDiskCheckerFilesystemDirectory addSymlink:]
-[BRDiskCheckerFilesystemDirectory addSubdirectory:]
-[BRDiskCheckerFilesystemDirectory generateTelemetryErrorEventsWithMetrics:itemID:zoneMangledID:]
-[BRCPQLConnection _setErrorHandlerWithDBCorruptionHandler:]_block_invoke
v8@?0
Sqlite database became corrupted, abort...
/Library/Caches/com.apple.xbs/Sources/CloudDocs_plugins_Sim/core/shared/foundation/BRCPQLConnection.m
v32@?0@"PQLConnection"8@"PQLStatement"16@"NSError"24
B32@?0@"BRCPQLConnection"8@"PQLStatement"16@"NSError"24
(on statement %@)
%@ locked for more than 1 minute %@, aborting...
-[BRCPQLConnection _setLockedHandler]_block_invoke
%@ has been locked for %f seconds: %@
 (for statement %@)
-[BRCPQLConnection setProfilingEnabled:]_block_invoke
(null)
Significantly too slow SQL statement: 
v32@?0@"PQLConnection"8^{sqlite3_stmt=}16Q24
ATTACH "%@" AS %@
-[BRCPQLConnection attachDBAtPath:as:error:]
(passed to caller)
(ignored by caller)
setting profiling hook is not supported on %@
-[BRCPQLConnection setProfilingHook:]
-[BRCPQLConnection fetchWithSlowStatementRadar:sql:]
-[BRCPQLConnection fetchWithSlowStatementRadar:objectOfClass:sql:]
-[BRCPQLConnection fetchWithSlowStatementRadar:objectWithConstructor:sql:]
-[BRCPQLConnection executeWithExpectedIndex:sql:]
-[BRCPQLConnection executeWithSlowStatementRadar:sql:]
-[BRCPQLConnection disableProfilingForQueriesInBlock:]
com.apple.bird.db.batching
-[BRCPQLConnection _shouldFlushWithChangeCount:]
B20@?0@"PQLConnection"8i16
-[BRCPQLConnection brc_closeWithError:]
error closing connection %@: %@
-[BRCPQLConnection brc_close]
pragma page_count
pragma page_size
-[BRCPQLConnection _validateIsRunningWithCorrectPersona]
explain query plan %@
plan:
    %@
check-tree-consistency
-[BRDiskCheckerValidateTreeConsistencyOperation _processNextRootURL]_block_invoke
B24@?0@"NSURL"8@"NSError"16
-[BRDiskCheckerValidateTreeConsistencyOperation _processURLs]
SELECT item_id, zone_rowid FROM client_items WHERE %@ AND item_state IN (0, -1)
SELECT version_content_signature, item_id, zone_rowid FROM client_items WHERE %@
-[BRDiskCheckerValidateTreeConsistencyOperation telemetryEventValidatingSignature:againstDocumentFileObjectID:db:]
SELECT item_id, zone_rowid FROM client_items WHERE %@
-[BRDiskCheckerValidateTreeConsistencyOperation telemetryEventFromChecksummingPackage:db:]
-[BRDiskCheckerValidateTreeConsistencyOperation telemetryEventFromChecksummingFile:db:]
SELECT zone_name, zone_owner FROM client_zones WHERE rowid = %@
@24@?0@"PQLResultSet"8^@16
SELECT si.item_id IS NULL, (SELECT sz.zone_owner = %@ FROM server_zones AS sz WHERE sz.rowid = si.zone_rowid), si.quota_used, si.recursive_child_count, si.shared_children_count, si.shared_alias_count, si.child_count FROM client_items AS ci LEFT JOIN server_items AS si ON (si.item_id = ci.item_id AND si.zone_rowid = ci.zone_rowid) WHERE ci.%@ AND ci.item_state IN (0, -1)
-[BRDiskCheckerValidateTreeConsistencyOperation _directoryFileObjectIDFromURL:]
-[BRDiskCheckerValidateTreeConsistencyOperation _fpfsFileObjectIDWithURL:]
item_id = %@
-[BRDiskCheckerValidateTreeConsistencyOperation _injectionForFileObjectID:]
rowid = %llu
item_doc_id = %llu
item_file_id = %llu
packageItemsOrderedByPathForFileObjectIDFPFS
initpackageItemsOrderedByPathForFileObjectIDFPFS
/Library/Caches/com.apple.xbs/Sources/CloudDocs_plugins_Sim/xpc-services/telemetry-disk-checker/BRDiskCheckerValidateTreeConsistencyOperation.m
Can't find packageItemsOrderedByPathForFileObjectIDFPFS in iCloudDriveCore framework
/System/Library/PrivateFrameworks/iCloudDriveCore.framework/iCloudDriveCore
iCloudDriveCoreLibrary
Can't open iCloudDriveCore
com.apple.private.clouddocs.telemetry-disk-checker
v24@?0@"NSNumber"8@"NSError"16
v32@?0@"NSArray"8@"NSArray"16@"NSError"24
-[BRDiskCheckerService pauseTreeConsistencyCheck]
-[BRDiskCheckerService resumeTreeConsistencyCheckWithReply:]
operation
client.db
server.db
-[BRDiskCheckerService _setupDatabaseConnectionFromURL:error:]
telemetry-connection
v32@?0@"PQLConnection"8@"NSError"16@?<v@?>24
-[BRDiskCheckerService _setupDatabaseConnectionFromURL:error:]_block_invoke
server
item_id_is_root
v28@?0^{sqlite3_context=}8i16^^{sqlite3_value}20
item_id_is_documents
SELECT COUNT(*) FROM client_unapplied_table WHERE throttle_state IN (1,26)
-[BRDiskCheckerService _setupDatabaseConnectionFromURL:error:]_block_invoke_3
SELECT COUNT(*) FROM client_items WHERE item_localsyncupstate != 0 AND NOT item_id_is_documents(item_id)
B16@?0@"PQLConnection"8
__defaultPersonaID__
_BRBlockRememberPersona_block_invoke
_BRActivityBlockRememberPersona_block_invoke
v16@?0@"NSObject<OS_xpc_object>"8
-[BRDiskCheckerCountDocumentsOperation _getRecursiveChildItemCountAtURL:keysToFetch:filteringPredicate:outError:]_block_invoke
-[BRDiskCheckerCountDocumentsOperation _getRecursiveChildItemCountAtURL:keysToFetch:filteringPredicate:outError:]
-[BRDiskCheckerCountDocumentsOperation main]
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
<key>application-identifier</key>
<string>com.apple.CloudDocs.telemetry-disk-checker</string>
<key>com.apple.application-identifier</key>
<string>com.apple.CloudDocs.telemetry-disk-checker</string>
<key>com.apple.fileprovider.enumerate</key>
<true/>
<key>com.apple.private.MobileContainerManager.lookup</key>
<dict>
<key>daemon</key>
<array>
<string>com.apple.bird</string>
</array>
</dict>
<key>com.apple.private.security.storage.AppDataContainers</key>
<true/>
<key>com.apple.private.security.storage.MobileDocuments</key>
<true/>
<key>com.apple.security.app-sandbox</key>
<true/>
<key>com.apple.security.enterprise-volume-access</key>
<true/>
<key>com.apple.security.exception.files.home-relative-path.read-write</key>
<array>
<string>/Library/Application Support/CloudDocs/session/telemetry-db/</string>
</array>
<key>com.apple.security.temporary-exception.files.home-relative-path.read-write</key>
<array>
<string>/Library/Application Support/CloudDocs/session/telemetry-db/</string>
</array>
</dict>
</plist>
application-identifier*com.apple.CloudDocs.telemetry-disk-checker0N com.apple.application-identifier*com.apple.CloudDocs.telemetry-disk-checker0% com.apple.fileprovider.enumerate
0O/com.apple.private.MobileContainerManager.lookup
daemon0
com.apple.bird094com.apple.private.security.storage.AppDataContainers
072com.apple.private.security.storage.MobileDocuments
com.apple.security.app-sandbox
00+com.apple.security.enterprise-volume-access
@com.apple.security.exception.files.home-relative-path.read-write0></Library/Application Support/CloudDocs/session/telemetry-db/0
Jcom.apple.security.temporary-exception.files.home-relative-path.read-write0></Library/Application Support/CloudDocs/session/telemetry-db/
