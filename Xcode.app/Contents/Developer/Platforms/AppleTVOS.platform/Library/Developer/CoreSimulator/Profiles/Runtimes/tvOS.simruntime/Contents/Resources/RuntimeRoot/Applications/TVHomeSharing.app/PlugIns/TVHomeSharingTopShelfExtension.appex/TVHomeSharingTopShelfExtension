init
setMaxConcurrentOperationCount:
setName:
setupNetworkMonitoring
_startObservingManager
_startObservingSettings
defaultCenter
_handlePhysicalNetworkStateDidChangeNotification:
addObserver:selector:name:object:
_stopObservingManager
_stopObservingSettings
_stopObservingMediaEntityServer:
removeObserver:
dealloc
processingDispatchQueue
_loadTopShelfContentWithCompletionHandler:
_handleMediaEntityServersDidChange
_notfyTopShelfContentDidChange
observeValueForKeyPath:ofObject:change:context:
userInfo
tvs_numberForKey:
unsignedIntegerValue
setMediaEntityServer:
objectForKey:
protocol
topShelfContent
mediaEntityServer
sharedInstance
defaultLogObject
blockOperationWithBlock:
addDependency:
operationQueue
addOperation:
mediaEntityServers
count
addObserver:forKeyPath:options:context:
removeObserver:forKeyPath:context:
_handleMediaServerConnectionStateDidChangeNotification:
_handleMediaServerContentsDidChangeNotification:
removeObserver:name:object:
_startObservingMediaEntityServer:
topShelfContentDidChange
loadTopShelfContentWithCompletionHandler:
.cxx_destruct
setProcessingDispatchQueue:
setOperationQueue:
_processingDispatchQueue
_operationQueue
_mediaEntityServer
initWithName:initialState:mode:
_setupStateMachine
processingQueue
stateMachine
postEvent:
cancel
postEvent:withContext:userInfo:
_registerStateMachineHandlers
setShouldAcceptEvents:
setLogObject:
currentState
numInflightMediaItemsFetches
setNumInflightMediaItemsFetches:
_coalesceMediaItems
mediaItems
_fetchImageURLs
_completeOperation
setAllowsCaching:
startManagementWithCompletionHandler:
registerHandlerForEvent:onState:withBlock:
_updateFromMostModifiedAccessedMediaServer
countByEnumeratingWithState:objects:count:
isConnectable
setMediaCategoryType:
connectionState
_fetchMediaItems
connect
setMediaItemsSortedByAddedDate:
setMediaItemsSortedByPlayedDate:
setImageURLByMediaEntityIdentifier:
mediaItemsSortedByAddedDateFetchToken
mediaItemsSortedByPlayedDateFetchToken
imageURLsFetchToken
registerDefaultHandlerForEvent:withBlock:
mostRecentlyModifiedMediaServer
mediaServerIdentifier
mediaEntityServerForMediaServerIdentifier:
mediaCategoryType
_mediaItemsSortedByAddedDateFetchRequest
_mediaItemsSortedByAddedDateFetchDidCompleteWithResponse:error:
enqueueFetchRequest:completionHandler:
setMediaItemsSortedByAddedDateFetchToken:
_mediaItemsSortedByPlayedDateFetchRequest
_mediaItemsSortedByPlayedDateFetchDidCompleteWithResponse:error:
setMediaItemsSortedByPlayedDateFetchToken:
_mediaItemsFetchRequest
sortDescriptorWithKey:ascending:
arrayWithObjects:count:
setSortDescriptors:
mediaItemsFetchRequestWithMediaCategoryType:
addObject:
setProperties:
setRange:
numberWithBool:
dictionaryWithObjects:forKeys:count:
setOptions:
_mediaItemsFetchDidCompleteWithResponse:error:stateMachineEventToPost:
mediaEntities
setObject:forKey:
mediaItemsSortedByAddedDate
addObjectsFromArray:
mediaItemsSortedByPlayedDate
addedDate
lastPlayedDate
laterDate:
descendingDateSortComparatorWithBlock:
sortedArrayUsingComparator:
_filterdMediaItems:
subarrayWithRange:
setMediaItems:
firstObject
type
showTitle
albumIdentifier
copy
initWithMediaEntities:
setScaleToSize:
enqueueImageURLsFetchRequest:completionHandler:
setImageURLsFetchToken:
identifier
imageURLByMediaEntityIdentifier
tvs_URLForKey:
_imageURLForMediaItem:
imageKeyForObject:
initWithURL:imageIdentifier:
_sectionedItemImageShape
initWithMediaEntityServer:
initWithCapacity:
stringRepresentation
initWithIdentifier:
_topShelfTitleForMediaItem:
setTitle:
setImageShape:
_topShelfMediaType
_setMediaType:
playURLForMediaItem:
initWithURL:
setPlayAction:
displayURLForMediaItem:
setDisplayAction:
_imageRequestForMediaItem:
title
_setImageRequest:forTraits:
enumerateObjectsUsingBlock:
initWithItems:
displayName
initWithSections:
albumTitle
_topShelfContent
setTopShelfContent:
_finishExecutionIfPossible
_executionDidBegin
setStateMachine:
setProcessingQueue:
_stateMachine
_processingQueue
_mediaCategoryType
_mediaItemsSortedByAddedDateFetchToken
_mediaItemsSortedByAddedDate
_mediaItemsSortedByPlayedDateFetchToken
_mediaItemsSortedByPlayedDate
_numInflightMediaItemsFetches
_mediaItems
_imageURLByMediaEntityIdentifier
_imageURLsFetchToken
TVHTopShelfContentProvider-ProcessingQueue
TVHTopShelfContentProvider-OperationQueue
v8@?0
mediaServers
mediaEntityServers
processingDispatchQueue
T@"NSObject<OS_dispatch_queue>",&,N,V_processingDispatchQueue
operationQueue
T@"NSOperationQueue",&,N,V_operationQueue
mediaEntityServer
T@"TVHKMediaEntityServer",&,N,V_mediaEntityServer
Idle
Starting Home Sharing Manager
Connecting Media Entity Server
Fetching Media Entities
Fetching Image URLs
Cancelled
Done
Start
Cancel
Home Sharing Manager Did Start
Media Entity Server Connection Did Change
Fetch Media Items Sorted By Added Date Did Complete
Fetch Media Items Sorted By Played Date Did Complete
Fetch Image URLs Did Complete
Error
ImageURLs
MediaItems
TVHTopShelfItemOperation-ProcessingQueue
TVHTopShelfItemOperation State Machine
@"NSString"8@?0
v20@?0B8@"NSError"12
@"NSString"40@?0@"TVSStateMachine"8@"NSString"16@24@"NSDictionary"32
v24@?0@"TVHKMediaEntityFetchResponse"8@"NSError"16
addedDate
lastPlayedDate
title
identifier
type
imageIdentifier
duration
albumTitle
albumIdentifier
showTitle
seasonNumber
@"NSDate"16@?0@8
v24@?0@"NSDictionary"8@"NSError"16
v32@?0@"TVHKMediaItem"8Q16^B24
topShelfContent
T@"<TVTopShelfContent>",&,N,V_topShelfContent
stateMachine
T@"TVSStateMachine",&,N,V_stateMachine
processingQueue
T@"NSObject<OS_dispatch_queue>",&,N,V_processingQueue
mediaCategoryType
TQ,N,V_mediaCategoryType
mediaItemsSortedByAddedDateFetchToken
T@"TVHSAsynchronousWorkToken",&,N,V_mediaItemsSortedByAddedDateFetchToken
mediaItemsSortedByAddedDate
T@"NSArray",&,N,V_mediaItemsSortedByAddedDate
mediaItemsSortedByPlayedDateFetchToken
T@"TVHSAsynchronousWorkToken",&,N,V_mediaItemsSortedByPlayedDateFetchToken
mediaItemsSortedByPlayedDate
T@"NSArray",&,N,V_mediaItemsSortedByPlayedDate
numInflightMediaItemsFetches
TQ,N,V_numInflightMediaItemsFetches
mediaItems
T@"NSArray",C,N,V_mediaItems
imageURLByMediaEntityIdentifier
T@"NSMutableDictionary",&,N,V_imageURLByMediaEntityIdentifier
imageURLsFetchToken
T@"TVHSAsynchronousWorkToken",&,N,V_imageURLsFetchToken
TVHTopShelfContentOperation
StateMachine
Returning top shelf content: %@
Calling +topShelfContentDidChange
Fetching media items for media category: %@
Media items sorted by added date fetch completed. Num items fetched=%lu
Media items sorted by played date fetch completed. Num items fetched=%lu
Coalescing media items
Filtering media items (%u) [%@]
Filtered media items (%u) [%@]
!#! Starting image URL fetch for %lu items
Building top shelf content
Have media items : [%lu]
!#! Adding image request [%@] for %@
Unexpected media category type: %lu
TVHTopShelfContentProvider
TVHTopShelfContentOperation
@16@0:8
v16@0:8
v24@0:8@?16
v48@0:8@16@24@32^v40
v24@0:8@16
@"NSObject<OS_dispatch_queue>"
@"NSOperationQueue"
@"TVHKMediaEntityServer"
v32@0:8@16@24
v40@0:8@16@24@32
@24@0:8@16
q16@0:8
Q16@0:8
v24@0:8Q16
@"<TVTopShelfContent>"
@"TVSStateMachine"
@"TVHSAsynchronousWorkToken"
@"NSArray"
@"NSMutableDictionary"
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
<key>com.apple.itunesstored.private</key>
<true/>
<key>com.apple.private.coreservices.canmaplsdatabase</key>
<true/>
<key>com.apple.security.exception.mach-lookup.global-name</key>
<array>
<string>com.apple.atvcached</string>
<string>com.apple.tvhomesharingd.xpc</string>
</array>
<key>com.apple.security.exception.shared-preference.read-write</key>
<array>
<string>com.apple.TVHomeSharing.TVHomeSharingTopShelfExtension</string>
<string>com.apple.TVHomeSharing</string>
</array>
<key>com.apple.tvhomesharingd.client</key>
<true/>
</dict>
</plist>
