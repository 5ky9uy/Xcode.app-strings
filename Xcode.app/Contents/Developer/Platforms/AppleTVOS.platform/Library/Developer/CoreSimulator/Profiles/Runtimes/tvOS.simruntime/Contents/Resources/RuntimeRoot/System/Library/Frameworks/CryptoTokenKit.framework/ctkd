init
connectionCount
setConnectionCount:
acquireTokenWithSlot:AID:tokenID:error:
createTokenWithTokenID:persistent:
initWithToken:
setEndpoint:
initWithEndpoint:error:
name
setSlotName:
setDriver:
registry
connectedToken:
token
endpoint
slotName
driver
tokenID
releaseTokenWithTokenID:
disconnectedToken:
dealloc
initWithDriver:slot:AID:registry:error:
.cxx_destruct
_token
stringWithFormat:
UTF8String
description
persistent
automatic
valid
driverCache
classID
hostTokenDriverWithClassID:error:
acquireTokenWithTokenID:error:
isEqualToArray:
mutableCopy
countByEnumeratingWithState:objects:count:
removeObjectForKey:
addObject:
stringRepresentation
beginTransaction
markModified
commit
arrayWithObjects:count:
setWithArray:
decodeObjectOfClass:forKey:
decodeBoolForKey:
initWithTokenID:persistent:automatic:
keychainItemClasses
decodeObjectOfClasses:forKey:
encodeObject:forKey:
encodeBool:forKey:
configurationData
keychainItems
supportsSecureCoding
encodeWithCoder:
initWithCoder:
connectionWithError:
setKeychainItems:
queue
setRegistry:
setConfigurationData:
_persistent
_automatic
_tokenID
_queue
_registry
_driver
_slotName
_configurationData
_keychainItems
_endpoint
_connectionCount
initWithMachServiceName:
tokenDriverCache
initWithDriverCache:listener:
initializeSandBox
initWithRegistryListener:clientListener:
tokenRegistry
initWithTokenServer:tokenWatcher:tokenRegistry:
initWithTokenRegistry:
hasRegistry
loadTokensFromStore:
slotServer
start
notifyNewUserSession
tokenServer
slotWatcher
initWithMachServiceName:options:
startWithSlotServer:
stringWithUTF8String:
isEqualToString:
hasStarted
initWithArgc:argv:
_tokenDriverCache
_tokenRegistry
_tokenServer
_slotServer
_slotWatcher
transactionCounter
setTransactionCounter:
currentHandler
handleFailureInMethod:object:file:lineNumber:description:
storageDirty
flushStorage
setStorageDirty:
initWithRegistry:
setDelegate:
resume
allowedExtensionClassIDs
interfaceForProtocol
setExportedInterface:
setExportedObject:
invalidate
allKeys
objectForKeyedSubscript:
objectForKey:
setObject:forKey:
storage
count
archivedDataWithRootObject:requiringSecureCoding:error:
setObject:forKeyedSubscript:
removeAllObjects
delegate
hostTokenRegistry:removedToken:
removeTokenWithTokenID:
hostTokenRegistry:addedToken:
initWithSuiteName:
resetDB
unarchivedObjectOfClass:fromData:error:
tokenExtensionsWithAttributes:
_plugIn
uuid
UUIDString
isEqual:
identifier
configureWithError:
extension
class
self
performSelector:
performSelector:withObject:
performSelector:withObject:withObject:
isProxy
isKindOfClass:
isMemberOfClass:
conformsToProtocol:
respondsToSelector:
retain
release
autorelease
retainCount
zone
hash
superclass
debugDescription
listener:shouldAcceptNewConnection:
tokens
tokenWithTokenID:
listener
setResetDB:
tokenClassIDs
externalTransactions
pendingAutomaticTokens
pendingCreationTokens
tokensByTokenID
_resetDB
_storageDirty
_listener
_delegate
_driverCache
_storage
_transactionCounter
_tokenClassIDs
_externalTransactions
_pendingAutomaticTokens
_pendingCreationTokens
_tokensByTokenID
lastObject
removeLastObject
copy
ensureTokenWithTokenID:
getClassIDsWithReply:
getTokenIDsForClassID:reply:
readDataForTokenID:reply:
beginTransactionWithReply:
createTokenID:persistent:reply:
removeTokenID:reply:
updateTokenID:data:reply:
getKeychainItemsForTokenID:reply:
updateKeychainItemsForTokenID:items:reply:
endTransactionWithReply:
dictionary
state
addObserver:forKeyPath:options:context:
removeObserver:forKeyPath:context:
tokenRemoved
integerValue
tokenArrived
removeSlotWatch:
remove
_localizedName
length
dataWithCapacity:
appendBytes:length:
attributes
array
parseAIDForAttribute:into:
supportedAIDsOfExtension:
selectApplication:error:
inSessionWithError:executeBlock:
slot
makeSmartCard
dictionaryWithObjects:forKeys:count:
allValues
smartCard:mightHandleAIDFromExtension:foundAID:
hostTokenDriverFromExtension:
pairingNotification
tokenInserted:driverName:tokenID:reply:
bytes
tokenRemoved:reply:
initWithName:endpoint:slotType:watcher:
observeValueForKeyPath:ofObject:change:context:
getTokenIDs:
getReaderAndDriverNameFor:
_smartCardSlot
_previousSlotState
_slotType
_tokenConnections
_transaction
_name
reportChangesForSlotType:reply:
interfaceWithProtocol:
setRemoteObjectInterface:
setSlotWithName:endpoint:type:reply:
synchronousRemoteObjectProxyWithErrorHandler:
indexOfObject:
removeObject:
_connection
_slots
initWithConnection:server:
addSlotWithEndpoint:name:type:reply:
valueForEntitlement:
processIdentifier
removeSlotRegistration:
setInvalidationHandler:
addSlotRegistration:name:
handleConnection:server:
slotType
transaction
setTransaction:
_server
boolValue
removeClient:
addClient:reply:
remoteObjectProxy
notification
registryListener
clientListener
_registrations
_clients
_registryListener
_clientListener
setKeepAlive:
initWithTokenID:
errorWithDomain:code:userInfo:
getEndpoint:
getTokenEndpointForTokenID:reply:
initWithTokenRegistry:connection:server:
terminate
tokenConnection
connection
server
keepAlive
_tokenConnection
_keepAlive
tokenServerListener
tokenWatcherListener
startWatchingWithReply:
insertedToken:
removedToken:
currentConnection
weakObjectsHashTable
_watcherConnections
_tokenServerListener
_tokenWatcherListener
setError:
_auxiliaryConnection
getTokenConfigurationEndpointWithReply:
tokenDriverProtocol
error
_error
requestIdentifier
keepAlive:
cache
removeDriverWithClassID:
setRequestInterruptionBlock:
setRequestCancellationBlock:
idleTimeout
numberWithDouble:
avoidInitialKeepAlive
numberWithBool:
setUserInfo:
beginExtensionRequestWithOptions:inputItems:error:
setRequestIdentifier:
code
domain
_extensionContextForUUID:
contextWithError:
instanceID
acquireTokenWithInstanceID:reply:
acquireTokenWithSlot:AID:reply:
initWithClassID:instanceID:
configureWithReply:
context
releaseTokenWithInstanceID:reply:
cancelExtensionRequestWithIdentifier:
initWithExtension:cache:
setExtension:
_cache
_alive
_invalidated
_extension
_requestIdentifier
extensionsWithMatchingAttributes:error:
containsObject:
allowTestOnlyExtensions
firstObject
setIdleTimeout:
setAllowedExtensionClassIDs:
setAllowTestOnlyExtensions:
setAvoidInitialKeepAlive:
drivers
_disabledExtensionIDs
_allowTestOnlyExtensions
_avoidInitialKeepAlive
_idleTimeout
_allowedExtensionClassIDs
_drivers
TKHostTokenConnection
TKHostToken
NSSecureCoding
NSCoding
TKCtkdRunner
TKHostTokenRegistryTransaction
TKHostTokenRegistry
NSXPCListenerDelegate
NSObject
TKHostTokenRegistryConfigurationProxy
TKTokenConfigurationProtocol
TKSlotWatch
TKProtocolSlotClient
TKProtocolSlotClientNotification
TKSlotWatcher
TKProtocolSlotRegistry
TKSlotRegistration
TKSlotClient
TKSlotServer
TKTokenClientConnection
TKClientTokenServerProtocol
TKProtocolTokenWatcherServer
TKProtocolTokenWatcherHost
TKTokenServer
TKHostTokenRegistryDelegate
TKTokenDriverHostContext
TKTokenDriverHostProtocol
TKHostTokenDriver
TKHostTokenDriverCache
@24@0:8@16
@56@0:8@16@24@32@40^@48
@16@0:8
v16@0:8
@"TKHostToken"
B16@0:8
v24@0:8@16
v24@0:8@"NSCoder"16
@24@0:8@"NSCoder"16
@32@0:8@16B24B28
@24@0:8^@16
q16@0:8
v24@0:8q16
@"TKTokenID"
@"NSObject<OS_dispatch_queue>"
@"TKHostTokenRegistry"
@"TKHostTokenDriver"
@"NSString"
@"NSData"
@"NSArray"
@"NSXPCListenerEndpoint"
@28@0:8i16r^*20
@"TKHostTokenDriverCache"
@"TKTokenServer"
@"TKSlotServer"
@"TKSlotWatcher"
B24@0:8@16
#16@0:8
@24@0:8:16
@32@0:8:16@24
@40@0:8:16@24@32
B24@0:8#16
B24@0:8:16
Vv16@0:8
Q16@0:8
^{_NSZone=}16@0:8
B24@0:8@"Protocol"16
@"NSString"16@0:8
B32@0:8@16@24
B32@0:8@"NSXPCListener"16@"NSXPCConnection"24
@32@0:8@16@24
@28@0:8@16B24
v20@0:8B16
@"NSXPCListener"
@"<TKHostTokenRegistryDelegate>"
@"NSUserDefaults"
@"NSMutableArray"
@"NSMutableDictionary"
v24@0:8@?16
v32@0:8@16@?24
v36@0:8@16B24@?28
v40@0:8@16@24@?32
v24@0:8@?<v@?@"NSArray">16
v32@0:8@"NSString"16@?<v@?@"NSArray">24
v32@0:8@"TKTokenID"16@?<v@?@"NSData">24
v24@0:8@?<v@?>16
v36@0:8@"TKTokenID"16B24@?<v@?>28
v32@0:8@"TKTokenID"16@?<v@?>24
v40@0:8@"TKTokenID"16@"NSData"24@?<v@?>32
v32@0:8@"TKTokenID"16@?<v@?@"NSArray">24
v40@0:8@"TKTokenID"16@"NSArray"24@?<v@?>32
v32@0:8@16@24
B40@0:8@16@24^@32
@48@0:8@16@24@32@40
v48@0:8@16@24@32^v40
@"TKSmartCardSlot"
@"NSObject<OS_os_transaction>"
v32@0:8@"NSString"16@?<v@?>24
v48@0:8@16@24@32@?40
v48@0:8@"NSString"16@"NSXPCListenerEndpoint"24@"NSString"32@?<v@?>40
@"NSXPCConnection"
v48@0:8@"NSXPCListenerEndpoint"16@"NSString"24@"NSString"32@?<v@?@"NSString">40
v24@0:8@?<v@?@"NSXPCListenerEndpoint">16
v32@0:8@"NSString"16@?<v@?@"NSXPCListenerEndpoint"@"NSError">24
@40@0:8@16@24@32
@"TKHostTokenConnection"
v24@0:8@"NSArray"16
v24@0:8@"NSString"16
v32@0:8@"TKHostTokenRegistry"16@"TKTokenID"24
@"NSHashTable"
@"NSError"
@32@0:8@16^@24
@48@0:8@16@24^@32^@40
B24@0:8^@16
@"NSExtension"
@"NSUUID"
d16@0:8
v24@0:8d16
token
T@"TKHostToken",R,N,V_token
endpoint
T@"NSXPCListenerEndpoint",R,N
slotName
T@"NSString",R,N
hosttoken:%@
%@ %s-%@
PERS
AUTO
TRNS
pubk
v8@?0
tokenid
data
items
supportsSecureCoding
TB,R
T@"NSXPCListenerEndpoint",&,N,V_endpoint
connectionCount
Tq,N,V_connectionCount
tokenID
T@"TKTokenID",R,N,V_tokenID
queue
T@"NSObject<OS_dispatch_queue>",R,N,V_queue
registry
T@"TKHostTokenRegistry",W,N,V_registry
driver
T@"TKHostTokenDriver",&,N,V_driver
T@"NSString",&,N,V_slotName
persistent
TB,R,N,V_persistent
automatic
TB,R,N,V_automatic
configurationData
T@"NSData",&,N,V_configurationData
keychainItems
T@"NSArray",&,N,V_keychainItems
com.apple.CryptoTokenKit
tkhost
com.apple.system.loginwindow.desktopUp
ctkd
v12@?0i8
com.apple.notifyd.matching
v16@?0@"NSObject<OS_xpc_object>"8
tokenServer
T@"TKTokenServer",R,N,V_tokenServer
slotServer
T@"TKSlotServer",R,N,V_slotServer
slotWatcher
T@"TKSlotWatcher",R,N,V_slotWatcher
tokenDriverCache
T@"TKHostTokenDriverCache",R,N
tokenRegistry
T@"TKHostTokenRegistry",R,N
hasRegistry
TB,R,N
/BuildRoot/Library/Caches/com.apple.xbs/Sources/CryptoTokenKit_Sim/CryptoTokenKit-408.0.8/ctkd/TKHostTokenRegistry.m
<Unknown File>
An attempt to double-commit registry transaction
An attempt to modify committed registry transaction
Destroying uncommitted registry
Failed to archive data of token %@, error: %@
tokens
Attempting to remove non-existent token %@ from registry
Diconnecting automatic token which is not present in registry
com.apple.security.%@-db
classes
hash
TQ,R
superclass
T#,R
description
T@"NSString",R,C
debugDescription
transactionCounter
Tq,N,V_transactionCounter
storageDirty
TB,N,V_storageDirty
tokenClassIDs
T@"NSArray",R,N,V_tokenClassIDs
externalTransactions
T@"NSMutableArray",R,N,V_externalTransactions
pendingAutomaticTokens
T@"NSMutableDictionary",R,N,V_pendingAutomaticTokens
pendingCreationTokens
T@"NSMutableDictionary",R,N,V_pendingCreationTokens
tokensByTokenID
T@"NSMutableDictionary",R,N,V_tokensByTokenID
listener
T@"NSXPCListener",R,N,V_listener
delegate
T@"<TKHostTokenRegistryDelegate>",W,N,V_delegate
driverCache
T@"TKHostTokenDriverCache",R,N,V_driverCache
T@"NSArray",R,N
storage
T@"NSUserDefaults",R,N,V_storage
resetDB
TB,N,V_resetDB
T@"TKHostTokenRegistry",R,W,N,V_registry
tokenhost
slotwatch:%@
state
B16@?0^@8
smartcard
name
T@"NSString",R,N,V_name
v16@?0@"NSError"8
T@"TKHostTokenRegistry",R,N,V_registry
hasStarted
slotwtch
com.apple.private.ctk.slot-type
com.apple.security.smartcard
T@"NSString",C,N,V_slotName
slotType
T@"NSString",R,N,V_slotType
T@"NSXPCListenerEndpoint",R,N,V_endpoint
transaction
T@"NSObject<OS_os_transaction>",&,N,V_transaction
notification
T@"<TKProtocolSlotClientNotification>",R,N
%@ %02d
slot server registration:%@
registryListener
T@"NSXPCListener",R,N,V_registryListener
clientListener
T@"NSXPCListener",R,N,V_clientListener
ctk driver extension connection keepalive
T@"TKHostTokenRegistry",R,V_tokenRegistry
tokenConnection
T@"TKHostTokenConnection",R,V_tokenConnection
connection
T@"NSXPCConnection",R,W,V_connection
server
T@"TKTokenServer",R,V_server
keepAlive
T@"NSObject<OS_os_transaction>",&,V_keepAlive
T@"NSXPCListenerEndpoint",R
T@"TKHostTokenRegistry",R,N,V_tokenRegistry
tokenServerListener
T@"NSXPCListener",R,N,V_tokenServerListener
tokenWatcherListener
T@"NSXPCListener",R,N,V_tokenWatcherListener
tkserver
/BuildRoot/Library/Caches/com.apple.xbs/Sources/CryptoTokenKit_Sim/CryptoTokenKit-408.0.8/ctkd/TKHostTokenDriver.m
Driver context does not have registry set
T@"TKHostTokenDriver",W,N,V_driver
tokenDriverProtocol
T@"<TKTokenDriverProtocol>",R,N
error
T@"NSError",&,N,V_error
<TKHostTokenDriver:%p %@(%@)>
Attempted to create keepalive xaction when it already exists
extension holder for '%@'
v16@?0@"<NSCopying>"8
v24@?0@"<NSCopying>"8@"NSError"16
idleTimeout
avoidInitialKeepAlive
requestIdentifier of unexpected type: %@
%@ asked to acquire token with bad class: %@
v24@?0@"NSXPCListenerEndpoint"8@"NSError"16
v32@?0@"NSXPCListenerEndpoint"8@"NSString"16@"NSError"24
v20@?0B8@"NSError"12
cache
T@"TKHostTokenDriverCache",R,W,N,V_cache
extension
T@"NSExtension",&,N,V_extension
requestIdentifier
T@"NSUUID",&,N,V_requestIdentifier
classID
valid
DisabledTokens
com.apple.ctk-tokens
com.apple.setoken
com.apple.secelemtoken
com.apple.ctk.testonly
token extension %@ has no %@ attribute
Td,V_idleTimeout
allowedExtensionClassIDs
T@"NSArray",&,N,V_allowedExtensionClassIDs
allowTestOnlyExtensions
TB,N,V_allowTestOnlyExtensions
TB,N,V_avoidInitialKeepAlive
drivers
T@"NSMutableDictionary",R,N,V_drivers
Failed to update keychain with token items of token %{public}@
Writing changes into tokenDB tokens
Removing token %{public}@ from system
Manually creating token %{public}@, removing it from pending automatic tokens
Adding token %{public}@ to system
Adding automatic token %{public}@ to system
Removing automatic token %{public}@ from system
loading tokendb from suite %{public}@
cleaning existing registry DB
Failed to read data of token %{public}@ - skipping. Error: %{public}@
Read persistent token %{public}@
Deleting keychain items from token %{public}@
Token driver %{public}@ disappeared, deleting its %d tokens
Detected new token classID %{public}@
New token driver %{public}@ successfully configured
Configuration of token driver %{public}@ failed: %{public}@
Writing changes into tokenDB classes: %d extensions
introducing pending-created token %{public}@
failed to start watching state of new slot, abandoning the slot (err %{public}@)
Error connecting SmartCard in slot %{public}@: %{public}@
Card does not contain any application handled by extension %{public}@
token inserted
card inserted into slot: %{public}@
tokenInserted replied
%{public}@: %{public}@ is handling %{public}@
%{public}@ cannot handle token in slot %{public}@
No token driver found for card %{public}@ (ATR: %{public}@)
card removed from slot: %{public}@
tokenRemoved replied
failed to register slot list notifications, error %{public}@
start watching %lu slots
added slot: type=%{public}@, name=%{public}@ - total %lu slots
removing slot name=%{public}@: - remaining %lu slots
ignoring multiple registration attempt for slot type '%@'
refusing slot registration from pid=%d: slot type '%@' not allowed by entitlement '%@'
refusing client pid=%d: TKSmartCardSlot usage not allowed by entitlement '%@'
sending notification '%@' failed with status %u
added registration for slot %{public}@
sending notification '%{public}@' failed with status %u
removing registration for slot %{public}@
addClient notification, %ld remain
addClient notification, waiting for %ld replies
refusing request for token with invalid tokenID %{public}@
Failed to communicate with driver %{public}@, error: %{public}@
Invalid or missing attribute '%{public}@' of extension %{public}@
%{public}@: invalidating
%{public}@: failing request for context because cachedriver is invalidated
%{public}@ extension request %{public}@ invalidated, removing driver from cache
%{public}@ extension request %{public}@ cancelled, removing driver from cache
%@: beginRequest
beginExtensionRequest for %{public}@ failed %d time, retrying
Token driver extension %{public}@ failed to start: %{public}@
%@: beginRequest succeeded
%{public}@ failed to resolve requestIdentifier %{public}@ to context
%{public}@: acquiring
failed to acquire token from extension %{public}@, error:%{public}@
%@: acquired
acquiring token on driver %{public}@ through slot
%{public}@: acquired
configuring extension %{public}@
%{public}@ releasing
%{public}@ released
%@: finished using class driver extension
Following token extensions disabled by configuration: %{public}@
%{public}@: removing from cache
Failed to enumerate ctk-tokens extensions, error %{public}@
%{public}@: created new
requested driver for token class '%{public}@' not found in the system
detected %d drivers implementing '%{public}@' token class, using '%{public}@' and ignoring the rest
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
<key>BuildMachineOSBuild</key>
<string>18A391011</string>
<key>CFBundleIdentifier</key>
<string>com.apple.ctkd</string>
<key>CFBundleName</key>
<string>ctkd</string>
<key>CFBundleSupportedPlatforms</key>
<array>
<string>AppleTVSimulator</string>
</array>
<key>DTCompiler</key>
<string>com.apple.compilers.llvm.clang.1_0</string>
<key>DTPlatformBuild</key>
<string>11L374m</string>
<key>DTPlatformName</key>
<string>appletvsimulator</string>
<key>DTPlatformVersion</key>
<string>13.0</string>
<key>DTSDKBuild</key>
<string>17J546</string>
<key>DTSDKName</key>
<string>appletvsimulator13.0.internal</string>
<key>DTXcode</key>
<string>1100</string>
<key>DTXcodeBuild</key>
<string>11L374m</string>
<key>MinimumOSVersion</key>
<string>13.0</string>
<key>UIDeviceFamily</key>
<array>
<integer>3</integer>
</array>
</dict>
</plist>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
<key>com.apple.application-identifier</key>
<string>com.apple.ctkd</string>
<key>com.apple.private.extension-host.ctk-tokens</key>
<true/>
<key>com.apple.security.smartcard</key>
<true/>
<key>seatbelt-profiles</key>
<array>
<string>ctkd</string>
</array>
</dict>
</plist>
