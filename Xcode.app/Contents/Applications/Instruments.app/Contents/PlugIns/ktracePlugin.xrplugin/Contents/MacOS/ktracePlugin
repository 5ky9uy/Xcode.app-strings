@(#)PROGRAM:ktracePlugin  PROJECT:Instruments-64541.5
N4xray6kpd2ac11TableBridgeE
N4xray6kpd2ac16TimeSampleBridgeE
N4xray6kpd2ac12KdebugBridgeE
N4xray6kpd2ac25KdebugCodeFilteringBridgeE
N4xray6kpd2ac18KdebugStringBridgeE
N4xray6kpd2ac9PMIBridgeE
N4xray6kpd2ac22ThreadNameUpdateBridgeE
N4xray6kpd2ac19TidPidMappingBridgeE
N4xray6kpd2ac20ThreadSnapshotBridgeE
NSt3__120__shared_ptr_pointerIP15kpdecode_recordN4xray6kpd2ac19SharedRecordDeleterENS_9allocatorIS1_EEEE
N4xray6kpd2ac19SharedRecordDeleterE
.ANSt3__120__shared_ptr_pointerIPN4xray6kpd2ac6CommonENS_14default_deleteIS3_EENS_9allocatorIS3_EEEE
NSt3__114default_deleteIN4xray6kpd2ac6CommonEEE
Name
StateFlags
SnapshotFlags
StartTIDs
SharedCacheUUID
Library
UUID
Address
Length
Owner
Offset
Kernel64bit
CPUSamplingTimeInterval
VMPageSize
HWPageSize
HWMemorySize
AGXTraceCodeVersion
IOMFBProperties
IOMFBTraceCodeVersion
IOMFBAPTPossible
IOMFBAPTActiveMachTime
IOMFBAPTQuantaMachTime
IOMFBAPTQuantaLeadTime
BootArgs
CreationCommand
SerialNumber
MachAbsoluteTime
SecondsSinceEpoch
SecondsFromGMT
ContinuousTimeOffset
TraceWarnings
TimestampOverflow
TimestampOutOfOrder
EventsDropped
TraceEndedDueToKtraceBlockLimit
TraceEndedDueToBufferFull
TraceConfiguration
RingBufferMode
SampleCallstacks
SyscallCallstacks
VMFaultCallstacks
SampleMemory
Configuration
Periodic Sampling
Kick Boundary Sampling
Enable PC Sampling
Disable Kick Overlap
Timer Interval (microseconds)
Counters
Description
Unexpected code string: "%@". Class and subclass values must be in the range [0, 256)
Unexpected code string: "%@". Cannot filter by code (only by class and subclass). Code value must be '*'.
Unexpected code string: "%@". Expecting a format of: "<CLASS>,<SUBCLASS>,<CODE>"
Improperly formatted target string: %@. Defaulting to all processes
kernel
user
kdebug
kdebug-strings
codes
callstack
-[XRKTraceKDebugTriggerAttributes attemptMergeWithTriggerAttributes:]
/Library/Caches/com.apple.xbs/Sources/Instruments/Instruments-64541.5/KTracePlugIn/XRKtraceSupportClasses.m
(_pid == XRAllPidsIdentifier) && (rhsAttributes->_pid == XRAllPidsIdentifier)
XRKtraceSupport
Currently not supported by kperf
XRKTraceTapPlugIn.callstack-depth
hash
TQ,R
superclass
T#,R
description
T@"NSString",R,C
debugDescription
target
sample-rate-micro-seconds
all-thread-states
pmc-events
v24@?0@"DTKPCPUCounterAllocatorRecord"8^c16
pmi-event
pmi-threshold
No allocated PMI record
time-sample
kdebug-counters-with-time-sample
type
Ti,R,N,V_type
isARMDevice
Tc,R,N,V_isARMDevice
triggerAttributes
T@"<XRKTraceTriggerAttributes>",R,N,V_triggerAttributes
v32@?0@"NSString"8Q16^c24
ARTrace File: %@ %@
error while parsing process information: %@
v32@?0{artrace_block_header=II}8*16^@24
ARTrace files do not contain enough information to properly know the CPU type and SubType, this can cause symbolication to fail.
%llu
@"NSString"20@?0i8Q12
<unknown>
__TEXT
v32@?0@"NSString"8@"NSDictionary"16^c24
com.apple.perf.ariadne.artrace
com.apple.ariadne.processInfo
com.apple.ariadne.signpost-plists
artrace path unreadable: %s
unable to stat trace at path: %s
unable to mmap trace at path: %s (%d)
file at path is not of expected artrace type: %s
malformed artrace; chunk at %llu exceeds file size %llu
error while parsing trace: %@
developer-thread-name-update
tid-pid-mapping
thread-snapshot
skipContainer
/Library/Caches/com.apple.xbs/Sources/Instruments/Instruments-64541.5/KTracePlugIn/XRKPDecodeToAnalysisCoreBridge.mm
kcdata_iter_container_valid(iter)
loadCPBacktraceIntoValue
frameCount + startOfRealFrames + registerCount == count
startOfExtraRegisters - frameCount - startOfRealFrames == 0
v8@?0
_ingestRecord
kpdecode_rec_is_tid(rec)
kpdecode_rec_is_kevent(rec)
TODO
v24@?0Q8r*16
normalizePMCCounters
kpdecode_rec_is_pmc_cpu(rec)
pmcCount <= Common::staticPMCMaxCount
hwIndex < Common::staticPMCMaxCount
evaluateRecord
kpdecode_rec_is_timestamp(rec)
Unknown
Running
Blocked
time
thread
core-index
cp-kernel-callstack
cp-user-callstack
class
subclass
code
function
arg1
arg2
arg3
arg4
arg5
raw-string
raw-string-id
thread-state
allocator<T>::allocate(size_t n) 'n' exceeds maximum supported size
thread-name
scheduler-event
counters-array
state
priority
bitset test argument out of range
bitset set argument out of range
Importing
v28@?0i8Q12Q20
v16@?0^{kpdecode_record=QQQi(?={?=[20c]}{?=[20c]}){?=I[4Q]}{?=iiQ}{kpdecode_callstack=II[128Q]}{kpdecode_callstack=II[128Q]}{kpdecode_pmc=i[32Q]}{?=IIII}{?=IQQQQ}{?=QQIssb3b3b3b3}{?=QiiQQ}{?=QQsC}{?=Q}{?=II}{?=Qi}{?=i^Q}{?=Q}{?=Ii}{?=[256c]QQI}{?=QQQQ}{?=QQ}{?=b3b3b3}{?=[64c]Q}{?=[64c]Q}}8
v24@?0{kcdata_iter=^{kcdata_item}^v}8
-[XRKtraceTapImportingAgent executeStopOnItinerary:]
/Library/Caches/com.apple.xbs/Sources/Instruments/Instruments-64541.5/KTracePlugIn/XRKtraceTapImportingAgent.mm
_analysisCoreBulkLoadPanel
v16@?0r^{XRAnalysisCoreTableBindings=}8
com.apple.ariadne.artrace
com.apple.ktrace
v24@?0Q8^c16
v32@?0@"XRKTraceTriggerConfig"8Q16^c24
Failed to set the ktrace file for the session.
Failed to open ktrace file at %s.
Import file, %s, is not in a format Instruments can read.
yieldNow
T^Ac,N
analysisCoreBulkLoadPanel
T@"<XRAnalysisCoreBulkLoadPanel>",&,N
T@"<XRAnalysisCoreBulkLoadPanel>",&,N,V_analysisCoreBulkLoadPanel
T^Ac,N,V_yieldNow
agent
T@"XRKtraceTapImportingAgent",&,N,V_agent
Determining File Type
Building Device and Import Command
-[XRKtraceImportSetupMobileAgent _scanFile]
/Library/Caches/com.apple.xbs/Sources/Instruments/Instruments-64541.5/KTracePlugIn/XRKtraceImportSetupMobileAgent.m
self.sourceURL
com.apple.perf.tailspin
Import source file '%@' is not in a format supported by the chosen import agent.
timeTriggerID
com.apple.ktrace.hints
-[XRKtraceImportSetupMobileAgent _chooseDeviceOnItinerary:]
_importDevice == nil
IOMobileFramebuffer
IOMFB_KTRACE_API_VERSION
B16@?0^{ktrace_chunk=}8
Cannot find 'config' chunk in the ktrace import file.
%d timers enabled in trace, we only use the first one.
v16@?0^{trace_point=QQQQQQII{timeval=qi}**i}8
com.apple.dt.import-setup-agent-queue
Failed to start the import of the ktrace data file.
Waiting for Config
Waiting for Tap to Start
Waiting for Tap to Stop
Transferring Remaining Data
Waiting for Last Memo
Bulk Loading ktrace Data
Final Bulk Loading of ktrace Data
Releasing Device Resources
Memo Arrived
Last Memos Have Been Sent
Configuration Metadata Arrived
-[XRKtraceTapRecordingAgent executeStopOnItinerary:]
/Library/Caches/com.apple.xbs/Sources/Instruments/Instruments-64541.5/KTracePlugIn/XRKtraceTapRecordingAgent.mm
[self.greetingVisitor isKindOfClass:XRCourierAgent.class]
triggerIDs
actionIDs
-[XRKtraceTapRecordingAgent executeStopOnItinerary:]_block_invoke
actionIDsByIdx.count > idx
Cannot trust configuration information received.  Data may be misleading.
v32@?0@"NSNumber"8Q16^c24
No configuration information received, will have to guess.  Data may be misleading.
self.mode == XRKtraceTapAgentFinalBulkLoadingMode
Lost events were detected. Data rate might be too high. Trying with another recording mode might solve this issue.
bundle
stackshot
com.apple.dt.instruments.ktracetapplugin
Another document is currently using the kernel tracing resources.
-[XRKtraceTapRecordingAgent performMainThreadSafeSetup:]
v16@?0@"DTKPSessionRecordBundle"8
v16@?0@"NSObject<OS_xpc_object>"8
v16@?0@"NSDictionary"8
v36@?0I8Q12@"NSString"20@"NSDictionary"28
ktrace.owning_pid
Failed to acquire kernel trace recording resources (%s). Possibly in use by pid %llu.
Failed to acquire kernel trace recording resources (%s).
ktraceDeviceResourceToken
T@"XRDeviceResourceToken",&,N,V_ktraceDeviceResourceToken
T@"DTTap",&,N,V_tap
runningConfig
T@"DTKTraceTapConfig",&,N,V_runningConfig
windowModeStartingTime
TQ,N,V_windowModeStartingTime
Required kernel recording resources are in use by another document.
counters
v24@?0@"XRAnalysisCoreTableSpec"8^c16
com.apple.instruments.server.services.coreprofilesessiontap.pmc
PMC values might be inaccurate on this device.
Couldn't create a XRKTraceTriggerConfig from table with schema name: %@
-[XRKtraceTapAgent performMainThreadSafeSetup:]_block_invoke
/Library/Caches/com.apple.xbs/Sources/Instruments/Instruments-64541.5/KTracePlugIn/XRKtraceTapAgent.mm
com.apple.instruments.server.services.coreprofilesessiontap.multipleTimeTriggers
Multiple time triggers are required, but the device only supports one.
Try removing instruments one at a time until this error goes away.
triggerConfigs
T@"NSArray",&,N,V_triggerConfigs
greatestObservedTimestamp
TQ,N,V_greatestObservedTimestamp
countByEnumeratingWithState:objects:count:
componentsSeparatedByString:
count
objectAtIndexedSubscript:
isEqualToString:
numberWithUnsignedInt:
addObject:
initWithCodes:
length
substringFromIndex:
integerValue
intValue
arrayWithObjects:count:
conformsToProtocol:
init
objectForKeyedSubscript:
initWithArray:
addObjectsFromArray:
setWithArray:
allObjects
setArray:
setKdebugFilter:
setKind:
setIsAllProcesses:
dictionaryWithObjects:forKeys:count:
errorWithDomain:code:userInfo:
standardUserDefaults
integerForKey:
setCallstackFrameDepth:
addAction:
isEqual:
class
self
performSelector:
performSelector:withObject:
performSelector:withObject:withObject:
isProxy
isKindOfClass:
isMemberOfClass:
respondsToSelector:
retain
release
autorelease
retainCount
zone
hash
superclass
description
debugDescription
initWithAttributes:tableName:
attemptMergeWithTriggerAttributes:
createDTKTraceTapTriggerConfigForDevice:error:
.cxx_destruct
_pid
_codeStrings
_needsUserCallstack
_needsKernelCallstack
boolValue
arrayByAddingObjectsFromArray:
setSampleInterval:
includePID:
includeThreadState:
eventName
counterName
enumerateAllocatedPMCs:
_pmcEvents
_sampleRateInMicroSeconds
_allThreadStates
unsignedLongLongValue
allocatedPMIRecord
eventOrAliasName
setPmiEventMnemonic:
setPmiCounterName:
pmiThreshold
setPmiEventThreshold:
numberWithInt:
setPmiDeviceIndices:
isPMI
_pmiEvent
_pmiThreshold
attributes
schemaName
initWithTableSpec:schema:tableID:isARMDevice:
attemptMergeWithTriggerConfig:
type
isARMDevice
triggerAttributes
_isARMDevice
_type
_triggerAttributes
hasPrefix:
scannerWithString:
scanHexInt:
dtkpCPU
initWithCPU:error:
setPMIEventName:pmiThreshold:error:
addPMCEventName:error:
enumerateObjectsUsingBlock:
sourceURL
fileSystemRepresentation
_moveToChoosingDevice:
_moveToFailed:
setNumberOfPhysicalCpus:
setNumberOfCpus:
stringWithUTF8String:
setBuildVersion:
setProductType:
productType
containsString:
setCpuDescription:
initWithCpuType:cpuSubtype:
setDeviceArchitecture:
stringWithFormat:
setDeviceDisplayName:
setSyntheticMachTimeBase:
doubleValue
dateWithTimeIntervalSince1970:
setObject:forKeyedSubscript:
setProperties:
setRepresentativeDeviceIconURL:
_extractTraceInfoProperties:
dataWithBytesNoCopy:length:freeWhenDone:
propertyListWithData:options:format:error:
_extractExtendedProperties:
dataWithBytes:length:
_extractProcessInfo:
dvtiuErrorWithFormat:
syntheticMachAbsoluteStartTime
setSyntheticMachAbsoluteStartTime:
issueResponder
handleIssue:type:from:
createSymbolicatorForPid:
initWithUUIDBytes:
setFallbackSymbolNameProvider:
setChosenDevice:
_moveToFinalConfiguration:
setProcessExecName:pid:
containsObject:
UTF8String
getUUIDBytes:
setCSSymbolicator:pid:
enumerateKeysAndObjectsUsingBlock:
trace
initWithTrace:
setCommandPurpose:
chosenDevice
setTargetDevice:
recordingOptions
setRecordingMode:
setRunNumber:
setTargetType:
initWithSourceURL:uti:
setImporters:
currentDeviceTime:
timeIntervalSince1970
setStart:end:
setImportHints:
setAutoStartCommand:
_preflightOnItinerary:
_chooseDeviceOnItinerary:
_configureAutoStartCommand
_syntheticDevice
_machAbsoluteTimeEnd
_cpuType
_cpuSubType
_traceStartDate
_tidToProcessInfo
_signpostPlists
_ariadneSymbolInfoByUUID
name
getCPCallstack:process:pc:frames:extraRegisters:
getProcessValue:pid:sessionUUID:
getThread:tid:process:
initWithBytes:length:encoding:
isValid
initWithBytesNoCopy:length:encoding:freeWhenDone:
setString:
getValue:implementation:engineeringType:
signature
getValue:signatures:engineeringType:
setObject:atIndexedSubscript:
extractColumnIDs:forMnemonics:
createFilterMask:
initWithType:
mustYield
setGreatestObservedTimestamp:
yield
deviceTimeInfo
_loadStackshot:
_dumpThreadNameMappingSessionCallback
_sendEndOfDataToAllBridges
mode
tableIDsToPopulate
setupCursorsWithBindings:
setMustYield:
revisit
moveToFailed:
moveToFinished:
resetCursors
populateTableIDs:block:
greatestObservedTimestamp
updateTrailingEventHorizon:
executeStopOnItinerary:
performMainThreadSafeSetup:
command
importers
sourceUTI
tableSpecsByID
numberWithUnsignedInteger:
enumerateIndexesUsingBlock:
dataWithLength:
mutableBytes
importHints
triggerConfigs
core
bulkLoadingPanelTicketForAgent:
setAgent:
setNextStop:mode:ticket:
nextRunErrorWithFormat:
deactivated
yieldNow
setYieldNow:
analysisCoreBulkLoadPanel
setAnalysisCoreBulkLoadPanel:
_yieldableBulkLoadingActivity
start:
_hasKdebugTable
_hasTimeSampleTable
_hasPureTraceV3
_hasAriadne
_artraceURL
_traceV3URL
_finalTriggerCount
_finalTriggerIDs
_finalTriggerIDsStore
_kdebugTriggerIndex
_sampleTriggerIndex
_threadInfo
_traceFile
_traceSession
_yieldHelper
_yieldNow
_analysisCoreBulkLoadPanel
main
agent
_agent
_scanFile
path
numberWithUnsignedLongLong:
dataWithPropertyList:format:options:error:
initWithBytesNoCopy:length:freeWhenDone:
defaultResponder
setIsAppleInternal:
copy
setModelName:
setProductVersion:
setCpuTopology:
_buildDeviceFromSession
progressWithTotalUnitCount:
containsIndex:
addIndex:
setCompletedUnitCount:
totalUnitCount
_importCommand
_importDevice
_importerSpec
_isSupported
_hasTimeSamples
_hasKdebug
_traceTimerActionID
_traceKdebugActionID
_traceTimerUserData
_epochSecondsTillStartOfTrace
_epochSecondsTillEndOfTrace
initWithClusterID:flags:
_purgeUnhandledData
setupOwnerVisit:mode:
greetingVisitor
details
abandon
unsignedIntValue
instrumentsPlugInErrorWithFormat:
runningConfig
bufferMode
readyToStart:
recordingStopped:
waitingRoom
sendCourierToVisitWaitingRoom:message:details:
setupOwnerVisit:leaveWhenEmpty:mode:
handleCourier:itinerary:
_loadUntilYieldOrFinished
stopMessageHasBeenQueued
returnToRunning:
mainQueueStop
setNextStop:mode:
targetDevice
returnManagedResourceToken:
unpause
sharedInstance
setupVisitAfterOperation:itinerary:mode:
pause
waitUntilFinished
pauseRecording:
resumeRecording:
message
dataBlocks
_addDataBlocksFromArray:
shouldVisitBulkLoadPanel
voteDeviceRelativeMachAbsoluteTime:
resumeDataProcessing
fetchDataNow
acquireTokenForManagedResource:
setKtraceDeviceResourceToken:
ktraceDeviceResourceToken
_createDTKTraceTapConfig:
isWindowed
setBufferMode:
windowLimit
setWindowSize:
isDeferred
isImmediate
setPollingInterval:
setSessionHandler:
setStackshotHandler:
setWindowModeStartingTime:
setRecordingInfoHandler:
setStatusHandler:
initWithOwner:dispatchQueue:
setRunningMetadataChangedHandler:
isLocal
connection
defaultFactory
createNewTapWithConfig:connection:options:
setTap:
setRunningConfig:
start
setRecordingPriority:
addTriggerConfig:
firstObject
bytes
removeObjectAtIndex:
_processCurrentDataBlock
isDeferredDisplay
pollingInterval
removeAllObjects
stopRecording:
voteForEpoch:
flushAllRemainingData:
_addDataBlock:
windowModeStartingTime
_stopOp
_configMetadataWaitingRoom
_configMetadata
_dataBlocksToProcess
_currentData
_stackshot
_observedHorizon
_kpdCursor
_recordingInfoLatch
_hasLostEvents
_ktraceDeviceResourceToken
_tap
_runningConfig
_windowModeStartingTime
suspendDataProcessing
stop
commandPurpose
canAcquireTokenForManagedResource:
versionForCapability:
nextRunWarningWithFormat:
selectSupportedTableSpecs:command:
topIssueAffectingRecordingOfTableSpecs:command:
agentForCommand:
schemataByName
deviceArchitecture
isARM
_mergeKDebugTriggers:timeTriggers:pmiTriggers:
reportFailureReason:recovery:
_mergeTriggers:intoResult:
setTriggerConfigs:
.cxx_construct
_tableBridges
_commonBridgeStatePtr
_triggerConfigs
_greatestObservedTimestamp
NSFastEnumeration
XRKTraceKDebugTriggerAttributes
XRKTraceTriggerAttributes
NSObject
XRKTraceTimeTriggerAttributes
XRKTracePMITriggerAttributes
XRKTraceTriggerConfig
XRAriadneImportSetupMobileAgent
XRKtraceTapImportingAgent
XRAnalysisCoreBulkLoadingAgent
XRMinorFrameAgent
XRKtraceTapImportingYieldHelper
XRKtraceImportSetupMobileAgent
XRKtraceTapRecordingAgent
XRKTraceTapPlugIn
XRKtraceTapAgent
Q40@0:8^{?=Q^@^Q[5Q]}16^@24Q32
c24@0:8@16
#16@0:8
@16@0:8
@24@0:8:16
@32@0:8:16@24
@40@0:8:16@24@32
c16@0:8
c24@0:8#16
c24@0:8:16
Vv16@0:8
Q16@0:8
^{_NSZone=}16@0:8
c24@0:8@"Protocol"16
@"NSString"16@0:8
@32@0:8@16@24
@32@0:8@16^@24
@32@0:8@"NSDictionary"16@"NSString"24
c24@0:8@"<XRKTraceTriggerAttributes>"16
@"DTKTraceTapTriggerConfig"32@0:8@"XRDevice"16^@24
v16@0:8
@"NSMutableArray"
@"NSArray"
@"NSString"
@40@0:8@16@24I32c36
i16@0:8
@"<XRKTraceTriggerAttributes>"
v24@0:8@16
v24@0:8^{artrace_block_traceinfo=[16c][16c]III}16
@"XRImportSupportDevice"
@"NSDate"
@"NSData"
@"NSMutableDictionary"
^Ac16@0:8
v24@0:8^Ac16
@"<XRAnalysisCoreBulkLoadPanel>"16@0:8
v24@0:8@"<XRAnalysisCoreBulkLoadPanel>"16
@"NSURL"
@"NSMutableData"
@"NSDictionary"
^{ktrace_file=}
^{ktrace_session=}
@"XRKtraceTapImportingYieldHelper"
@"<XRAnalysisCoreBulkLoadPanel>"
@"XRKtraceTapImportingAgent"
@"PFTInstrumentCommand"
@"XRImporterSpec"
v32@0:8@16@24
@24@0:8^@16
v24@0:8Q16
@"NSOperation"
@"XRWaitingRoom"
@"NSObject<OS_xpc_object>"
^{kpdecode_cursor=}
@"NSObject<OS_dispatch_semaphore>"
@"XRDeviceResourceToken"
@"DTTap"
@"DTKTraceTapConfig"
@24@0:8@16
@40@0:8@16@24@32
v24@0:8r^{XRAnalysisCoreTableBindings=}16
v32@0:8{kcdata_iter=^{kcdata_item}^v}16
{vector<std::__1::unique_ptr<xray::kpd2ac::TableBridge, std::__1::default_delete<xray::kpd2ac::TableBridge> >, std::__1::allocator<std::__1::unique_ptr<xray::kpd2ac::TableBridge, std::__1::default_delete<xray::kpd2ac::TableBridge> > > >="__begin_"^{unique_ptr<xray::kpd2ac::TableBridge, std::__1::default_delete<xray::kpd2ac::TableBridge> >}"__end_"^{unique_ptr<xray::kpd2ac::TableBridge, std::__1::default_delete<xray::kpd2ac::TableBridge> >}"__end_cap_"{__compressed_pair<std::__1::unique_ptr<xray::kpd2ac::TableBridge, std::__1::default_delete<xray::kpd2ac::TableBridge> > *, std::__1::allocator<std::__1::unique_ptr<xray::kpd2ac::TableBridge, std::__1::default_delete<xray::kpd2ac::TableBridge> > > >="__value_"^{unique_ptr<xray::kpd2ac::TableBridge, std::__1::default_delete<xray::kpd2ac::TableBridge> >}}}
{shared_ptr<xray::kpd2ac::Common>="__ptr_"^{Common}"__cntrl_"^{__shared_weak_count}}
Purged %u held records because they were too old to integrate.
PMC configuration is empty.  PMC data cannot be decoded by receiver.
PMC configuration is NULL.  PMC data cannot be decoded by receiver.
PMC configuration is bad.  PMC data cannot be decoded by receiver.
PMC configuration is an unsupported version or corrupted.  PMC data cannot be decoded by receiver.
Received a bad PMC configuration.  Cannot decode PMC data.
Failed to get counter index = %llu, pmc.count = %d.  This will only be reported once.  Counter data in Instruments is likely suspect now.
Tap agent (%@) received an unexpected visitor (%@).  Trying to recover.
